"use strict";(self.webpackChunkapp_saas=self.webpackChunkapp_saas||[]).push([[792],{771:(rt,_e,F)=>{F.d(_e,{b:()=>J});var m=F(467),e=F(5312),pe=F(540),ce=F(1626);let J=(()=>{class oe{constructor(ie){this.http=ie,this.apiUrl=`${e.c.URL_SERVICE}tracking`,this.userId=null,this.tenantId=null,this.eventBuffer=[],this.MAX_BUFFER_SIZE=100,this.sessionId=this.getOrCreateSessionId(),this.loadUserContext()}track(ie,re){const se=re?.module,ee=re?.source||this.getSource(),Ce={event:ie,properties:re||{},timestamp:(new Date).toISOString(),sessionId:this.sessionId,userId:this.userId||void 0,tenantId:this.tenantId||void 0,module:se||void 0,source:ee};this.addToBuffer(Ce),this.sendToBackend(Ce).catch(Re=>{console.warn("\u26a0\ufe0f Tracking event not sent to backend:",Re)}),e.c.production||console.log("\u{1f4ca} [Tracking]",ie,{...re,source:ee,isInternal:"admin"===ee})}pageView(ie,re){this.track("page_view",{page:ie,url:window.location.href,...re})}wizardStep(ie,re,se){this.track("wizard_step_completed",{step:ie,module:re,source:this.getSource(),...se})}previewGenerated(ie,re){this.track("preview_generated",{module:ie,source:"preview_wizard",...re})}conversionStarted(ie,re="preview"){this.track("conversion_started",{module:ie,source:re,from_preview:"preview"===re})}registrationCompleted(ie,re){this.track("registration_completed",{module:ie,tenantId:re,had_preview:this.hasPreviewInSession(ie)})}moduleActivated(ie,re){this.track("module_activated",{module:ie,...re})}identify(ie,re,se){this.userId=ie,this.tenantId=re,localStorage.setItem("tracking_user_id",ie),localStorage.setItem("tracking_tenant_id",re.toString()),this.track("user_identified",{userId:ie,tenantId:re,...se})}reset(){this.userId=null,this.tenantId=null,localStorage.removeItem("tracking_user_id"),localStorage.removeItem("tracking_tenant_id")}getLocalEvents(ie){return ie?this.eventBuffer.filter(re=>re.event===ie):[...this.eventBuffer]}getFunnelMetrics(ie){const se=this.getLocalEvents().filter(ee=>ee.properties?.module===ie);return{wizardStarted:se.some(ee=>"wizard_step_completed"===ee.event),stepsCompleted:se.filter(ee=>"wizard_step_completed"===ee.event).map(ee=>ee.properties?.step).filter((ee,Ce,Re)=>Re.indexOf(ee)===Ce),previewGenerated:se.some(ee=>"preview_generated"===ee.event),conversionStarted:se.some(ee=>"conversion_started"===ee.event),registrationCompleted:se.some(ee=>"registration_completed"===ee.event)}}getOrCreateSessionId(){let ie=sessionStorage.getItem("tracking_session_id");return ie||(ie=this.generateSessionId(),sessionStorage.setItem("tracking_session_id",ie)),ie}generateSessionId(){return`sess_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}trackMonetizationIntent(ie){this.track("monetization_intent_clicked",{...ie}),console.log("\u{1f4b0} Monetization intent tracked:",ie)}trackProEmailSubmitted(ie){const re=this.simpleHash(ie.email);this.track("pro_email_submitted",{email_hash:re,email_domain:ie.email.split("@")[1],module:ie.module,source:ie.source,offer:ie.offer}),console.log("\u{1f4e7} Pro email submitted:",{email_domain:ie.email.split("@")[1],module:ie.module})}trackProModalDismissed(ie){this.track("pro_modal_dismissed",{module:ie.module,reason:ie.reason||"unknown",time_spent:ie.time_spent})}simpleHash(ie){let re=2166136261;for(let se=0;se<ie.length;se++)re^=ie.charCodeAt(se),re+=(re<<1)+(re<<4)+(re<<7)+(re<<8)+(re<<24);return(re>>>0).toString(16)}loadUserContext(){const ie=localStorage.getItem("tracking_user_id"),re=localStorage.getItem("tracking_tenant_id");ie&&(this.userId=ie),re&&(this.tenantId=parseInt(re,10))}getSource(){const ie=window.location.pathname;return"true"===new URLSearchParams(window.location.search).get("internal")?"admin":ie.includes("/preview/")?"preview":ie.includes("/onboarding")?"onboarding":ie.includes("/mailflow")?"dashboard":"preview"}hasPreviewInSession(ie){return!!sessionStorage.getItem(`${ie}_preview`)}addToBuffer(ie){this.eventBuffer.push(ie),this.eventBuffer.length>this.MAX_BUFFER_SIZE&&this.eventBuffer.shift();try{localStorage.setItem("tracking_events",JSON.stringify(this.eventBuffer))}catch{console.warn("\u26a0\ufe0f Could not save tracking events to localStorage")}}sendToBackend(ie){var re=this;return(0,m.A)(function*(){try{yield re.http.post(`${re.apiUrl}/events`,ie,{headers:{"Content-Type":"application/json"}}).toPromise()}catch(se){throw se}})()}static{this.\u0275fac=function(re){return new(re||oe)(pe.KVO(ce.Qq))}}static{this.\u0275prov=pe.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})()},5312:(rt,_e,F)=>{F.d(_e,{c:()=>m});const m={production:!0,URL_SERVICE:"https://api.lujandev.com/api/",API_URL:"https://api.lujandev.com/api",ADMIN_URL:"https://admin.lujandev.com",TIENDA_URL:"https://tienda.lujandev.com",APP_URL:"https://app.lujandev.com",stripePublicKey:"pk_live_51PtUUBChg0ofSaFLNlrWqGCFgjdIshjSZNgx8QHEyJw6iXayFEeRog9yA74eSplm67AmDdt4Li2qsU0trAjcdkNo00lETaDpUZ"}},219:(rt,_e,F)=>{var m=F(345),e=F(540);class pe{}class ce{}const J="*";function oe(u,l){return{type:7,name:u,definitions:l,options:{}}}function me(u,l=null){return{type:4,styles:l,timings:u}}function re(u,l=null){return{type:2,steps:u,options:l}}function se(u){return{type:6,styles:u,offset:null}}function Re(u,l,i=null){return{type:1,expr:u,animation:l,options:i}}class Lt{constructor(l=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=l+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(l){this._position=this.totalTime?l*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(l){const i="start"==l?this._onStartFns:this._onDoneFns;i.forEach(c=>c()),i.length=0}}class Qt{constructor(l){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=l;let i=0,c=0,d=0;const P=this.players.length;0==P?queueMicrotask(()=>this._onFinish()):this.players.forEach(A=>{A.onDone(()=>{++i==P&&this._onFinish()}),A.onDestroy(()=>{++c==P&&this._onDestroy()}),A.onStart(()=>{++d==P&&this._onStart()})}),this.totalTime=this.players.reduce((A,$)=>Math.max(A,$.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this.players.forEach(l=>l.init())}onStart(l){this._onStartFns.push(l)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(l=>l()),this._onStartFns=[])}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(l=>l.play())}pause(){this.players.forEach(l=>l.pause())}restart(){this.players.forEach(l=>l.restart())}finish(){this._onFinish(),this.players.forEach(l=>l.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(l=>l.destroy()),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this.players.forEach(l=>l.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(l){const i=l*this.totalTime;this.players.forEach(c=>{const d=c.totalTime?Math.min(1,i/c.totalTime):1;c.setPosition(d)})}getPosition(){const l=this.players.reduce((i,c)=>null===i||c.totalTime>i.totalTime?c:i,null);return null!=l?l.getPosition():0}beforeDestroy(){this.players.forEach(l=>{l.beforeDestroy&&l.beforeDestroy()})}triggerCallback(l){const i="start"==l?this._onStartFns:this._onDoneFns;i.forEach(c=>c()),i.length=0}}function je(u){return new e.wOt(3e3,!1)}function dt(u){switch(u.length){case 0:return new Lt;case 1:return u[0];default:return new Qt(u)}}function it(u,l,i=new Map,c=new Map){const d=[],P=[];let A=-1,$=null;if(l.forEach(K=>{const ue=K.get("offset"),Ue=ue==A,Ge=Ue&&$||new Map;K.forEach((zt,kt)=>{let pt=kt,Pt=zt;if("offset"!==kt)switch(pt=u.normalizePropertyName(pt,d),Pt){case"!":Pt=i.get(kt);break;case J:Pt=c.get(kt);break;default:Pt=u.normalizeStyleValue(kt,pt,Pt,d)}Ge.set(pt,Pt)}),Ue||P.push(Ge),$=Ge,A=ue}),d.length)throw function at(u){return new e.wOt(3502,!1)}();return P}function Ir(u,l,i,c){switch(l){case"start":u.onStart(()=>c(i&&Wn(i,"start",u)));break;case"done":u.onDone(()=>c(i&&Wn(i,"done",u)));break;case"destroy":u.onDestroy(()=>c(i&&Wn(i,"destroy",u)))}}function Wn(u,l,i){const P=vn(u.element,u.triggerName,u.fromState,u.toState,l||u.phaseName,i.totalTime??u.totalTime,!!i.disabled),A=u._data;return null!=A&&(P._data=A),P}function vn(u,l,i,c,d="",P=0,A){return{element:u,triggerName:l,fromState:i,toState:c,phaseName:d,totalTime:P,disabled:!!A}}function on(u,l,i){let c=u.get(l);return c||u.set(l,c=i),c}function pn(u){const l=u.indexOf(":");return[u.substring(1,l),u.slice(l+1)]}const bi=(()=>typeof document>"u"?null:document.documentElement)();function en(u){const l=u.parentNode||u.host||null;return l===bi?null:l}let ze=null,qr=!1;function Mt(u,l){for(;l;){if(l===u)return!0;l=en(l)}return!1}function xt(u,l,i){if(i)return Array.from(u.querySelectorAll(l));const c=u.querySelector(l);return c?[c]:[]}let yr=(()=>{class u{validateStyleProperty(i){return function Qr(u){ze||(ze=function dr(){return typeof document<"u"?document.body:null}()||{},qr=!!ze.style&&"WebkitAppearance"in ze.style);let l=!0;return ze.style&&!function Yi(u){return"ebkit"==u.substring(1,6)}(u)&&(l=u in ze.style,!l&&qr&&(l="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in ze.style)),l}(i)}matchesElement(i,c){return!1}containsElement(i,c){return Mt(i,c)}getParentElement(i){return en(i)}query(i,c,d){return xt(i,c,d)}computeStyle(i,c,d){return d||""}animate(i,c,d,P,A,$=[],K){return new Lt(d,P)}static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})(),vt=(()=>{class u{static{this.NOOP=new yr}}return u})();const rr=1e3,fr="ng-enter",le="ng-leave",X="ng-trigger",V=".ng-trigger",G="ng-animating",he=".ng-animating";function Fe(u){if("number"==typeof u)return u;const l=u.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Qe(parseFloat(l[1]),l[2])}function Qe(u,l){return"s"===l?u*rr:u}function Dt(u,l,i){return u.hasOwnProperty("duration")?u:function Nt(u,l,i){let d,P=0,A="";if("string"==typeof u){const $=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===$)return l.push(je()),{duration:0,delay:0,easing:""};d=Qe(parseFloat($[1]),$[2]);const K=$[3];null!=K&&(P=Qe(parseFloat(K),$[4]));const ue=$[5];ue&&(A=ue)}else d=u;if(!i){let $=!1,K=l.length;d<0&&(l.push(function tt(){return new e.wOt(3100,!1)}()),$=!0),P<0&&(l.push(function ke(){return new e.wOt(3101,!1)}()),$=!0),$&&l.splice(K,0,je())}return{duration:d,delay:P,easing:A}}(u,l,i)}function tn(u,l={}){return Object.keys(u).forEach(i=>{l[i]=u[i]}),l}function Kn(u){const l=new Map;return Object.keys(u).forEach(i=>{l.set(i,u[i])}),l}function L(u,l=new Map,i){if(i)for(let[c,d]of i)l.set(c,d);for(let[c,d]of u)l.set(c,d);return l}function B(u,l,i){l.forEach((c,d)=>{const P=yn(d);i&&!i.has(d)&&i.set(d,u.style[P]),u.style[P]=c})}function de(u,l){l.forEach((i,c)=>{const d=yn(c);u.style[d]=""})}function De(u){return Array.isArray(u)?1==u.length?u[0]:re(u):u}const Ie=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ht(u){let l=[];if("string"==typeof u){let i;for(;i=Ie.exec(u);)l.push(i[1]);Ie.lastIndex=0}return l}function Ae(u,l,i){const c=u.toString(),d=c.replace(Ie,(P,A)=>{let $=l[A];return null==$&&(i.push(function Ee(u){return new e.wOt(3003,!1)}()),$=""),$.toString()});return d==c?u:d}function fn(u){const l=[];let i=u.next();for(;!i.done;)l.push(i.value),i=u.next();return l}const Tn=/-+([a-z0-9])/g;function yn(u){return u.replace(Tn,(...l)=>l[1].toUpperCase())}function ct(u,l,i){switch(l.type){case 7:return u.visitTrigger(l,i);case 0:return u.visitState(l,i);case 1:return u.visitTransition(l,i);case 2:return u.visitSequence(l,i);case 3:return u.visitGroup(l,i);case 4:return u.visitAnimate(l,i);case 5:return u.visitKeyframes(l,i);case 6:return u.visitStyle(l,i);case 8:return u.visitReference(l,i);case 9:return u.visitAnimateChild(l,i);case 10:return u.visitAnimateRef(l,i);case 11:return u.visitQuery(l,i);case 12:return u.visitStagger(l,i);default:throw function nt(u){return new e.wOt(3004,!1)}()}}function $t(u,l){return window.getComputedStyle(u)[l]}const Vr="*";function Cr(u,l){const i=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(c=>function Lr(u,l,i){if(":"==u[0]){const K=function qi(u,l){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,c)=>parseFloat(c)>parseFloat(i);case":decrement":return(i,c)=>parseFloat(c)<parseFloat(i);default:return l.push(function we(u){return new e.wOt(3016,!1)}()),"* => *"}}(u,i);if("function"==typeof K)return void l.push(K);u=K}const c=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return i.push(function Pe(u){return new e.wOt(3015,!1)}()),l;const d=c[1],P=c[2],A=c[3];l.push(Li(d,A));"<"==P[0]&&!(d==Vr&&A==Vr)&&l.push(Li(A,d))}(c,i,l)):i.push(u),i}const Qn=new Set(["true","1"]),$r=new Set(["false","0"]);function Li(u,l){const i=Qn.has(u)||$r.has(u),c=Qn.has(l)||$r.has(l);return(d,P)=>{let A=u==Vr||u==d,$=l==Vr||l==P;return!A&&i&&"boolean"==typeof d&&(A=d?Qn.has(u):$r.has(u)),!$&&c&&"boolean"==typeof P&&($=P?Qn.has(l):$r.has(l)),A&&$}}const Jn=new RegExp("s*:selfs*,?","g");function Er(u,l,i,c){return new Ur(u).build(l,i,c)}class Ur{constructor(l){this._driver=l}build(l,i,c){const d=new vo(i);return this._resetContextStyleTimingState(d),ct(this,De(l),d)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,i){let c=i.queryCount=0,d=i.depCount=0;const P=[],A=[];return"@"==l.name.charAt(0)&&i.errors.push(function Mn(){return new e.wOt(3006,!1)}()),l.definitions.forEach($=>{if(this._resetContextStyleTimingState(i),0==$.type){const K=$,ue=K.name;ue.toString().split(/\s*,\s*/).forEach(Ue=>{K.name=Ue,P.push(this.visitState(K,i))}),K.name=ue}else if(1==$.type){const K=this.visitTransition($,i);c+=K.queryCount,d+=K.depCount,A.push(K)}else i.errors.push(function Hn(){return new e.wOt(3007,!1)}())}),{type:7,name:l.name,states:P,transitions:A,queryCount:c,depCount:d,options:null}}visitState(l,i){const c=this.visitStyle(l.styles,i),d=l.options&&l.options.params||null;if(c.containsDynamicStyles){const P=new Set,A=d||{};c.styles.forEach($=>{$ instanceof Map&&$.forEach(K=>{Ht(K).forEach(ue=>{A.hasOwnProperty(ue)||P.add(ue)})})}),P.size&&(fn(P.values()),i.errors.push(function Te(u,l){return new e.wOt(3008,!1)}()))}return{type:0,name:l.name,style:c,options:d?{params:d}:null}}visitTransition(l,i){i.queryCount=0,i.depCount=0;const c=ct(this,De(l.animation),i);return{type:1,matchers:Cr(l.expr,i.errors),animation:c,queryCount:i.queryCount,depCount:i.depCount,options:Br(l.options)}}visitSequence(l,i){return{type:2,steps:l.steps.map(c=>ct(this,c,i)),options:Br(l.options)}}visitGroup(l,i){const c=i.currentTime;let d=0;const P=l.steps.map(A=>{i.currentTime=c;const $=ct(this,A,i);return d=Math.max(d,i.currentTime),$});return i.currentTime=d,{type:3,steps:P,options:Br(l.options)}}visitAnimate(l,i){const c=function ns(u,l){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return yo(Dt(u,l).duration,0,"");const i=u;if(i.split(/\s+/).some(P=>"{"==P.charAt(0)&&"{"==P.charAt(1))){const P=yo(0,0,"");return P.dynamic=!0,P.strValue=i,P}const d=Dt(i,l);return yo(d.duration,d.delay,d.easing)}(l.timings,i.errors);i.currentAnimateTimings=c;let d,P=l.styles?l.styles:se({});if(5==P.type)d=this.visitKeyframes(P,i);else{let A=l.styles,$=!1;if(!A){$=!0;const ue={};c.easing&&(ue.easing=c.easing),A=se(ue)}i.currentTime+=c.duration+c.delay;const K=this.visitStyle(A,i);K.isEmptyStep=$,d=K}return i.currentAnimateTimings=null,{type:4,timings:c,style:d,options:null}}visitStyle(l,i){const c=this._makeStyleAst(l,i);return this._validateStyleAst(c,i),c}_makeStyleAst(l,i){const c=[],d=Array.isArray(l.styles)?l.styles:[l.styles];for(let $ of d)"string"==typeof $?$===J?c.push($):i.errors.push(new e.wOt(3002,!1)):c.push(Kn($));let P=!1,A=null;return c.forEach($=>{if($ instanceof Map&&($.has("easing")&&(A=$.get("easing"),$.delete("easing")),!P))for(let K of $.values())if(K.toString().indexOf("{{")>=0){P=!0;break}}),{type:6,styles:c,easing:A,offset:l.offset,containsDynamicStyles:P,options:null}}_validateStyleAst(l,i){const c=i.currentAnimateTimings;let d=i.currentTime,P=i.currentTime;c&&P>0&&(P-=c.duration+c.delay),l.styles.forEach(A=>{"string"!=typeof A&&A.forEach(($,K)=>{const ue=i.collectedStyles.get(i.currentQuerySelector),Ue=ue.get(K);let Ge=!0;Ue&&(P!=d&&P>=Ue.startTime&&d<=Ue.endTime&&(i.errors.push(function ut(u,l,i,c,d){return new e.wOt(3010,!1)}()),Ge=!1),P=Ue.startTime),Ge&&ue.set(K,{startTime:P,endTime:d}),i.options&&function Le(u,l,i){const c=l.params||{},d=Ht(u);d.length&&d.forEach(P=>{c.hasOwnProperty(P)||i.push(function Oe(u){return new e.wOt(3001,!1)}())})}($,i.options,i.errors)})})}visitKeyframes(l,i){const c={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function $n(){return new e.wOt(3011,!1)}()),c;let P=0;const A=[];let $=!1,K=!1,ue=0;const Ue=l.steps.map(cr=>{const cn=this._makeStyleAst(cr,i);let Sr=null!=cn.offset?cn.offset:function wr(u){if("string"==typeof u)return null;let l=null;if(Array.isArray(u))u.forEach(i=>{if(i instanceof Map&&i.has("offset")){const c=i;l=parseFloat(c.get("offset")),c.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const i=u;l=parseFloat(i.get("offset")),i.delete("offset")}return l}(cn.styles),mr=0;return null!=Sr&&(P++,mr=cn.offset=Sr),K=K||mr<0||mr>1,$=$||mr<ue,ue=mr,A.push(mr),cn});K&&i.errors.push(function Kr(){return new e.wOt(3012,!1)}()),$&&i.errors.push(function Y(){return new e.wOt(3200,!1)}());const Ge=l.steps.length;let zt=0;P>0&&P<Ge?i.errors.push(function Z(){return new e.wOt(3202,!1)}()):0==P&&(zt=1/(Ge-1));const kt=Ge-1,pt=i.currentTime,Pt=i.currentAnimateTimings,xn=Pt.duration;return Ue.forEach((cr,cn)=>{const Sr=zt>0?cn==kt?1:zt*cn:A[cn],mr=Sr*xn;i.currentTime=pt+Pt.delay+mr,Pt.duration=mr,this._validateStyleAst(cr,i),cr.offset=Sr,c.styles.push(cr)}),c}visitReference(l,i){return{type:8,animation:ct(this,De(l.animation),i),options:Br(l.options)}}visitAnimateChild(l,i){return i.depCount++,{type:9,options:Br(l.options)}}visitAnimateRef(l,i){return{type:10,animation:this.visitReference(l.animation,i),options:Br(l.options)}}visitQuery(l,i){const c=i.currentQuerySelector,d=l.options||{};i.queryCount++,i.currentQuery=l;const[P,A]=function Ji(u){const l=!!u.split(/\s*,\s*/).find(i=>":self"==i);return l&&(u=u.replace(Jn,"")),u=u.replace(/@\*/g,V).replace(/@\w+/g,i=>V+"-"+i.slice(1)).replace(/:animating/g,he),[u,l]}(l.selector);i.currentQuerySelector=c.length?c+" "+P:P,on(i.collectedStyles,i.currentQuerySelector,new Map);const $=ct(this,De(l.animation),i);return i.currentQuery=null,i.currentQuerySelector=c,{type:11,selector:P,limit:d.limit||0,optional:!!d.optional,includeSelf:A,animation:$,originalSelector:l.selector,options:Br(l.options)}}visitStagger(l,i){i.currentQuery||i.errors.push(function Q(){return new e.wOt(3013,!1)}());const c="full"===l.timings?{duration:0,delay:0,easing:"full"}:Dt(l.timings,i.errors,!0);return{type:12,animation:ct(this,De(l.animation),i),timings:c,options:null}}}class vo{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Br(u){return u?(u=tn(u)).params&&(u.params=function Bn(u){return u?tn(u):null}(u.params)):u={},u}function yo(u,l,i){return{duration:u,delay:l,easing:i}}function Zi(u,l,i,c,d,P,A=null,$=!1){return{type:1,element:u,keyframes:l,preStyleProps:i,postStyleProps:c,duration:d,delay:P,totalTime:d+P,easing:A,subTimeline:$}}class wi{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,i){let c=this._map.get(l);c||this._map.set(l,c=[]),c.push(...i)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Ro=new RegExp(":enter","g"),vs=new RegExp(":leave","g");function li(u,l,i,c,d,P=new Map,A=new Map,$,K,ue=[]){return(new Co).buildKeyframes(u,l,i,c,d,P,A,$,K,ue)}class Co{buildKeyframes(l,i,c,d,P,A,$,K,ue,Ue=[]){ue=ue||new wi;const Ge=new No(l,i,ue,d,P,Ue,[]);Ge.options=K;const zt=K.delay?Fe(K.delay):0;Ge.currentTimeline.delayNextStep(zt),Ge.currentTimeline.setStyles([A],null,Ge.errors,K),ct(this,c,Ge);const kt=Ge.timelines.filter(pt=>pt.containsAnimation());if(kt.length&&$.size){let pt;for(let Pt=kt.length-1;Pt>=0;Pt--){const xn=kt[Pt];if(xn.element===i){pt=xn;break}}pt&&!pt.allowOnlyTimelineStyles()&&pt.setStyles([$],null,Ge.errors,K)}return kt.length?kt.map(pt=>pt.buildKeyframes()):[Zi(i,[],[],[],0,zt,"",!1)]}visitTrigger(l,i){}visitState(l,i){}visitTransition(l,i){}visitAnimateChild(l,i){const c=i.subInstructions.get(i.element);if(c){const d=i.createSubContext(l.options),P=i.currentTimeline.currentTime,A=this._visitSubInstructions(c,d,d.options);P!=A&&i.transformIntoNewTimeline(A)}i.previousNode=l}visitAnimateRef(l,i){const c=i.createSubContext(l.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],i,c),this.visitReference(l.animation,c),i.transformIntoNewTimeline(c.currentTimeline.currentTime),i.previousNode=l}_applyAnimationRefDelays(l,i,c){for(const d of l){const P=d?.delay;if(P){const A="number"==typeof P?P:Fe(Ae(P,d?.params??{},i.errors));c.delayNextStep(A)}}}_visitSubInstructions(l,i,c){let P=i.currentTimeline.currentTime;const A=null!=c.duration?Fe(c.duration):null,$=null!=c.delay?Fe(c.delay):null;return 0!==A&&l.forEach(K=>{const ue=i.appendInstructionToTimeline(K,A,$);P=Math.max(P,ue.duration+ue.delay)}),P}visitReference(l,i){i.updateOptions(l.options,!0),ct(this,l.animation,i),i.previousNode=l}visitSequence(l,i){const c=i.subContextCount;let d=i;const P=l.options;if(P&&(P.params||P.delay)&&(d=i.createSubContext(P),d.transformIntoNewTimeline(),null!=P.delay)){6==d.previousNode.type&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Zr);const A=Fe(P.delay);d.delayNextStep(A)}l.steps.length&&(l.steps.forEach(A=>ct(this,A,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>c&&d.transformIntoNewTimeline()),i.previousNode=l}visitGroup(l,i){const c=[];let d=i.currentTimeline.currentTime;const P=l.options&&l.options.delay?Fe(l.options.delay):0;l.steps.forEach(A=>{const $=i.createSubContext(l.options);P&&$.delayNextStep(P),ct(this,A,$),d=Math.max(d,$.currentTimeline.currentTime),c.push($.currentTimeline)}),c.forEach(A=>i.currentTimeline.mergeTimelineCollectedStyles(A)),i.transformIntoNewTimeline(d),i.previousNode=l}_visitTiming(l,i){if(l.dynamic){const c=l.strValue;return Dt(i.params?Ae(c,i.params,i.errors):c,i.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,i){const c=i.currentAnimateTimings=this._visitTiming(l.timings,i),d=i.currentTimeline;c.delay&&(i.incrementTime(c.delay),d.snapshotCurrentStyles());const P=l.style;5==P.type?this.visitKeyframes(P,i):(i.incrementTime(c.duration),this.visitStyle(P,i),d.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=l}visitStyle(l,i){const c=i.currentTimeline,d=i.currentAnimateTimings;!d&&c.hasCurrentStyleProperties()&&c.forwardFrame();const P=d&&d.easing||l.easing;l.isEmptyStep?c.applyEmptyStep(P):c.setStyles(l.styles,P,i.errors,i.options),i.previousNode=l}visitKeyframes(l,i){const c=i.currentAnimateTimings,d=i.currentTimeline.duration,P=c.duration,$=i.createSubContext().currentTimeline;$.easing=c.easing,l.styles.forEach(K=>{$.forwardTime((K.offset||0)*P),$.setStyles(K.styles,K.easing,i.errors,i.options),$.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles($),i.transformIntoNewTimeline(d+P),i.previousNode=l}visitQuery(l,i){const c=i.currentTimeline.currentTime,d=l.options||{},P=d.delay?Fe(d.delay):0;P&&(6===i.previousNode.type||0==c&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Zr);let A=c;const $=i.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!d.optional,i.errors);i.currentQueryTotal=$.length;let K=null;$.forEach((ue,Ue)=>{i.currentQueryIndex=Ue;const Ge=i.createSubContext(l.options,ue);P&&Ge.delayNextStep(P),ue===i.element&&(K=Ge.currentTimeline),ct(this,l.animation,Ge),Ge.currentTimeline.applyStylesToKeyframe(),A=Math.max(A,Ge.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(A),K&&(i.currentTimeline.mergeTimelineCollectedStyles(K),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=l}visitStagger(l,i){const c=i.parentContext,d=i.currentTimeline,P=l.timings,A=Math.abs(P.duration),$=A*(i.currentQueryTotal-1);let K=A*i.currentQueryIndex;switch(P.duration<0?"reverse":P.easing){case"reverse":K=$-K;break;case"full":K=c.currentStaggerTime}const Ue=i.currentTimeline;K&&Ue.delayNextStep(K);const Ge=Ue.currentTime;ct(this,l.animation,i),i.previousNode=l,c.currentStaggerTime=d.currentTime-Ge+(d.startTime-c.currentTimeline.startTime)}}const Zr={};class No{constructor(l,i,c,d,P,A,$,K){this._driver=l,this.element=i,this.subInstructions=c,this._enterClassName=d,this._leaveClassName=P,this.errors=A,this.timelines=$,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=K||new ui(this._driver,i,0),$.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,i){if(!l)return;const c=l;let d=this.options;null!=c.duration&&(d.duration=Fe(c.duration)),null!=c.delay&&(d.delay=Fe(c.delay));const P=c.params;if(P){let A=d.params;A||(A=this.options.params={}),Object.keys(P).forEach($=>{(!i||!A.hasOwnProperty($))&&(A[$]=Ae(P[$],A,this.errors))})}}_copyOptions(){const l={};if(this.options){const i=this.options.params;if(i){const c=l.params={};Object.keys(i).forEach(d=>{c[d]=i[d]})}}return l}createSubContext(l=null,i,c){const d=i||this.element,P=new No(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,c||0));return P.previousNode=this.previousNode,P.currentAnimateTimings=this.currentAnimateTimings,P.options=this._copyOptions(),P.updateOptions(l),P.currentQueryIndex=this.currentQueryIndex,P.currentQueryTotal=this.currentQueryTotal,P.parentContext=this,this.subContextCount++,P}transformIntoNewTimeline(l){return this.previousNode=Zr,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,i,c){const d={duration:i??l.duration,delay:this.currentTimeline.currentTime+(c??0)+l.delay,easing:""},P=new di(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,d,l.stretchStartingKeyframe);return this.timelines.push(P),d}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,i,c,d,P,A){let $=[];if(d&&$.push(this.element),l.length>0){l=(l=l.replace(Ro,"."+this._enterClassName)).replace(vs,"."+this._leaveClassName);let ue=this._driver.query(this.element,l,1!=c);0!==c&&(ue=c<0?ue.slice(ue.length+c,ue.length):ue.slice(0,c)),$.push(...ue)}return!P&&0==$.length&&A.push(function ae(u){return new e.wOt(3014,!1)}()),$}}class ui{constructor(l,i,c,d){this._driver=l,this.element=i,this.startTime=c,this._elementTimelineStylesLookup=d,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+l),i&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,i){return this.applyStylesToKeyframe(),new ui(this._driver,l,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,i){this._localTimelineStyles.set(l,i),this._globalTimelineStyles.set(l,i),this._styleSummary.set(l,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[i,c]of this._globalTimelineStyles)this._backFill.set(i,c||J),this._currentKeyframe.set(i,J);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,i,c,d){i&&this._previousKeyframe.set("easing",i);const P=d&&d.params||{},A=function Mi(u,l){const i=new Map;let c;return u.forEach(d=>{if("*"===d){c=c||l.keys();for(let P of c)i.set(P,J)}else L(d,i)}),i}(l,this._globalTimelineStyles);for(let[$,K]of A){const ue=Ae(K,P,c);this._pendingStyles.set($,ue),this._localTimelineStyles.has($)||this._backFill.set($,this._globalTimelineStyles.get($)??J),this._updateStyle($,ue)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,i)=>{this._currentKeyframe.set(i,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,l)}))}snapshotCurrentStyles(){for(let[l,i]of this._localTimelineStyles)this._pendingStyles.set(l,i),this._updateStyle(l,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let i in this._currentKeyframe)l.push(i);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((i,c)=>{const d=this._styleSummary.get(c);(!d||i.time>d.time)&&this._updateStyle(c,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,i=new Set,c=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach(($,K)=>{const ue=L($,new Map,this._backFill);ue.forEach((Ue,Ge)=>{"!"===Ue?l.add(Ge):Ue===J&&i.add(Ge)}),c||ue.set("offset",K/this.duration),d.push(ue)});const P=l.size?fn(l.values()):[],A=i.size?fn(i.values()):[];if(c){const $=d[0],K=new Map($);$.set("offset",0),K.set("offset",1),d=[$,K]}return Zi(this.element,d,P,A,this.duration,this.startTime,this.easing,!1)}}class di extends ui{constructor(l,i,c,d,P,A,$=!1){super(l,i,A.delay),this.keyframes=c,this.preStyleProps=d,this.postStyleProps=P,this._stretchStartingKeyframe=$,this.timings={duration:A.duration,delay:A.delay,easing:A.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:i,duration:c,easing:d}=this.timings;if(this._stretchStartingKeyframe&&i){const P=[],A=c+i,$=i/A,K=L(l[0]);K.set("offset",0),P.push(K);const ue=L(l[0]);ue.set("offset",eo($)),P.push(ue);const Ue=l.length-1;for(let Ge=1;Ge<=Ue;Ge++){let zt=L(l[Ge]);const kt=zt.get("offset");zt.set("offset",eo((i+kt*c)/A)),P.push(zt)}c=A,i=0,d="",l=P}return Zi(this.element,l,this.preStyleProps,this.postStyleProps,c,i,d,!0)}}function eo(u,l=3){const i=Math.pow(10,l-1);return Math.round(u*i)/i}class ft{}const En=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zr extends ft{normalizePropertyName(l,i){return yn(l)}normalizeStyleValue(l,i,c,d){let P="";const A=c.toString().trim();if(En.has(i)&&0!==c&&"0"!==c)if("number"==typeof c)P="px";else{const $=c.match(/^[+-]?[\d\.]+([a-z]*)$/);$&&0==$[1].length&&d.push(function Gt(u,l){return new e.wOt(3005,!1)}())}return A+P}}function Fn(u,l,i,c,d,P,A,$,K,ue,Ue,Ge,zt){return{type:0,element:u,triggerName:l,isRemovalTransition:d,fromState:i,fromStyles:P,toState:c,toStyles:A,timelines:$,queriedElements:K,preStyleProps:ue,postStyleProps:Ue,totalTime:Ge,errors:zt}}const xr={};class to{constructor(l,i,c){this._triggerName=l,this.ast=i,this._stateStyles=c}match(l,i,c,d){return function no(u,l,i,c,d){return u.some(P=>P(l,i,c,d))}(this.ast.matchers,l,i,c,d)}buildStyles(l,i,c){let d=this._stateStyles.get("*");return void 0!==l&&(d=this._stateStyles.get(l?.toString())||d),d?d.buildStyles(i,c):new Map}build(l,i,c,d,P,A,$,K,ue,Ue){const Ge=[],zt=this.ast.options&&this.ast.options.params||xr,pt=this.buildStyles(c,$&&$.params||xr,Ge),Pt=K&&K.params||xr,xn=this.buildStyles(d,Pt,Ge),cr=new Set,cn=new Map,Sr=new Map,mr="void"===d,Xo={params:wo(Pt,zt),delay:this.ast.options?.delay},wn=Ue?[]:li(l,i,this.ast.animation,P,A,pt,xn,Xo,ue,Ge);let lr=0;if(wn.forEach(ho=>{lr=Math.max(ho.duration+ho.delay,lr)}),Ge.length)return Fn(i,this._triggerName,c,d,mr,pt,xn,[],[],cn,Sr,lr,Ge);wn.forEach(ho=>{const xo=ho.element,Jc=on(cn,xo,new Set);ho.preStyleProps.forEach(Ko=>Jc.add(Ko));const la=on(Sr,xo,new Set);ho.postStyleProps.forEach(Ko=>la.add(Ko)),xo!==i&&cr.add(xo)});const po=fn(cr.values());return Fn(i,this._triggerName,c,d,mr,pt,xn,wn,po,cn,Sr,lr)}}function wo(u,l){const i=tn(l);for(const c in u)u.hasOwnProperty(c)&&null!=u[c]&&(i[c]=u[c]);return i}class ln{constructor(l,i,c){this.styles=l,this.defaultParams=i,this.normalizer=c}buildStyles(l,i){const c=new Map,d=tn(this.defaultParams);return Object.keys(l).forEach(P=>{const A=l[P];null!==A&&(d[P]=A)}),this.styles.styles.forEach(P=>{"string"!=typeof P&&P.forEach((A,$)=>{A&&(A=Ae(A,d,i));const K=this.normalizer.normalizePropertyName($,i);A=this.normalizer.normalizeStyleValue($,K,A,i),c.set($,A)})}),c}}class mt{constructor(l,i,c){this.name=l,this.ast=i,this._normalizer=c,this.transitionFactories=[],this.states=new Map,i.states.forEach(d=>{this.states.set(d.name,new ln(d.style,d.options&&d.options.params||{},c))}),Zn(this.states,"true","1"),Zn(this.states,"false","0"),i.transitions.forEach(d=>{this.transitionFactories.push(new to(l,d,this.states))}),this.fallbackTransition=function sn(u,l,i){return new to(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(A,$)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,i,c,d){return this.transitionFactories.find(A=>A.match(l,i,c,d))||null}matchStyles(l,i,c){return this.fallbackTransition.buildStyles(l,i,c)}}function Zn(u,l,i){u.has(l)?u.has(i)||u.set(i,u.get(l)):u.has(i)&&u.set(l,u.get(i))}const ro=new wi;class Sn{constructor(l,i,c){this.bodyNode=l,this._driver=i,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,i){const c=[],P=Er(this._driver,i,c,[]);if(c.length)throw function Rt(u){return new e.wOt(3503,!1)}();this._animations.set(l,P)}_buildPlayer(l,i,c){const d=l.element,P=it(this._normalizer,l.keyframes,i,c);return this._driver.animate(d,P,l.duration,l.delay,l.easing,[],!0)}create(l,i,c={}){const d=[],P=this._animations.get(l);let A;const $=new Map;if(P?(A=li(this._driver,i,P,fr,le,new Map,new Map,c,ro,d),A.forEach(Ue=>{const Ge=on($,Ue.element,new Map);Ue.postStyleProps.forEach(zt=>Ge.set(zt,null))})):(d.push(function Jt(){return new e.wOt(3300,!1)}()),A=[]),d.length)throw function ur(u){return new e.wOt(3504,!1)}();$.forEach((Ue,Ge)=>{Ue.forEach((zt,kt)=>{Ue.set(kt,this._driver.computeStyle(Ge,kt,J))})});const ue=dt(A.map(Ue=>{const Ge=$.get(Ue.element);return this._buildPlayer(Ue,new Map,Ge)}));return this._playersById.set(l,ue),ue.onDestroy(()=>this.destroy(l)),this.players.push(ue),ue}destroy(l){const i=this._getPlayer(l);i.destroy(),this._playersById.delete(l);const c=this.players.indexOf(i);c>=0&&this.players.splice(c,1)}_getPlayer(l){const i=this._playersById.get(l);if(!i)throw function _t(u){return new e.wOt(3301,!1)}();return i}listen(l,i,c,d){const P=vn(i,"","","");return Ir(this._getPlayer(l),c,P,d),()=>{}}command(l,i,c,d){if("register"==c)return void this.register(l,d[0]);if("create"==c)return void this.create(l,i,d[0]||{});const P=this._getPlayer(l);switch(c){case"play":P.play();break;case"pause":P.pause();break;case"reset":P.reset();break;case"restart":P.restart();break;case"finish":P.finish();break;case"init":P.init();break;case"setPosition":P.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(l)}}}const kr="ng-animate-queued",er="ng-animate-disabled",Mo=[],ei={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rn="__ng_removed";class hr{get params(){return this.options.params}constructor(l,i=""){this.namespaceId=i;const c=l&&l.hasOwnProperty("value");if(this.value=function io(u){return u??null}(c?l.value:l),c){const P=tn(l);delete P.value,this.options=P}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const i=l.params;if(i){const c=this.options.params;Object.keys(i).forEach(d=>{null==c[d]&&(c[d]=i[d])})}}}const Nn="void",Pi=new hr(Nn);class is{constructor(l,i,c){this.id=l,this.hostElement=i,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,On(i,this._hostClassName)}listen(l,i,c,d){if(!this._triggers.has(i))throw function _n(u,l){return new e.wOt(3302,!1)}();if(null==c||0==c.length)throw function Yt(u){return new e.wOt(3303,!1)}();if(!function ys(u){return"start"==u||"done"==u}(c))throw function Ye(u,l){return new e.wOt(3400,!1)}();const P=on(this._elementListeners,l,[]),A={name:i,phase:c,callback:d};P.push(A);const $=on(this._engine.statesByElement,l,new Map);return $.has(i)||(On(l,X),On(l,X+"-"+i),$.set(i,Pi)),()=>{this._engine.afterFlush(()=>{const K=P.indexOf(A);K>=0&&P.splice(K,1),this._triggers.has(i)||$.delete(i)})}}register(l,i){return!this._triggers.has(l)&&(this._triggers.set(l,i),!0)}_getTrigger(l){const i=this._triggers.get(l);if(!i)throw function Ke(u){return new e.wOt(3401,!1)}();return i}trigger(l,i,c,d=!0){const P=this._getTrigger(i),A=new Hr(this.id,i,l);let $=this._engine.statesByElement.get(l);$||(On(l,X),On(l,X+"-"+i),this._engine.statesByElement.set(l,$=new Map));let K=$.get(i);const ue=new hr(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&K&&ue.absorbOptions(K.options),$.set(i,ue),K||(K=Pi),ue.value!==Nn&&K.value===ue.value){if(!function In(u,l){const i=Object.keys(u),c=Object.keys(l);if(i.length!=c.length)return!1;for(let d=0;d<i.length;d++){const P=i[d];if(!l.hasOwnProperty(P)||u[P]!==l[P])return!1}return!0}(K.params,ue.params)){const Pt=[],xn=P.matchStyles(K.value,K.params,Pt),cr=P.matchStyles(ue.value,ue.params,Pt);Pt.length?this._engine.reportError(Pt):this._engine.afterFlush(()=>{de(l,xn),B(l,cr)})}return}const zt=on(this._engine.playersByElement,l,[]);zt.forEach(Pt=>{Pt.namespaceId==this.id&&Pt.triggerName==i&&Pt.queued&&Pt.destroy()});let kt=P.matchTransition(K.value,ue.value,l,ue.params),pt=!1;if(!kt){if(!d)return;kt=P.fallbackTransition,pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:i,transition:kt,fromState:K,toState:ue,player:A,isFallbackTransition:pt}),pt||(On(l,kr),A.onStart(()=>{Dr(l,kr)})),A.onDone(()=>{let Pt=this.players.indexOf(A);Pt>=0&&this.players.splice(Pt,1);const xn=this._engine.playersByElement.get(l);if(xn){let cr=xn.indexOf(A);cr>=0&&xn.splice(cr,1)}}),this.players.push(A),zt.push(A),A}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(i=>i.delete(l)),this._elementListeners.forEach((i,c)=>{this._elementListeners.set(c,i.filter(d=>d.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const i=this._engine.playersByElement.get(l);i&&(i.forEach(c=>c.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,i){const c=this._engine.driver.query(l,V,!0);c.forEach(d=>{if(d[Rn])return;const P=this._engine.fetchNamespacesByElement(d);P.size?P.forEach(A=>A.triggerLeaveAnimation(d,i,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(l,i,c,d){const P=this._engine.statesByElement.get(l),A=new Map;if(P){const $=[];if(P.forEach((K,ue)=>{if(A.set(ue,K.value),this._triggers.has(ue)){const Ue=this.trigger(l,ue,Nn,d);Ue&&$.push(Ue)}}),$.length)return this._engine.markElementAsRemoved(this.id,l,!0,i,A),c&&dt($).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const i=this._elementListeners.get(l),c=this._engine.statesByElement.get(l);if(i&&c){const d=new Set;i.forEach(P=>{const A=P.name;if(d.has(A))return;d.add(A);const K=this._triggers.get(A).fallbackTransition,ue=c.get(A)||Pi,Ue=new hr(Nn),Ge=new Hr(this.id,A,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:A,transition:K,fromState:ue,toState:Ue,player:Ge,isFallbackTransition:!0})})}}removeNode(l,i){const c=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,i),this.triggerLeaveAnimation(l,i,!0))return;let d=!1;if(c.totalAnimations){const P=c.players.length?c.playersByQueriedElement.get(l):[];if(P&&P.length)d=!0;else{let A=l;for(;A=A.parentNode;)if(c.statesByElement.get(A)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(l),d)c.markElementAsRemoved(this.id,l,!1,i);else{const P=l[Rn];(!P||P===ei)&&(c.afterFlush(()=>this.clearElementCache(l)),c.destroyInnerAnimations(l),c._onRemovalComplete(l,i))}}insertNode(l,i){On(l,this._hostClassName)}drainQueuedTransitions(l){const i=[];return this._queue.forEach(c=>{const d=c.player;if(d.destroyed)return;const P=c.element,A=this._elementListeners.get(P);A&&A.forEach($=>{if($.name==c.triggerName){const K=vn(P,c.triggerName,c.fromState.value,c.toState.value);K._data=l,Ir(c.player,$.phase,K,$.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):i.push(c)}),this._queue=[],i.sort((c,d)=>{const P=c.transition.ast.depCount,A=d.transition.ast.depCount;return 0==P||0==A?P-A:this._engine.driver.containsElement(c.element,d.element)?1:-1})}destroy(l){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class ti{_onRemovalComplete(l,i){this.onRemovalComplete(l,i)}constructor(l,i,c){this.bodyNode=l,this.driver=i,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(d,P)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(i=>{i.players.forEach(c=>{c.queued&&l.push(c)})}),l}createNamespace(l,i){const c=new is(l,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(c,i):(this.newHostElements.set(i,c),this.collectEnterElement(i)),this._namespaceLookup[l]=c}_balanceNamespaceList(l,i){const c=this._namespaceList,d=this.namespacesByHostElement;if(c.length-1>=0){let A=!1,$=this.driver.getParentElement(i);for(;$;){const K=d.get($);if(K){const ue=c.indexOf(K);c.splice(ue+1,0,l),A=!0;break}$=this.driver.getParentElement($)}A||c.unshift(l)}else c.push(l);return d.set(i,l),l}register(l,i){let c=this._namespaceLookup[l];return c||(c=this.createNamespace(l,i)),c}registerTrigger(l,i,c){let d=this._namespaceLookup[l];d&&d.register(i,c)&&this.totalAnimations++}destroy(l,i){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const c=this._fetchNamespace(l);this.namespacesByHostElement.delete(c.hostElement);const d=this._namespaceList.indexOf(c);d>=0&&this._namespaceList.splice(d,1),c.destroy(i),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const i=new Set,c=this.statesByElement.get(l);if(c)for(let d of c.values())if(d.namespaceId){const P=this._fetchNamespace(d.namespaceId);P&&i.add(P)}return i}trigger(l,i,c,d){if(wt(i)){const P=this._fetchNamespace(l);if(P)return P.trigger(i,c,d),!0}return!1}insertNode(l,i,c,d){if(!wt(i))return;const P=i[Rn];if(P&&P.setForRemoval){P.setForRemoval=!1,P.setForMove=!0;const A=this.collectedLeaveElements.indexOf(i);A>=0&&this.collectedLeaveElements.splice(A,1)}if(l){const A=this._fetchNamespace(l);A&&A.insertNode(i,c)}d&&this.collectEnterElement(i)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,i){i?this.disabledNodes.has(l)||(this.disabledNodes.add(l),On(l,er)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Dr(l,er))}removeNode(l,i,c){if(wt(i)){const d=l?this._fetchNamespace(l):null;d?d.removeNode(i,c):this.markElementAsRemoved(l,i,!1,c);const P=this.namespacesByHostElement.get(i);P&&P.id!==l&&P.removeNode(i,c)}else this._onRemovalComplete(i,c)}markElementAsRemoved(l,i,c,d,P){this.collectedLeaveElements.push(i),i[Rn]={namespaceId:l,setForRemoval:d,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:P}}listen(l,i,c,d,P){return wt(i)?this._fetchNamespace(l).listen(i,c,d,P):()=>{}}_buildInstruction(l,i,c,d,P){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,c,d,l.fromState.options,l.toState.options,i,P)}destroyInnerAnimations(l){let i=this.driver.query(l,V,!0);i.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(l,he,!0),i.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(l){const i=this.playersByElement.get(l);i&&i.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(l){const i=this.playersByQueriedElement.get(l);i&&i.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return dt(this.players).onDone(()=>l());l()})}processLeaveNode(l){const i=l[Rn];if(i&&i.setForRemoval){if(l[Rn]=ei,i.namespaceId){this.destroyInnerAnimations(l);const c=this._fetchNamespace(i.namespaceId);c&&c.clearElementCache(l)}this._onRemovalComplete(l,i.setForRemoval)}l.classList?.contains(er)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(l=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,d)=>this._balanceNamespaceList(c,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)On(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{i=this._flushAnimations(c,l)}finally{for(let d=0;d<c.length;d++)c[d]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],i.length?dt(i).onDone(()=>{c.forEach(d=>d())}):c.forEach(d=>d())}}reportError(l){throw function Un(u){return new e.wOt(3402,!1)}()}_flushAnimations(l,i){const c=new wi,d=[],P=new Map,A=[],$=new Map,K=new Map,ue=new Map,Ue=new Set;this.disabledNodes.forEach(Ze=>{Ue.add(Ze);const ht=this.driver.query(Ze,".ng-animate-queued",!0);for(let bt=0;bt<ht.length;bt++)Ue.add(ht[bt])});const Ge=this.bodyNode,zt=Array.from(this.statesByElement.keys()),kt=Tr(zt,this.collectedEnterElements),pt=new Map;let Pt=0;kt.forEach((Ze,ht)=>{const bt=fr+Pt++;pt.set(ht,bt),Ze.forEach(Xt=>On(Xt,bt))});const xn=[],cr=new Set,cn=new Set;for(let Ze=0;Ze<this.collectedLeaveElements.length;Ze++){const ht=this.collectedLeaveElements[Ze],bt=ht[Rn];bt&&bt.setForRemoval&&(xn.push(ht),cr.add(ht),bt.hasAnimation?this.driver.query(ht,".ng-star-inserted",!0).forEach(Xt=>cr.add(Xt)):cn.add(ht))}const Sr=new Map,mr=Tr(zt,Array.from(cr));mr.forEach((Ze,ht)=>{const bt=le+Pt++;Sr.set(ht,bt),Ze.forEach(Xt=>On(Xt,bt))}),l.push(()=>{kt.forEach((Ze,ht)=>{const bt=pt.get(ht);Ze.forEach(Xt=>Dr(Xt,bt))}),mr.forEach((Ze,ht)=>{const bt=Sr.get(ht);Ze.forEach(Xt=>Dr(Xt,bt))}),xn.forEach(Ze=>{this.processLeaveNode(Ze)})});const Xo=[],wn=[];for(let Ze=this._namespaceList.length-1;Ze>=0;Ze--)this._namespaceList[Ze].drainQueuedTransitions(i).forEach(bt=>{const Xt=bt.player,_r=bt.element;if(Xo.push(Xt),this.collectedEnterElements.length){const Gn=_r[Rn];if(Gn&&Gn.setForMove){if(Gn.previousTriggersValues&&Gn.previousTriggersValues.has(bt.triggerName)){const go=Gn.previousTriggersValues.get(bt.triggerName),vi=this.statesByElement.get(bt.element);if(vi&&vi.has(bt.triggerName)){const Vs=vi.get(bt.triggerName);Vs.value=go,vi.set(bt.triggerName,Vs)}}return void Xt.destroy()}}const si=!Ge||!this.driver.containsElement(Ge,_r),_i=Sr.get(_r),Yo=pt.get(_r),kn=this._buildInstruction(bt,c,Yo,_i,si);if(kn.errors&&kn.errors.length)return void wn.push(kn);if(si)return Xt.onStart(()=>de(_r,kn.fromStyles)),Xt.onDestroy(()=>B(_r,kn.toStyles)),void d.push(Xt);if(bt.isFallbackTransition)return Xt.onStart(()=>de(_r,kn.fromStyles)),Xt.onDestroy(()=>B(_r,kn.toStyles)),void d.push(Xt);const el=[];kn.timelines.forEach(Gn=>{Gn.stretchStartingKeyframe=!0,this.disabledNodes.has(Gn.element)||el.push(Gn)}),kn.timelines=el,c.append(_r,kn.timelines),A.push({instruction:kn,player:Xt,element:_r}),kn.queriedElements.forEach(Gn=>on($,Gn,[]).push(Xt)),kn.preStyleProps.forEach((Gn,go)=>{if(Gn.size){let vi=K.get(go);vi||K.set(go,vi=new Set),Gn.forEach((Vs,Ls)=>vi.add(Ls))}}),kn.postStyleProps.forEach((Gn,go)=>{let vi=ue.get(go);vi||ue.set(go,vi=new Set),Gn.forEach((Vs,Ls)=>vi.add(Ls))})});if(wn.length){const Ze=[];wn.forEach(ht=>{Ze.push(function Ft(u,l){return new e.wOt(3505,!1)}())}),Xo.forEach(ht=>ht.destroy()),this.reportError(Ze)}const lr=new Map,po=new Map;A.forEach(Ze=>{const ht=Ze.element;c.has(ht)&&(po.set(ht,ht),this._beforeAnimationBuild(Ze.player.namespaceId,Ze.instruction,lr))}),d.forEach(Ze=>{const ht=Ze.element;this._getPreviousPlayers(ht,!1,Ze.namespaceId,Ze.triggerName,null).forEach(Xt=>{on(lr,ht,[]).push(Xt),Xt.destroy()})});const ho=xn.filter(Ze=>jn(Ze,K,ue)),xo=new Map;Mr(xo,this.driver,cn,ue,J).forEach(Ze=>{jn(Ze,K,ue)&&ho.push(Ze)});const la=new Map;kt.forEach((Ze,ht)=>{Mr(la,this.driver,new Set(Ze),K,"!")}),ho.forEach(Ze=>{const ht=xo.get(Ze),bt=la.get(Ze);xo.set(Ze,new Map([...ht?.entries()??[],...bt?.entries()??[]]))});const Ko=[],cu=[],Zc={};A.forEach(Ze=>{const{element:ht,player:bt,instruction:Xt}=Ze;if(c.has(ht)){if(Ue.has(ht))return bt.onDestroy(()=>B(ht,Xt.toStyles)),bt.disabled=!0,bt.overrideTotalTime(Xt.totalTime),void d.push(bt);let _r=Zc;if(po.size>1){let _i=ht;const Yo=[];for(;_i=_i.parentNode;){const kn=po.get(_i);if(kn){_r=kn;break}Yo.push(_i)}Yo.forEach(kn=>po.set(kn,_r))}const si=this._buildAnimation(bt.namespaceId,Xt,lr,P,la,xo);if(bt.setRealPlayer(si),_r===Zc)Ko.push(bt);else{const _i=this.playersByElement.get(_r);_i&&_i.length&&(bt.parentPlayer=dt(_i)),d.push(bt)}}else de(ht,Xt.fromStyles),bt.onDestroy(()=>B(ht,Xt.toStyles)),cu.push(bt),Ue.has(ht)&&d.push(bt)}),cu.forEach(Ze=>{const ht=P.get(Ze.element);if(ht&&ht.length){const bt=dt(ht);Ze.setRealPlayer(bt)}}),d.forEach(Ze=>{Ze.parentPlayer?Ze.syncPlayerEvents(Ze.parentPlayer):Ze.destroy()});for(let Ze=0;Ze<xn.length;Ze++){const ht=xn[Ze],bt=ht[Rn];if(Dr(ht,le),bt&&bt.hasAnimation)continue;let Xt=[];if($.size){let si=$.get(ht);si&&si.length&&Xt.push(...si);let _i=this.driver.query(ht,he,!0);for(let Yo=0;Yo<_i.length;Yo++){let kn=$.get(_i[Yo]);kn&&kn.length&&Xt.push(...kn)}}const _r=Xt.filter(si=>!si.destroyed);_r.length?Bi(this,ht,_r):this.processLeaveNode(ht)}return xn.length=0,Ko.forEach(Ze=>{this.players.push(Ze),Ze.onDone(()=>{Ze.destroy();const ht=this.players.indexOf(Ze);this.players.splice(ht,1)}),Ze.play()}),Ko}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,i,c,d,P){let A=[];if(i){const $=this.playersByQueriedElement.get(l);$&&(A=$)}else{const $=this.playersByElement.get(l);if($){const K=!P||P==Nn;$.forEach(ue=>{ue.queued||!K&&ue.triggerName!=d||A.push(ue)})}}return(c||d)&&(A=A.filter($=>!(c&&c!=$.namespaceId||d&&d!=$.triggerName))),A}_beforeAnimationBuild(l,i,c){const P=i.element,A=i.isRemovalTransition?void 0:l,$=i.isRemovalTransition?void 0:i.triggerName;for(const K of i.timelines){const ue=K.element,Ue=ue!==P,Ge=on(c,ue,[]);this._getPreviousPlayers(ue,Ue,A,$,i.toState).forEach(kt=>{const pt=kt.getRealPlayer();pt.beforeDestroy&&pt.beforeDestroy(),kt.destroy(),Ge.push(kt)})}de(P,i.fromStyles)}_buildAnimation(l,i,c,d,P,A){const $=i.triggerName,K=i.element,ue=[],Ue=new Set,Ge=new Set,zt=i.timelines.map(pt=>{const Pt=pt.element;Ue.add(Pt);const xn=Pt[Rn];if(xn&&xn.removedBeforeQueried)return new Lt(pt.duration,pt.delay);const cr=Pt!==K,cn=function zn(u){const l=[];return os(u,l),l}((c.get(Pt)||Mo).map(lr=>lr.getRealPlayer())).filter(lr=>!!lr.element&&lr.element===Pt),Sr=P.get(Pt),mr=A.get(Pt),Xo=it(this._normalizer,pt.keyframes,Sr,mr),wn=this._buildPlayer(pt,Xo,cn);if(pt.subTimeline&&d&&Ge.add(Pt),cr){const lr=new Hr(l,$,Pt);lr.setRealPlayer(wn),ue.push(lr)}return wn});ue.forEach(pt=>{on(this.playersByQueriedElement,pt.element,[]).push(pt),pt.onDone(()=>function Ui(u,l,i){let c=u.get(l);if(c){if(c.length){const d=c.indexOf(i);c.splice(d,1)}0==c.length&&u.delete(l)}return c}(this.playersByQueriedElement,pt.element,pt))}),Ue.forEach(pt=>On(pt,G));const kt=dt(zt);return kt.onDestroy(()=>{Ue.forEach(pt=>Dr(pt,G)),B(K,i.toStyles)}),Ge.forEach(pt=>{on(d,pt,[]).push(kt)}),kt}_buildPlayer(l,i,c){return i.length>0?this.driver.animate(l.element,i,l.duration,l.delay,l.easing,c):new Lt(l.duration,l.delay)}}class Hr{constructor(l,i,c){this.namespaceId=l,this.triggerName=i,this.element=c,this._player=new Lt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((i,c)=>{i.forEach(d=>Ir(l,c,void 0,d))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const i=this._player;i.triggerCallback&&l.onStart(()=>i.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,i){on(this._queuedCallbacks,l,[]).push(i)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const i=this._player;i.triggerCallback&&i.triggerCallback(l)}}function wt(u){return u&&1===u.nodeType}function Si(u,l){const i=u.style.display;return u.style.display=l??"none",i}function Mr(u,l,i,c,d){const P=[];i.forEach(K=>P.push(Si(K)));const A=[];c.forEach((K,ue)=>{const Ue=new Map;K.forEach(Ge=>{const zt=l.computeStyle(ue,Ge,d);Ue.set(Ge,zt),(!zt||0==zt.length)&&(ue[Rn]=gn,A.push(ue))}),u.set(ue,Ue)});let $=0;return i.forEach(K=>Si(K,P[$++])),A}function Tr(u,l){const i=new Map;if(u.forEach($=>i.set($,[])),0==l.length)return i;const d=new Set(l),P=new Map;function A($){if(!$)return 1;let K=P.get($);if(K)return K;const ue=$.parentNode;return K=i.has(ue)?ue:d.has(ue)?1:A(ue),P.set($,K),K}return l.forEach($=>{const K=A($);1!==K&&i.get(K).push($)}),i}function On(u,l){u.classList?.add(l)}function Dr(u,l){u.classList?.remove(l)}function Bi(u,l,i){dt(i).onDone(()=>u.processLeaveNode(l))}function os(u,l){for(let i=0;i<u.length;i++){const c=u[i];c instanceof Qt?os(c.players,l):l.push(c)}}function jn(u,l,i){const c=i.get(u);if(!c)return!1;let d=l.get(u);return d?c.forEach(P=>d.add(P)):l.set(u,c),i.delete(u),!0}class oo{constructor(l,i,c){this.bodyNode=l,this._driver=i,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(d,P)=>{},this._transitionEngine=new ti(l,i,c),this._timelineEngine=new Sn(l,i,c),this._transitionEngine.onRemovalComplete=(d,P)=>this.onRemovalComplete(d,P)}registerTrigger(l,i,c,d,P){const A=l+"-"+d;let $=this._triggerCache[A];if(!$){const K=[],Ue=Er(this._driver,P,K,[]);if(K.length)throw function Kt(u,l){return new e.wOt(3404,!1)}();$=function Ne(u,l,i){return new mt(u,l,i)}(d,Ue,this._normalizer),this._triggerCache[A]=$}this._transitionEngine.registerTrigger(i,d,$)}register(l,i){this._transitionEngine.register(l,i)}destroy(l,i){this._transitionEngine.destroy(l,i)}onInsert(l,i,c,d){this._transitionEngine.insertNode(l,i,c,d)}onRemove(l,i,c){this._transitionEngine.removeNode(l,i,c)}disableAnimations(l,i){this._transitionEngine.markElementAsDisabled(l,i)}process(l,i,c,d){if("@"==c.charAt(0)){const[P,A]=pn(c);this._timelineEngine.command(P,i,A,d)}else this._transitionEngine.trigger(l,i,c,d)}listen(l,i,c,d,P){if("@"==c.charAt(0)){const[A,$]=pn(c);return this._timelineEngine.listen(A,i,$,P)}return this._transitionEngine.listen(l,i,c,d,P)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let qt=(()=>{class u{static{this.initialStylesByElement=new WeakMap}constructor(i,c,d){this._element=i,this._startStyles=c,this._endStyles=d,this._state=0;let P=u.initialStylesByElement.get(i);P||u.initialStylesByElement.set(i,P=new Map),this._initialStyles=P}start(){this._state<1&&(this._startStyles&&B(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(B(this._element,this._initialStyles),this._endStyles&&(B(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(de(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(de(this._element,this._endStyles),this._endStyles=null),B(this._element,this._initialStyles),this._state=3)}}return u})();function gr(u){let l=null;return u.forEach((i,c)=>{(function jo(u){return"display"===u||"position"===u})(c)&&(l=l||new Map,l.set(c,i))}),l}class D{constructor(l,i,c,d){this.element=l,this.keyframes=i,this.options=c,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const i=[];return l.forEach(c=>{i.push(Object.fromEntries(c))}),i}_triggerWebAnimation(l,i,c){return l.animate(this._convertKeyframesToObject(i),c)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,d)=>{"offset"!==d&&l.set(d,this._finished?c:$t(this.element,d))}),this.currentSnapshot=l}triggerCallback(l){const i="start"===l?this._onStartFns:this._onDoneFns;i.forEach(c=>c()),i.length=0}}class S{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,i){return!1}containsElement(l,i){return Mt(l,i)}getParentElement(l){return en(l)}query(l,i,c){return xt(l,i,c)}computeStyle(l,i,c){return window.getComputedStyle(l)[i]}animate(l,i,c,d,P,A=[]){const K={duration:c,delay:d,fill:0==d?"both":"forwards"};P&&(K.easing=P);const ue=new Map,Ue=A.filter(kt=>kt instanceof D);(function ci(u,l){return 0===u||0===l})(c,d)&&Ue.forEach(kt=>{kt.currentSnapshot.forEach((pt,Pt)=>ue.set(Pt,pt))});let Ge=function br(u){return u.length?u[0]instanceof Map?u:u.map(l=>Kn(l)):[]}(i).map(kt=>L(kt));Ge=function pr(u,l,i){if(i.size&&l.length){let c=l[0],d=[];if(i.forEach((P,A)=>{c.has(A)||d.push(A),c.set(A,P)}),d.length)for(let P=1;P<l.length;P++){let A=l[P];d.forEach($=>A.set($,$t(u,$)))}}return l}(l,Ge,ue);const zt=function Fr(u,l){let i=null,c=null;return Array.isArray(l)&&l.length?(i=gr(l[0]),l.length>1&&(c=gr(l[l.length-1]))):l instanceof Map&&(i=gr(l)),i||c?new qt(u,i,c):null}(l,Ge);return new D(l,Ge,K,zt)}}var C=F(177);let T=(()=>{class u extends pe{constructor(i,c){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(c.body,{id:"0",encapsulation:e.gXe.None,styles:[],data:{animation:[]}})}build(i){const c=this._nextAnimationId.toString();this._nextAnimationId++;const d=Array.isArray(i)?re(i):i;return Ct(this._renderer,null,c,"register",[d]),new U(c,this._renderer)}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(e._9s),e.KVO(C.qQ))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();class U extends ce{constructor(l,i){super(),this._id=l,this._renderer=i}create(l,i){return new Xe(this._id,l,i||{},this._renderer)}}class Xe{constructor(l,i,c,d){this.id=l,this.element=i,this._renderer=d,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(l,i){return this._renderer.listen(this.element,`@@${this.id}:${l}`,i)}_command(l,...i){return Ct(this._renderer,this.element,this.id,l,i)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ct(u,l,i,c,d){return u.setProperty(l,`@@${i}:${c}`,d)}const zi="@.disabled";let Oi=(()=>{class u{constructor(i,c,d){this.delegate=i,this.engine=c,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,c.onRemovalComplete=(P,A)=>{const $=A?.parentNode(P);$&&A.removeChild($,P)}}createRenderer(i,c){const P=this.delegate.createRenderer(i,c);if(!(i&&c&&c.data&&c.data.animation)){let Ue=this._rendererCache.get(P);return Ue||(Ue=new Gi("",P,this.engine,()=>this._rendererCache.delete(P)),this._rendererCache.set(P,Ue)),Ue}const A=c.id,$=c.id+"-"+this._currentId;this._currentId++,this.engine.register($,i);const K=Ue=>{Array.isArray(Ue)?Ue.forEach(K):this.engine.registerTrigger(A,$,i,Ue.name,Ue)};return c.data.animation.forEach(K),new Hi(this,$,P,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,c,d){i>=0&&i<this._microtaskId?this._zone.run(()=>c(d)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(P=>{const[A,$]=P;A($)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,d]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(e._9s),e.KVO(oo),e.KVO(e.SKi))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();class Gi{constructor(l,i,c,d){this.namespaceId=l,this.delegate=i,this.engine=c,this._onDestroy=d}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,i){return this.delegate.createElement(l,i)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,i){this.delegate.appendChild(l,i),this.engine.onInsert(this.namespaceId,i,l,!1)}insertBefore(l,i,c,d=!0){this.delegate.insertBefore(l,i,c),this.engine.onInsert(this.namespaceId,i,l,d)}removeChild(l,i,c){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(l,i){return this.delegate.selectRootElement(l,i)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,i,c,d){this.delegate.setAttribute(l,i,c,d)}removeAttribute(l,i,c){this.delegate.removeAttribute(l,i,c)}addClass(l,i){this.delegate.addClass(l,i)}removeClass(l,i){this.delegate.removeClass(l,i)}setStyle(l,i,c,d){this.delegate.setStyle(l,i,c,d)}removeStyle(l,i,c){this.delegate.removeStyle(l,i,c)}setProperty(l,i,c){"@"==i.charAt(0)&&i==zi?this.disableAnimations(l,!!c):this.delegate.setProperty(l,i,c)}setValue(l,i){this.delegate.setValue(l,i)}listen(l,i,c){return this.delegate.listen(l,i,c)}disableAnimations(l,i){this.engine.disableAnimations(l,i)}}class Hi extends Gi{constructor(l,i,c,d,P){super(i,c,d,P),this.factory=l,this.namespaceId=i}setProperty(l,i,c){"@"==i.charAt(0)?"."==i.charAt(1)&&i==zi?this.disableAnimations(l,c=void 0===c||!!c):this.engine.process(this.namespaceId,l,i.slice(1),c):this.delegate.setProperty(l,i,c)}listen(l,i,c){if("@"==i.charAt(0)){const d=function pi(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(l);let P=i.slice(1),A="";return"@"!=P.charAt(0)&&([P,A]=function Vo(u){const l=u.indexOf(".");return[u.substring(0,l),u.slice(l+1)]}(P)),this.engine.listen(this.namespaceId,d,P,A,$=>{this.factory.scheduleListenerCallback($._data||-1,c,$)})}return this.delegate.listen(l,i,c)}}const Lo=[{provide:pe,useClass:T},{provide:ft,useFactory:function Ec(){return new zr}},{provide:oo,useClass:(()=>{class u extends oo{constructor(i,c,d,P){super(i.body,c,d)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(C.qQ),e.KVO(vt),e.KVO(ft),e.KVO(e.o8S))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})()},{provide:e._9s,useFactory:function Gs(u,l,i){return new Oi(u,l,i)},deps:[m.B7,oo,e.SKi]}],ss=[{provide:vt,useFactory:()=>new S},{provide:e.bc$,useValue:"BrowserAnimations"},...Lo],_a=[{provide:vt,useClass:yr},{provide:e.bc$,useValue:"NoopAnimations"},...Lo];let va=(()=>{class u{static withConfig(i){return{ngModule:u,providers:i.disableAnimations?_a:ss}}static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({providers:ss,imports:[m.Bb]})}}return u})();var ni=F(1626),Je=F(4341),st=F(4369),co=F(4412),nr=F(8141),or=F(5312);let ri=(()=>{class u{constructor(i){this.http=i,this.apiUrl=`${or.c.URL_SERVICE}saas`,this.currentTenantSubject=new co.t(null),this.currentTenant$=this.currentTenantSubject.asObservable(),this.tokenSubject=new co.t(this.getStoredToken()),this.token$=this.tokenSubject.asObservable(),this.loadStoredTenant()}login(i){return this.http.post(`${this.apiUrl}/login`,i).pipe((0,nr.M)(c=>{c.success&&c.token&&this.handleAuthentication(c)}))}startTrial(i){return this.http.post(`${this.apiUrl}/trial/start`,i).pipe((0,nr.M)(c=>{c.success&&c.token&&this.handleAuthentication(c)}))}checkAccess(){return this.http.get(`${this.apiUrl}/check-access`,{headers:this.getAuthHeaders()})}getProfile(){return this.http.get(`${this.apiUrl}/me`,{headers:this.getAuthHeaders()}).pipe((0,nr.M)(i=>{i.success&&i.tenant&&this.currentTenantSubject.next(i.tenant)}))}subscribe(i,c,d){return this.http.post(`${this.apiUrl}/subscribe`,{plan:i,stripeSubscriptionId:c,stripePriceId:d},{headers:this.getAuthHeaders()})}cancelSubscription(){return this.http.post(`${this.apiUrl}/cancel`,{},{headers:this.getAuthHeaders()})}logout(){localStorage.removeItem("tenant_token"),localStorage.removeItem("tenant_profile"),this.tokenSubject.next(null),this.currentTenantSubject.next(null)}isAuthenticated(){return!!this.getStoredToken()}getCurrentTenant(){return this.currentTenantSubject.value}getStoredToken(){return localStorage.getItem("tenant_token")}loadStoredTenant(){const i=localStorage.getItem("tenant_profile");if(i)try{const c=JSON.parse(i);this.currentTenantSubject.next(c)}catch(c){console.error("Error parsing stored tenant profile:",c),localStorage.removeItem("tenant_profile")}}handleAuthentication(i){i.token&&(localStorage.setItem("tenant_token",i.token),this.tokenSubject.next(i.token)),i.tenant&&(localStorage.setItem("tenant_profile",JSON.stringify(i.tenant)),this.currentTenantSubject.next(i.tenant))}getAuthHeaders(){const i=this.getStoredToken();return new ni.Lr({Authorization:`Bearer ${i}`})}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(ni.Qq))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function as(u,l){if(1&u&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&u){const i=e.XpG();e.R7$(1),e.SpI(" ",i.error," ")}}function bs(u,l){1&u&&(e.j41(0,"div",16),e.EFF(1," El email es requerido "),e.k0s())}function Do(u,l){1&u&&(e.j41(0,"div",16),e.EFF(1," Email inv\xe1lido "),e.k0s())}function Cs(u,l){1&u&&(e.j41(0,"div",16),e.EFF(1," La contrase\xf1a es requerida "),e.k0s())}function Es(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"Iniciar sesi\xf3n"),e.k0s())}function ws(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"Iniciando..."),e.k0s())}let Hs=(()=>{class u{constructor(i,c,d,P){this.fb=i,this.route=c,this.router=d,this.saasService=P,this.isSubmitting=!1,this.error="",this.loginForm=this.fb.group({email:["",[Je.k0.required,Je.k0.email]],password:["",[Je.k0.required]]})}ngOnInit(){if(this.saasService.isAuthenticated()){const c=this.saasService.getCurrentTenant();if(c){const d=this.route.snapshot.queryParams.returnUrl;this.router.navigate(d?[d]:[`/app/${c.module_key}`])}}const i=this.route.snapshot.queryParams.email;i&&this.loginForm.patchValue({email:i})}onSubmit(){if(this.loginForm.invalid)return void this.markFormGroupTouched(this.loginForm);this.isSubmitting=!0,this.error="";const{email:i,password:c}=this.loginForm.value;this.saasService.login({email:i,password:c}).subscribe({next:d=>{if(console.log("\u2705 Login response:",d),d.success){if(d.modules&&Array.isArray(d.modules))if(1===d.modules.length){const P=d.modules[0];console.log("\u{1f4cd} Usuario con 1 solo m\xf3dulo, redirigiendo directo a:",P.dashboard_url),this.saasService.login({email:i,password:c,moduleKey:P.module_key}).subscribe({next:A=>{if(A.tenant&&!A.tenant.has_access)console.log("\u23f0 Trial expirado o sin acceso, redirigiendo a /upgrade"),this.router.navigate(["/upgrade"],{queryParams:{email:i}});else{const $=this.route.snapshot.queryParams.returnUrl,K=A.tenant?.module_key||P.module_key;if($&&"/"!==$&&$.length>1)console.log("\u{1f4cd} Navegando a returnUrl:",$),this.router.navigate([$]);else{const ue=`/app/${K}`;console.log("\u{1f4cd} Navegando a m\xf3dulo ra\xedz:",ue),this.router.navigate([ue])}}this.isSubmitting=!1},error:A=>{console.error("\u274c Error en autenticaci\xf3n espec\xedfica:",A),403===A.status?(console.log("\u23f0 Trial expirado (403), redirigiendo a /upgrade"),this.router.navigate(["/upgrade"],{queryParams:{email:i}})):this.error=A.error?.error||"Error al acceder al m\xf3dulo",this.isSubmitting=!1}})}else{const P=this.route.snapshot.queryParams.returnUrl;if(P&&P.includes("/")){const A=P.split("/")[1],$=d.modules.find(K=>K.module_key===A);if($)return console.log(`\u{1f4cd} returnUrl apunta a ${A}, autenticando en ese m\xf3dulo...`),void this.saasService.login({email:i,password:c,moduleKey:$.module_key}).subscribe({next:K=>{K.tenant&&!K.tenant.has_access?(console.log("\u23f0 Trial expirado, redirigiendo a /upgrade"),this.router.navigate(["/upgrade"],{queryParams:{email:i,module:$.module_key}})):(console.log(`\u2705 Autenticado en ${$.module_key}, redirigiendo a ${P}`),this.router.navigate([P])),this.isSubmitting=!1},error:K=>{console.error("\u274c Error en autenticaci\xf3n espec\xedfica:",K),this.error=K.error?.error||"Error al acceder al m\xf3dulo",this.isSubmitting=!1}})}console.log(`\u{1f4cd} Usuario con ${d.modules.length} m\xf3dulos, mostrando selector`),this.router.navigate(["/select-app"],{state:{modules:d.modules,email:i,password:c}}),this.isSubmitting=!1}else if(d.tenant&&d.token){const P=`/app/${d.tenant.module_key}`;console.log("\u{1f4cd} Navegando a:",P),this.router.navigate([P]).then(()=>{console.log("\u2705 Navegaci\xf3n completada"),this.isSubmitting=!1})}}else console.error("\u274c Login no exitoso:",d),this.error="Error en el login",this.isSubmitting=!1},error:d=>{console.error("\u274c Error logging in:",d),this.error=d.error?.error||"Credenciales inv\xe1lidas",this.isSubmitting=!1}})}markFormGroupTouched(i){Object.keys(i.controls).forEach(c=>{i.get(c)?.markAsTouched()})}hasError(i,c){const d=this.loginForm.get(i);return!!(d&&d.hasError(c)&&d.touched)}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(Je.ok),e.rXU(st.nX),e.rXU(st.Ix),e.rXU(ri))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-login"]],decls:28,vars:12,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],["class","alert alert-error",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","tu@email.com"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Tu contrase\xf1a"],["type","submit",1,"btn-primary",3,"disabled"],[4,"ngIf"],[1,"login-footer"],["routerLink","/register"],[1,"alert","alert-error"],[1,"error-message"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e.EFF(4,"LujanDev App"),e.k0s(),e.j41(5,"p"),e.EFF(6,"Inicia sesi\xf3n en tu cuenta"),e.k0s()(),e.DNE(7,as,2,1,"div",3),e.j41(8,"form",4),e.bIt("ngSubmit",function(){return d.onSubmit()}),e.j41(9,"div",5)(10,"label",6),e.EFF(11,"Email"),e.k0s(),e.nrm(12,"input",7),e.DNE(13,bs,2,0,"div",8),e.DNE(14,Do,2,0,"div",8),e.k0s(),e.j41(15,"div",5)(16,"label",9),e.EFF(17,"Contrase\xf1a"),e.k0s(),e.nrm(18,"input",10),e.DNE(19,Cs,2,0,"div",8),e.k0s(),e.j41(20,"button",11),e.DNE(21,Es,2,0,"span",12),e.DNE(22,ws,2,0,"span",12),e.k0s()(),e.j41(23,"div",13)(24,"p"),e.EFF(25,"\xbfNo tienes cuenta? "),e.j41(26,"a",14),e.EFF(27,"Crear cuenta"),e.k0s()()()()()),2&c&&(e.R7$(7),e.Y8G("ngIf",d.error),e.R7$(1),e.Y8G("formGroup",d.loginForm),e.R7$(4),e.AVh("invalid",d.hasError("email","required")||d.hasError("email","email")),e.R7$(1),e.Y8G("ngIf",d.hasError("email","required")),e.R7$(1),e.Y8G("ngIf",d.hasError("email","email")),e.R7$(4),e.AVh("invalid",d.hasError("password","required")),e.R7$(1),e.Y8G("ngIf",d.hasError("password","required")),e.R7$(1),e.Y8G("disabled",d.isSubmitting),e.R7$(1),e.Y8G("ngIf",!d.isSubmitting),e.R7$(1),e.Y8G("ngIf",d.isSubmitting))},dependencies:[C.bT,Je.qT,Je.me,Je.BC,Je.cb,Je.j4,Je.JD,st.Wk],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:20px}.login-card[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 10px 40px #0000001a;padding:40px;max-width:400px;width:100%}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:28px}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.alert-error[_ngcontent-%COMP%]{background:#fee;border:1px solid #fcc;color:#c33;padding:12px;border-radius:6px;margin-bottom:20px;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border-color:#f44}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#f44;font-size:12px;margin-top:5px}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:14px;background:#667eea;color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:background .3s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5568d3}.btn-primary[_ngcontent-%COMP%]:disabled{background:#aaa;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;font-size:14px;color:#666}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:15px}.login-card[_ngcontent-%COMP%]{padding:30px 20px}.login-header[_ngcontent-%COMP%]{margin-bottom:25px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:11px;font-size:16px}.btn-primary[_ngcontent-%COMP%]{padding:13px;font-size:15px}.login-footer[_ngcontent-%COMP%]{font-size:13px;margin-top:18px}}"]})}}return u})();var Vn=F(467);let Ii=(()=>{class u{constructor(i){this.http=i,this.API_URL=or.c.API_URL,this.availableModulesSubject=new co.t([]),this.availableModules$=this.availableModulesSubject.asObservable(),this.loadAvailableModules()}loadAvailableModules(){return this.http.get(`${this.API_URL}/modules/preview/available`).pipe((0,nr.M)(i=>{i.success&&this.availableModulesSubject.next(i.modules)}))}getPreviewConfig(i){return this.http.get(`${this.API_URL}/modules/${i}/preview/config`)}generatePreview(i,c){return this.http.post(`${this.API_URL}/modules/${i}/preview/generate`,c).pipe((0,nr.M)(d=>{d.success&&this.savePreviewToSession(d.preview)}))}validatePreview(i){return this.http.post(`${this.API_URL}/modules/validate/preview`,{previewData:i})}convertPreviewToReal(i,c,d=!0){const P=localStorage.getItem("tenant_token"),A={"Content-Type":"application/json"};return P&&(A.Authorization=`Bearer ${P}`),this.http.post(`${this.API_URL}/modules/${i}/preview/convert`,{previewData:c,autoActivate:d},{headers:A})}savePreviewToSession(i){const c=i._metadata.sessionKey;sessionStorage.setItem(c,JSON.stringify(i)),console.log(`\u2705 Preview saved to sessionStorage['${c}']`)}getPreviewFromSession(i){const d=sessionStorage.getItem(`${i}_preview`);if(!d)return null;try{const P=JSON.parse(d);return this.isPreviewExpired(P)?(this.clearPreviewFromSession(i),null):P}catch(P){return console.error("\u274c Error parsing preview from session:",P),null}}clearPreviewFromSession(i){const c=`${i}_preview`;sessionStorage.removeItem(c),console.log(`\u{1f5d1}\ufe0f Preview cleared from sessionStorage['${c}']`)}isPreviewExpired(i){if(!i._metadata||!i._metadata.generatedAt)return!0;const c=new Date(i._metadata.generatedAt);return((new Date).getTime()-c.getTime())/36e5>24}hasPendingPreview(i){return null!==this.getPreviewFromSession(i)}processPreviewAfterLogin(i){var c=this;return(0,Vn.A)(function*(d,P=!0){const A=c.getPreviewFromSession(d);if(!A)throw new Error("No preview found in session");return c.convertPreviewToReal(d,A,P).pipe((0,nr.M)(()=>{c.clearPreviewFromSession(d)})).toPromise()}).apply(this,arguments)}getDemoButtonConfig(i){return this.getPreviewConfig(i)}navigateToPreview(i){return`/preview/${i}`}getPostLoginRedirect(i){const c=this.getPreviewFromSession(i);return c&&c._metadata.sessionKey?`/${i}/onboarding?from_preview=true`:`/${i}`}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(ni.Qq))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var Wi=F(771);function $o(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"Crear cuenta"),e.k0s())}function Po(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"\xa1Tu configuraci\xf3n est\xe1 lista!"),e.k0s())}function Ws(u,l){1&u&&(e.j41(0,"p"),e.EFF(1,"Comienza tu prueba gratuita"),e.k0s())}function cs(u,l){if(1&u&&(e.j41(0,"p",26),e.nrm(1,"i",27),e.EFF(2),e.k0s()),2&u){const i=e.XpG();e.R7$(2),e.SpI(" Reg\xedstrate para guardar y activar tu ","mailflow"===i.moduleKey?"secuencia de emails":"configuraci\xf3n"," ")}}function wc(u,l){if(1&u&&(e.j41(0,"p",32),e.EFF(1),e.k0s()),2&u){const i=e.XpG(2);e.R7$(1),e.E5c(" ",i.previewData.sequenceName||"Tu secuencia"," \u2022 ",(null==i.previewData.stats?null:i.previewData.stats.totalEmails)||0," emails \u2022 ",(null==i.previewData.stats?null:i.previewData.stats.estimatedDuration)||"0 d\xedas"," ")}}function _(u,l){if(1&u&&(e.j41(0,"div",28)(1,"div",29),e.nrm(2,"i",30),e.j41(3,"span"),e.EFF(4,"Preview generado"),e.k0s()(),e.DNE(5,wc,2,3,"p",31),e.k0s()),2&u){const i=e.XpG();e.R7$(5),e.Y8G("ngIf","mailflow"===i.moduleKey)}}function I(u,l){if(1&u&&(e.j41(0,"div",33),e.nrm(1,"i",27),e.EFF(2),e.k0s()),2&u){const i=e.XpG();e.R7$(2),e.SpI(" ",i.success," ")}}function E(u,l){if(1&u&&(e.j41(0,"div",34),e.nrm(1,"i",35),e.EFF(2),e.k0s()),2&u){const i=e.XpG();e.R7$(2),e.SpI(" ",i.error," ")}}function O(u,l){1&u&&(e.j41(0,"div",36),e.EFF(1," El nombre es requerido "),e.k0s())}function j(u,l){1&u&&(e.j41(0,"div",36),e.EFF(1," M\xednimo 2 caracteres "),e.k0s())}function ne(u,l){1&u&&(e.j41(0,"div",36),e.EFF(1," El email es requerido "),e.k0s())}function ge(u,l){1&u&&(e.j41(0,"div",36),e.EFF(1," Email inv\xe1lido "),e.k0s())}function qe(u,l){1&u&&(e.j41(0,"div",36),e.EFF(1," La contrase\xf1a es requerida "),e.k0s())}function un(u,l){1&u&&(e.j41(0,"div",36),e.EFF(1," M\xednimo 6 caracteres "),e.k0s())}function dn(u,l){1&u&&(e.j41(0,"div",36),e.EFF(1," Confirma tu contrase\xf1a "),e.k0s())}function Wt(u,l){1&u&&(e.j41(0,"div",36),e.EFF(1," Las contrase\xf1as no coinciden "),e.k0s())}function Ot(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",37),e.EFF(2," Comenzar prueba gratuita "),e.k0s())}function an(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",38),e.EFF(2," Guardar y activar "),e.k0s())}function nn(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",39),e.EFF(2," Creando cuenta... "),e.k0s())}const Ln=function(){return["/preview/mailflow"]};function xi(u,l){1&u&&(e.j41(0,"div",40)(1,"div",41)(2,"span"),e.EFF(3,"o"),e.k0s()(),e.j41(4,"a",42),e.nrm(5,"i",43),e.EFF(6," Probar MailFlow sin registrarte "),e.k0s(),e.j41(7,"p",44),e.EFF(8,"\u{1f446} Experimenta primero, reg\xedstrate despu\xe9s"),e.k0s()()),2&u&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(1,Ln)))}function ii(u,l){1&u&&(e.j41(0,"div",45)(1,"h3"),e.nrm(2,"i",46),e.EFF(3," Prueba MailFlow gratis:"),e.k0s(),e.j41(4,"ul")(5,"li"),e.nrm(6,"i",47),e.EFF(7," 14 d\xedas gratis"),e.k0s(),e.j41(8,"li"),e.nrm(9,"i",47),e.EFF(10," Sin tarjeta requerida"),e.k0s(),e.j41(11,"li"),e.nrm(12,"i",47),e.EFF(13," Funcionalidades b\xe1sicas para probar"),e.k0s(),e.j41(14,"li"),e.nrm(15,"i",47),e.EFF(16," Cu\xe9ntanos tu feedback"),e.k0s()()())}const hi=function(){return["/login"]};let Pr=(()=>{class u{constructor(i,c,d,P,A,$,K){this.fb=i,this.route=c,this.router=d,this.saasService=P,this.previewService=A,this.tracking=$,this.cd=K,this.isSubmitting=!1,this.error="",this.success="",this.fromPreview=!1,this.moduleKey="",this.previewData=null,this.registerForm=this.fb.group({name:["",[Je.k0.required,Je.k0.minLength(2)]],email:["",[Je.k0.required,Je.k0.email]],password:["",[Je.k0.required,Je.k0.minLength(6)]],confirmPassword:["",[Je.k0.required]]},{validators:this.passwordMatchValidator})}ngOnInit(){this.fromPreview="true"===this.route.snapshot.queryParams.from_preview,this.moduleKey=this.route.snapshot.queryParams.module||"",this.fromPreview&&this.moduleKey&&(this.previewData=this.previewService.getPreviewFromSession(this.moduleKey),console.log("\u{1f3af} Usuario viene desde preview:",{moduleKey:this.moduleKey,hasPreviewData:!!this.previewData}));const i=this.route.snapshot.queryParams.email;i&&this.registerForm.patchValue({email:i})}passwordMatchValidator(i){const c=i.get("password")?.value,d=i.get("confirmPassword")?.value;return c===d?null:{passwordMismatch:!0}}onSubmit(){var i=this;return(0,Vn.A)(function*(){if(i.registerForm.invalid)return void i.markFormGroupTouched(i.registerForm);i.isSubmitting=!0,i.error="",i.success="",i.cd.detectChanges();const{name:c,email:d,password:P}=i.registerForm.value;try{const A=yield i.saasService.startTrial({name:c,email:d,password:P,moduleKey:i.moduleKey||"mailflow",plan:"trial"}).toPromise();if(A&&A.success){console.log("\u2705 Trial started:",A);const $=A.tenant?.id;$&&(i.tracking.identify($.toString(),$,{name:c,email:d,plan:"trial",module:i.moduleKey||"mailflow",from_preview:i.fromPreview}),i.tracking.registrationCompleted(i.moduleKey||"mailflow",$)),A.token&&(yield new Promise(Ge=>setTimeout(Ge,200))),i.fromPreview&&i.previewData&&i.moduleKey&&(yield i.convertPreviewToReal());const Ue=`/app/${i.moduleKey||"mailflow"}`;i.success="\xa1Cuenta creada! Redirigiendo a tu dashboard...",i.cd.detectChanges(),setTimeout(()=>{const Ge=`${window.location.origin}${Ue}`;console.log("\u{1f500} Redirigiendo a:",Ge),window.location.href=Ge},1500)}else i.error="Error al crear la cuenta",i.isSubmitting=!1,i.cd.detectChanges()}catch(A){console.error("\u274c Error en registro:",A),i.error=A.error?.error||"Error al crear la cuenta. Intenta de nuevo.",i.isSubmitting=!1,i.cd.detectChanges()}})()}convertPreviewToReal(){var i=this;return(0,Vn.A)(function*(){try{console.log("\u{1f504} Convirtiendo preview en configuraci\xf3n real...");const c=yield i.previewService.convertPreviewToReal(i.moduleKey,i.previewData,!0).toPromise();console.log("\u2705 Preview convertido:",c),i.tracking.moduleActivated(i.moduleKey,{converted_from_preview:!0,sequence_id:c.sequence?.id,sequence_name:c.sequence?.name}),i.previewService.clearPreviewFromSession(i.moduleKey)}catch(c){console.error("\u26a0\ufe0f Error convirtiendo preview (no cr\xedtico):",c)}})()}markFormGroupTouched(i){Object.keys(i.controls).forEach(c=>{i.get(c)?.markAsTouched()})}hasError(i,c){const d=this.registerForm.get(i);return!!(d&&d.hasError(c)&&d.touched)}get passwordsMatch(){return!this.registerForm.hasError("passwordMismatch")}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(Je.ok),e.rXU(st.nX),e.rXU(st.Ix),e.rXU(ri),e.rXU(Ii),e.rXU(Wi.b),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-register"]],decls:54,vars:32,consts:[[1,"register-container"],[1,"register-card"],[1,"register-header"],[4,"ngIf"],["class","preview-context",4,"ngIf"],["class","preview-info",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Tu nombre"],["class","error-message",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","tu@email.com"],["for","password"],["type","password","id","password","formControlName","password","placeholder","M\xednimo 6 caracteres"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirma tu contrase\xf1a"],["type","submit",1,"btn-primary",3,"disabled"],["class","preview-cta",4,"ngIf"],["class","trial-benefits",4,"ngIf"],[1,"register-footer"],[3,"routerLink"],[1,"terms"],["href","#","onclick","return false;","target","_blank"],[1,"preview-context"],[1,"fas","fa-check-circle"],[1,"preview-info"],[1,"preview-badge"],[1,"fas","fa-magic"],["class","preview-summary",4,"ngIf"],[1,"preview-summary"],[1,"alert","alert-success"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"error-message"],[1,"fas","fa-rocket"],[1,"fas","fa-save"],[1,"fas","fa-spinner","fa-spin"],[1,"preview-cta"],[1,"divider"],[1,"btn-preview",3,"routerLink"],[1,"fas","fa-play-circle"],[1,"preview-hint"],[1,"trial-benefits"],[1,"bi","bi-stars"],[1,"fas","fa-check"]],template:function(c,d){if(1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e.DNE(4,$o,2,0,"span",3),e.DNE(5,Po,2,0,"span",3),e.k0s(),e.DNE(6,Ws,2,0,"p",3),e.DNE(7,cs,3,1,"p",4),e.k0s(),e.DNE(8,_,6,1,"div",5),e.DNE(9,I,3,1,"div",6),e.DNE(10,E,3,1,"div",7),e.j41(11,"form",8),e.bIt("ngSubmit",function(){return d.onSubmit()}),e.j41(12,"div",9)(13,"label",10),e.EFF(14,"Nombre completo"),e.k0s(),e.nrm(15,"input",11),e.DNE(16,O,2,0,"div",12),e.DNE(17,j,2,0,"div",12),e.k0s(),e.j41(18,"div",9)(19,"label",13),e.EFF(20,"Email"),e.k0s(),e.nrm(21,"input",14),e.DNE(22,ne,2,0,"div",12),e.DNE(23,ge,2,0,"div",12),e.k0s(),e.j41(24,"div",9)(25,"label",15),e.EFF(26,"Contrase\xf1a"),e.k0s(),e.nrm(27,"input",16),e.DNE(28,qe,2,0,"div",12),e.DNE(29,un,2,0,"div",12),e.k0s(),e.j41(30,"div",9)(31,"label",17),e.EFF(32,"Confirmar contrase\xf1a"),e.k0s(),e.nrm(33,"input",18),e.DNE(34,dn,2,0,"div",12),e.DNE(35,Wt,2,0,"div",12),e.k0s(),e.j41(36,"button",19),e.DNE(37,Ot,3,0,"span",3),e.DNE(38,an,3,0,"span",3),e.DNE(39,nn,3,0,"span",3),e.k0s()(),e.DNE(40,xi,9,2,"div",20),e.DNE(41,ii,17,0,"div",21),e.j41(42,"div",22)(43,"p"),e.EFF(44,"\xbfYa tienes cuenta? "),e.j41(45,"a",23),e.EFF(46,"Inicia sesi\xf3n"),e.k0s()(),e.j41(47,"p",24),e.EFF(48," Al registrarte aceptas nuestros "),e.j41(49,"a",25),e.EFF(50,"T\xe9rminos de Servicio"),e.k0s(),e.EFF(51," y "),e.j41(52,"a",25),e.EFF(53,"Pol\xedtica de Privacidad"),e.k0s()()()()()),2&c){let P;e.R7$(4),e.Y8G("ngIf",!d.fromPreview),e.R7$(1),e.Y8G("ngIf",d.fromPreview),e.R7$(1),e.Y8G("ngIf",!d.fromPreview),e.R7$(1),e.Y8G("ngIf",d.fromPreview&&d.moduleKey),e.R7$(1),e.Y8G("ngIf",d.fromPreview&&d.previewData),e.R7$(1),e.Y8G("ngIf",d.success),e.R7$(1),e.Y8G("ngIf",d.error),e.R7$(1),e.Y8G("formGroup",d.registerForm),e.R7$(4),e.AVh("invalid",d.hasError("name","required")||d.hasError("name","minlength")),e.R7$(1),e.Y8G("ngIf",d.hasError("name","required")),e.R7$(1),e.Y8G("ngIf",d.hasError("name","minlength")),e.R7$(4),e.AVh("invalid",d.hasError("email","required")||d.hasError("email","email")),e.R7$(1),e.Y8G("ngIf",d.hasError("email","required")),e.R7$(1),e.Y8G("ngIf",d.hasError("email","email")),e.R7$(4),e.AVh("invalid",d.hasError("password","required")||d.hasError("password","minlength")),e.R7$(1),e.Y8G("ngIf",d.hasError("password","required")),e.R7$(1),e.Y8G("ngIf",d.hasError("password","minlength")),e.R7$(4),e.AVh("invalid",d.hasError("confirmPassword","required")||!d.passwordsMatch),e.R7$(1),e.Y8G("ngIf",d.hasError("confirmPassword","required")),e.R7$(1),e.Y8G("ngIf",!d.passwordsMatch&&(null==(P=d.registerForm.get("confirmPassword"))?null:P.touched)),e.R7$(1),e.Y8G("disabled",d.isSubmitting||d.registerForm.invalid),e.R7$(1),e.Y8G("ngIf",!d.isSubmitting&&!d.fromPreview),e.R7$(1),e.Y8G("ngIf",!d.isSubmitting&&d.fromPreview),e.R7$(1),e.Y8G("ngIf",d.isSubmitting),e.R7$(1),e.Y8G("ngIf",!d.fromPreview),e.R7$(1),e.Y8G("ngIf",!d.fromPreview),e.R7$(4),e.Y8G("routerLink",e.lJ4(31,hi))}},dependencies:[C.bT,Je.qT,Je.me,Je.BC,Je.cb,Je.j4,Je.JD,st.Wk],styles:['.register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:20px}.register-card[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 20px 60px #0000004d;max-width:480px;width:100%;padding:40px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1a202c;margin:0 0 8px}.register-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:15px;margin:0}.register-header[_ngcontent-%COMP%]   .preview-context[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;color:#38a169;font-weight:500;margin-top:12px}.register-header[_ngcontent-%COMP%]   .preview-context[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.preview-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(102,126,234,.0823529412) 0%,rgba(118,75,162,.0823529412) 100%);border:2px solid #667eea;border-radius:8px;padding:16px;margin-bottom:24px}.preview-info[_ngcontent-%COMP%]   .preview-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:#667eea;color:#fff;padding:4px 12px;border-radius:20px;font-size:13px;font-weight:600;margin-bottom:8px}.preview-info[_ngcontent-%COMP%]   .preview-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.preview-info[_ngcontent-%COMP%]   .preview-summary[_ngcontent-%COMP%]{color:#4a5568;font-size:14px;margin:8px 0 0}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:20px;display:flex;align-items:center;gap:10px}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.alert.alert-success[_ngcontent-%COMP%]{background:#c6f6d5;color:#22543d;border:1px solid #9ae6b4}.alert.alert-error[_ngcontent-%COMP%]{background:#fed7d7;color:#742a2a;border:1px solid #fc8181}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#2d3748;margin-bottom:8px;font-size:14px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:8px;font-size:15px;transition:all .2s;box-sizing:border-box}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border-color:#fc8181}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#a0aec0}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e53e3e;font-size:13px;margin-top:6px}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:14px 24px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:8px}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea66}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.trial-benefits[_ngcontent-%COMP%]{margin:24px 0;padding:20px;background:#f7fafc;border-radius:8px}.trial-benefits[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#2d3748;margin:0 0 12px}.trial-benefits[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.trial-benefits[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#4a5568;font-size:14px;margin-bottom:8px}.trial-benefits[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.trial-benefits[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#38a169;font-size:16px}.register-footer[_ngcontent-%COMP%]{margin-top:24px;text-align:center}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:14px;margin:8px 0}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.register-footer[_ngcontent-%COMP%]   p.terms[_ngcontent-%COMP%]{font-size:12px;color:#a0aec0;margin-top:16px}@media (max-width: 640px){.register-container[_ngcontent-%COMP%]{padding:15px}.register-card[_ngcontent-%COMP%]{padding:30px 20px}.register-header[_ngcontent-%COMP%]{margin-bottom:25px}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.register-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.register-header[_ngcontent-%COMP%]   .preview-context[_ngcontent-%COMP%]{font-size:13px}.register-header[_ngcontent-%COMP%]   .preview-context[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:11px;font-size:16px}.btn-primary[_ngcontent-%COMP%]{padding:13px;font-size:15px}.alert[_ngcontent-%COMP%]{padding:10px;font-size:13px}.register-footer[_ngcontent-%COMP%]{margin-top:20px}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.register-footer[_ngcontent-%COMP%]   p.terms[_ngcontent-%COMP%]{font-size:11px;margin-top:14px}.preview-info[_ngcontent-%COMP%]{padding:12px}.preview-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;margin-bottom:10px}.preview-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}.preview-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}}.preview-cta[_ngcontent-%COMP%]{margin:24px 0;text-align:center}.preview-cta[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20px 0;color:#cbd5e0;font-size:13px;text-transform:uppercase;letter-spacing:1px}.preview-cta[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .preview-cta[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e2e8f0}.preview-cta[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 12px;font-weight:600}.preview-cta[_ngcontent-%COMP%]   .btn-preview[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:transparent;border:2px solid #667eea;color:#667eea;border-radius:8px;font-weight:600;font-size:15px;text-decoration:none;transition:all .2s ease;cursor:pointer}.preview-cta[_ngcontent-%COMP%]   .btn-preview[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.preview-cta[_ngcontent-%COMP%]   .btn-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.preview-cta[_ngcontent-%COMP%]   .preview-hint[_ngcontent-%COMP%]{margin-top:8px;font-size:13px;color:#718096;font-style:italic}']})}}return u})();var gi=F(5964);function lo(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeMobileSidebar())}),e.k0s()}}function uo(u,l){if(1&u&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&u){const i=e.XpG(2);e.R7$(1),e.E5c(" \u2013 ",i.getTrialDaysRemaining()," d\xeda",1!==i.getTrialDaysRemaining()?"s":""," restante",1!==i.getTrialDaysRemaining()?"s":""," ")}}function Xs(u,l){if(1&u&&(e.j41(0,"div",17)(1,"div",18),e.EFF(2),e.k0s(),e.j41(3,"div",19)(4,"p",20),e.EFF(5),e.k0s(),e.j41(6,"p",21),e.EFF(7),e.k0s(),e.j41(8,"span",22),e.EFF(9),e.DNE(10,uo,2,3,"span",23),e.k0s()()()),2&u){const i=e.XpG();e.R7$(2),e.SpI(" ",i.tenant.name.charAt(0).toUpperCase()," "),e.R7$(3),e.JRh(i.tenant.name),e.R7$(2),e.JRh(i.tenant.email),e.R7$(1),e.Y8G("ngClass",i.getStatusClass()),e.R7$(1),e.SpI(" ",i.getStatusBadge()," "),e.R7$(1),e.Y8G("ngIf",i.tenant.is_on_trial&&null!==i.getTrialDaysRemaining())}}function ba(u,l){1&u&&e.nrm(0,"nav",24)}function Ms(u,l){1&u&&(e.j41(0,"div",25)(1,"div",26)(2,"span",27),e.nrm(3,"i",28),e.k0s(),e.j41(4,"p",29)(5,"strong"),e.EFF(6,"Setting up your account"),e.k0s(),e.nrm(7,"br"),e.j41(8,"small"),e.EFF(9,"Complete the wizard to get started"),e.k0s()()()())}let Mc=(()=>{class u{constructor(i,c){this.saasService=i,this.router=c,this.tenant=null,this.sidebarCollapsed=!1,this.onboardingMode=!1,this.mobileSidebarOpen=!1}ngOnInit(){this.saasService.currentTenant$.subscribe(i=>{this.tenant=i,this.checkOnboardingMode(this.router.url)}),this.saasService.getProfile().subscribe({error:i=>{console.error("Error loading profile:",i),401===i.status&&(this.saasService.logout(),this.router.navigate(["/login"]))}}),this.checkOnboardingMode(this.router.url),this.router.events.pipe((0,gi.p)(i=>i instanceof st.wF)).subscribe(i=>{this.checkOnboardingMode(i.url),this.closeMobileSidebar()})}checkOnboardingMode(i){this.onboardingMode=i.includes("/onboarding")}toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed}toggleMobileSidebar(){this.mobileSidebarOpen=!this.mobileSidebarOpen}closeMobileSidebar(){this.mobileSidebarOpen=!1}logout(){this.saasService.logout(),this.router.navigate(["/login"])}getStatusBadge(){return this.tenant?this.tenant.is_on_trial?"Trial":"active"===this.tenant.status?"Pro":"Inactivo":""}getStatusClass(){return this.tenant?this.tenant.is_on_trial?"status-trial":"active"===this.tenant.status?"status-active":"status-inactive":"status-inactive"}getTrialDaysRemaining(){if(!this.tenant?.is_on_trial||!this.tenant.trial_ends_at)return null;const i=new Date(this.tenant.trial_ends_at),c=new Date,d=i.getTime()-c.getTime(),P=Math.ceil(d/864e5);return P>0?P:0}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(ri),e.rXU(st.Ix))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-layout"]],decls:27,vars:11,consts:[[1,"layout-container"],["class","mobile-overlay",3,"click",4,"ngIf"],[1,"mobile-menu-btn",3,"click"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-toggle",3,"click"],[1,"mobile-close-btn",3,"click"],[1,"sidebar-content"],["class","user-info",4,"ngIf"],["class","sidebar-nav",4,"ngIf"],["class","onboarding-info",4,"ngIf"],[1,"sidebar-footer"],[1,"logout-btn",3,"click"],[1,"nav-icon"],[1,"nav-label"],[1,"main-content"],[1,"mobile-overlay",3,"click"],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"user-email"],[1,"status-badge",3,"ngClass"],[4,"ngIf"],[1,"sidebar-nav"],[1,"onboarding-info"],[1,"onboarding-message"],[1,"onboarding-icon"],[1,"bi","bi-rocket-takeoff"],[1,"onboarding-text"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.DNE(1,lo,1,0,"div",1),e.j41(2,"button",2),e.bIt("click",function(){return d.toggleMobileSidebar()}),e.j41(3,"span"),e.EFF(4,"\u2630"),e.k0s()(),e.j41(5,"aside",3)(6,"div",4)(7,"h2"),e.EFF(8,"LujanDev"),e.k0s(),e.j41(9,"button",5),e.bIt("click",function(){return d.toggleSidebar()}),e.j41(10,"span"),e.EFF(11,"\u2630"),e.k0s()(),e.j41(12,"button",6),e.bIt("click",function(){return d.closeMobileSidebar()}),e.j41(13,"span"),e.EFF(14,"\u2715"),e.k0s()()(),e.j41(15,"div",7),e.DNE(16,Xs,11,6,"div",8),e.DNE(17,ba,1,0,"nav",9),e.DNE(18,Ms,10,0,"div",10),e.k0s(),e.j41(19,"div",11)(20,"button",12),e.bIt("click",function(){return d.logout()}),e.j41(21,"span",13),e.EFF(22,"\u{1f6aa}"),e.k0s(),e.j41(23,"span",14),e.EFF(24,"Cerrar sesi\xf3n"),e.k0s()()()(),e.j41(25,"main",15),e.nrm(26,"router-outlet"),e.k0s()()),2&c&&(e.AVh("sidebar-collapsed",d.sidebarCollapsed)("onboarding-mode",d.onboardingMode)("mobile-sidebar-open",d.mobileSidebarOpen),e.R7$(1),e.Y8G("ngIf",d.mobileSidebarOpen),e.R7$(8),e.BMQ("aria-label",d.sidebarCollapsed?"Expand sidebar":"Collapse sidebar"),e.R7$(7),e.Y8G("ngIf",d.tenant),e.R7$(1),e.Y8G("ngIf",!d.onboardingMode),e.R7$(1),e.Y8G("ngIf",d.onboardingMode))},dependencies:[C.YU,C.bT,st.n3],styles:[".layout-container[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden;position:relative}.mobile-overlay[_ngcontent-%COMP%]{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:998}.mobile-menu-btn[_ngcontent-%COMP%]{display:none;position:fixed;top:15px;left:15px;z-index:999;background:#1a1d2e;border:none;color:#fff;width:44px;height:44px;border-radius:8px;font-size:24px;cursor:pointer;box-shadow:0 2px 8px #00000026;transition:all .2s}.mobile-menu-btn[_ngcontent-%COMP%]:hover{background:#2a2d3e}.mobile-menu-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.sidebar[_ngcontent-%COMP%]{width:260px;background:#1a1d2e;color:#fff;display:flex;flex-direction:column;transition:width .3s ease;flex-shrink:0;position:relative}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;font-size:24px;padding:0;display:none}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .mobile-close-btn[_ngcontent-%COMP%]{display:none;background:none;border:none;color:#fff;cursor:pointer;font-size:24px;padding:0}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px 0}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:0 20px 20px;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:600;margin-bottom:12px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:14px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{margin:4px 0;font-size:12px;color:#fff9}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:11px;font-weight:600;margin-top:8px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .status-badge.status-trial[_ngcontent-%COMP%]{background:rgba(59,130,246,.2);color:#60a5fa}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .status-badge.status-active[_ngcontent-%COMP%]{background:rgba(34,197,94,.2);color:#4ade80}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .status-badge.status-inactive[_ngcontent-%COMP%]{background:rgba(239,68,68,.2);color:#f87171}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;color:#ffffffb3;text-decoration:none;transition:all .2s;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:rgba(102,126,234,.2);color:#fff;border-left:3px solid #667eea}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item.nav-item-upgrade[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);margin:10px 15px;border-radius:8px;color:#fff;font-weight:600}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item.nav-item-upgrade[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #667eea4d}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item.nav-item-upgrade.active[_ngcontent-%COMP%]{border-left:none}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid rgba(255,255,255,.1)}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:12px;background:rgba(239,68,68,.1);border:none;border-radius:6px;color:#f87171;cursor:pointer;transition:background .2s}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.2)}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.main-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f5f5f5;padding:30px}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:70px}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%], .sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.layout-container.mobile-sidebar-open[_ngcontent-%COMP%]   .mobile-overlay[_ngcontent-%COMP%]{display:block}.layout-container.mobile-sidebar-open[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{transform:translate(0)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;z-index:999;transform:translate(-100%);transition:transform .3s ease;box-shadow:2px 0 8px #00000026}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .mobile-close-btn[_ngcontent-%COMP%]{display:block}.main-content[_ngcontent-%COMP%]{padding:80px 15px 20px;width:100%}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:260px;transform:translate(-100%)}}@media (max-width: 480px){.main-content[_ngcontent-%COMP%]{padding:70px 10px 15px}.sidebar[_ngcontent-%COMP%]{width:280px;max-width:85vw}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:0 15px 15px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:20px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:13px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:11px}.sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:10px;padding:3px 10px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:10px 15px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:18px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:13px}}.onboarding-mode[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .onboarding-info[_ngcontent-%COMP%]{padding:20px;margin-top:20px}.onboarding-mode[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .onboarding-info[_ngcontent-%COMP%]   .onboarding-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:rgba(102,126,234,.1);border:1px solid rgba(102,126,234,.3);border-radius:8px}.onboarding-mode[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .onboarding-info[_ngcontent-%COMP%]   .onboarding-message[_ngcontent-%COMP%]   .onboarding-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.onboarding-mode[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .onboarding-info[_ngcontent-%COMP%]   .onboarding-message[_ngcontent-%COMP%]   .onboarding-text[_ngcontent-%COMP%]{flex:1;margin:0}.onboarding-mode[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .onboarding-info[_ngcontent-%COMP%]   .onboarding-message[_ngcontent-%COMP%]   .onboarding-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#fff;margin-bottom:4px}.onboarding-mode[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .onboarding-info[_ngcontent-%COMP%]   .onboarding-message[_ngcontent-%COMP%]   .onboarding-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:12px;color:#ffffffb3;line-height:1.4}.onboarding-mode[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:10px;line-height:1.4}"]})}}return u})();function Ca(u,l){if(1&u&&(e.j41(0,"div",7),e.EFF(1),e.k0s()),2&u){const i=e.XpG();e.R7$(1),e.SpI(" ",i.error," ")}}function Uo(u,l){if(1&u&&(e.j41(0,"span",18),e.EFF(1),e.k0s()),2&u){const i=e.XpG().$implicit;e.R7$(1),e.SpI(" ",i.days_remaining," d\xedas restantes ")}}function Ea(u,l){if(1&u&&(e.j41(0,"div",19),e.EFF(1," Plan: "),e.j41(2,"strong"),e.EFF(3),e.k0s()()),2&u){const i=e.XpG().$implicit;e.R7$(3),e.JRh(i.plan)}}function Ks(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"Entrar"),e.k0s())}function Dc(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"Cargando..."),e.k0s())}function ki(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",8),e.bIt("click",function(){const P=e.eBV(i).$implicit,A=e.XpG();return e.Njj(A.selectModule(P))}),e.j41(1,"div",9),e.nrm(2,"i"),e.k0s(),e.j41(3,"div",10)(4,"h3"),e.EFF(5),e.k0s(),e.j41(6,"div",11)(7,"span",12),e.EFF(8),e.k0s(),e.DNE(9,Uo,2,1,"span",13),e.k0s(),e.DNE(10,Ea,4,1,"div",14),e.k0s(),e.j41(11,"div",15)(12,"button",16),e.DNE(13,Ks,2,0,"span",17),e.DNE(14,Dc,2,0,"span",17),e.k0s()()()}if(2&u){const i=l.$implicit,c=e.XpG();e.AVh("disabled",!i.has_access),e.R7$(1),e.xc7("background-color",i.color),e.R7$(1),e.HbH(i.icon),e.R7$(3),e.JRh(i.module_name),e.R7$(2),e.HbH(c.getStatusClass(i.status)),e.R7$(1),e.SpI(" ",c.getStatusText(i.status)," "),e.R7$(1),e.Y8G("ngIf","trial"===i.status&&void 0!==i.days_remaining),e.R7$(1),e.Y8G("ngIf",i.plan),e.R7$(2),e.Y8G("disabled",!i.has_access||c.isLoading),e.R7$(1),e.Y8G("ngIf",!c.isLoading),e.R7$(1),e.Y8G("ngIf",c.isLoading)}}let wa=(()=>{class u{constructor(i,c){this.router=i,this.saasService=c,this.modules=[],this.email="",this.password="",this.isLoading=!1,this.error="";const d=this.router.getCurrentNavigation();d?.extras?.state&&(this.modules=d.extras.state.modules||[],this.email=d.extras.state.email||"",this.password=d.extras.state.password||"")}ngOnInit(){0===this.modules.length&&this.router.navigate(["/login"])}selectModule(i){i.has_access?(this.isLoading=!0,this.error="",this.saasService.login({email:this.email,password:this.password,moduleKey:i.module_key}).subscribe({next:c=>{c.success?this.router.navigate([i.dashboard_url]):(this.error=c.message||"Error al acceder al m\xf3dulo",this.isLoading=!1)},error:c=>{console.error("Error en select module:",c),this.error=c.error?.message||"Error al conectar con el servidor",this.isLoading=!1}})):this.error=`No tienes acceso a ${i.module_name}. Por favor, verifica tu suscripci\xf3n.`}getStatusClass(i){switch(i){case"trial":return"status-trial";case"active":return"status-active";case"cancelled":case"suspended":case"expired":return"status-inactive";default:return""}}getStatusText(i){switch(i){case"trial":return"Per\xedodo de prueba";case"active":return"Suscripci\xf3n activa";case"cancelled":return"Cancelado";case"suspended":return"Suspendido";case"expired":return"Expirado";default:return i}}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(st.Ix),e.rXU(ri))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-select-app"]],decls:12,vars:3,consts:[[1,"select-app-container"],[1,"select-app-header"],["class","alert alert-error",4,"ngIf"],[1,"modules-grid"],["class","module-card",3,"disabled","click",4,"ngFor","ngForOf"],[1,"select-app-footer"],["routerLink","/login"],[1,"alert","alert-error"],[1,"module-card",3,"click"],[1,"module-icon"],[1,"module-info"],[1,"module-status"],[1,"status-badge"],["class","trial-info",4,"ngIf"],["class","module-plan",4,"ngIf"],[1,"module-action"],["type","button",1,"btn-enter",3,"disabled"],[4,"ngIf"],[1,"trial-info"],[1,"module-plan"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Selecciona una aplicaci\xf3n"),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s()(),e.DNE(6,Ca,2,1,"div",2),e.j41(7,"div",3),e.DNE(8,ki,15,15,"div",4),e.k0s(),e.j41(9,"div",5)(10,"a",6),e.EFF(11,"\u2190 Volver al login"),e.k0s()()()),2&c&&(e.R7$(5),e.SpI("Tienes acceso a ",d.modules.length," productos de LujanDev"),e.R7$(1),e.Y8G("ngIf",d.error),e.R7$(2),e.Y8G("ngForOf",d.modules))},dependencies:[C.Sq,C.bT,st.Wk],styles:[".select-app-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;flex-direction:column;align-items:center;padding:40px 20px}.select-app-header[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-bottom:40px}.select-app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:10px}.select-app-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.alert[_ngcontent-%COMP%]{width:100%;max-width:1000px;padding:15px 20px;border-radius:8px;margin-bottom:30px;font-weight:500}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fee;border:1px solid #fcc;color:#c33}.modules-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:30px;width:100%;max-width:1200px;margin-bottom:40px}.module-card[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:30px;display:flex;flex-direction:column;align-items:center;text-align:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}.module-card[_ngcontent-%COMP%]:hover:not(.disabled){transform:translateY(-5px);box-shadow:0 8px 15px #0003}.module-card.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.module-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:20px;font-size:2rem;color:#fff}.module-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.module-info[_ngcontent-%COMP%]{flex:1;margin-bottom:20px}.module-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;margin-bottom:15px}.module-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:5px 12px;border-radius:20px;font-size:.85rem;font-weight:600}.status-badge.status-trial[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-badge.status-active[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.status-badge.status-inactive[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.trial-info[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.module-plan[_ngcontent-%COMP%]{font-size:.95rem;color:#666}.module-plan[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;text-transform:capitalize}.module-action[_ngcontent-%COMP%]{width:100%}.btn-enter[_ngcontent-%COMP%]{width:100%;padding:12px 24px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-enter[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);box-shadow:0 4px 12px #667eea66}.btn-enter[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.select-app-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.select-app-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:1rem;font-weight:500;opacity:.9;transition:opacity .3s ease}.select-app-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;text-decoration:underline}@media (max-width: 768px){.select-app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.modules-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}"]})}}return u})();function Ar(u,l){1&u&&(e.j41(0,"div",4)(1,"div",5)(2,"span",6),e.EFF(3,"Cargando..."),e.k0s()(),e.j41(4,"p",7),e.EFF(5,"Cargando planes disponibles..."),e.k0s()())}function mn(u,l){if(1&u&&(e.j41(0,"div",8),e.nrm(1,"i",9),e.EFF(2),e.k0s()),2&u){const i=e.XpG();e.R7$(2),e.SpI(" ",i.error," ")}}function Ds(u,l){if(1&u&&(e.j41(0,"div",28)(1,"span",29),e.nrm(2,"i",30),e.EFF(3),e.k0s()()),2&u){const i=e.XpG(2);e.R7$(3),e.SpI(" ",i.tenant.is_on_trial?"Trial finalizado":"Subscripci\xf3n expirada"," ")}}function So(u,l){if(1&u&&(e.j41(0,"span"),e.EFF(1," para "),e.j41(2,"strong"),e.EFF(3),e.k0s()()),2&u){const i=e.XpG(3);e.R7$(3),e.JRh(i.moduleKeyFromUrl)}}function Rr(u,l){if(1&u&&(e.j41(0,"div",31),e.nrm(1,"i",32),e.EFF(2," Contin\xfaa como: "),e.j41(3,"strong"),e.EFF(4),e.k0s(),e.DNE(5,So,4,1,"span",33),e.nrm(6,"br"),e.j41(7,"small"),e.EFF(8,"Al seleccionar un plan, se te pedir\xe1 iniciar sesi\xf3n para completar la compra."),e.k0s()()),2&u){const i=e.XpG(2);e.R7$(4),e.JRh(i.emailFromUrl),e.R7$(1),e.Y8G("ngIf",i.moduleKeyFromUrl)}}function Pc(u,l){1&u&&(e.j41(0,"div",50)(1,"span",51),e.EFF(2,"\u2b50"),e.k0s(),e.j41(3,"span"),e.EFF(4,"M\xc1S POPULAR"),e.k0s()())}function Ys(u,l){if(1&u&&(e.j41(0,"li",54),e.qSk(),e.j41(1,"svg",55),e.nrm(2,"path",56),e.k0s(),e.joV(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&u){const i=l.$implicit;e.R7$(4),e.JRh(i)}}function ls(u,l){if(1&u&&(e.j41(0,"ul",52),e.DNE(1,Ys,5,1,"li",53),e.k0s()),2&u){const i=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",i.features)}}function oi(u,l){1&u&&(e.j41(0,"span"),e.qSk(),e.j41(1,"svg",57),e.nrm(2,"path",58)(3,"path",59),e.k0s(),e.EFF(4," Suscribirme ahora "),e.k0s())}function Sc(u,l){1&u&&(e.j41(0,"span",60),e.nrm(1,"span",61),e.EFF(2," Procesando... "),e.k0s())}const qs=function(u){return{featured:u}},Ma=function(u,l){return{"button-featured":u,"button-processing":l}};function Oo(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",34),e.DNE(1,Pc,5,0,"div",35),e.j41(2,"div",36)(3,"h3",37),e.EFF(4),e.k0s(),e.j41(5,"div",38)(6,"span",39),e.EFF(7,"\u20ac"),e.k0s(),e.j41(8,"span",40),e.EFF(9),e.k0s(),e.j41(10,"span",41),e.EFF(11,"/mes"),e.k0s()()(),e.j41(12,"div",42)(13,"p",43),e.EFF(14),e.k0s(),e.DNE(15,ls,2,1,"ul",44),e.j41(16,"button",45),e.bIt("click",function(){const P=e.eBV(i).$implicit,A=e.XpG(2);return e.Njj(A.subscribeToPlan(P))}),e.DNE(17,oi,5,0,"span",33),e.DNE(18,Sc,3,0,"span",46),e.k0s(),e.j41(19,"p",47),e.qSk(),e.j41(20,"svg",48),e.nrm(21,"path",49),e.k0s(),e.EFF(22," Pago 100% seguro \u2022 Cancela cuando quieras "),e.k0s()()()}if(2&u){const i=l.$implicit,c=e.XpG(2);e.Y8G("ngClass",e.eq3(11,qs,i.recommended)),e.R7$(1),e.Y8G("ngIf",i.recommended),e.R7$(1),e.Y8G("ngClass",i.recommended?"gradient-featured":"gradient-normal"),e.R7$(2),e.JRh(i.name),e.R7$(5),e.JRh(i.price),e.R7$(5),e.JRh(i.description),e.R7$(1),e.Y8G("ngIf",i.features&&i.features.length>0),e.R7$(1),e.Y8G("ngClass",e.l_i(13,Ma,i.recommended,c.processingPlan===i.name))("disabled",null!==c.processingPlan),e.R7$(1),e.Y8G("ngIf",c.processingPlan!==i.name),e.R7$(1),e.Y8G("ngIf",c.processingPlan===i.name)}}function Qs(u,l){1&u&&(e.j41(0,"div",62),e.nrm(1,"i",9),e.EFF(2," No hay planes disponibles en este momento. Contacta con soporte. "),e.k0s())}function Xi(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",63)(1,"button",64),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.goToDashboard())}),e.nrm(2,"i",65),e.EFF(3," Volver al dashboard "),e.k0s()()}}function Da(u,l){if(1&u&&(e.j41(0,"div",10)(1,"div",11),e.DNE(2,Ds,4,1,"div",12),e.j41(3,"h1",13),e.EFF(4),e.k0s(),e.j41(5,"p",14),e.EFF(6),e.k0s(),e.DNE(7,Rr,9,2,"div",15),e.k0s(),e.j41(8,"div",16),e.DNE(9,Oo,23,16,"div",17),e.k0s(),e.DNE(10,Qs,3,0,"div",18),e.j41(11,"div",19)(12,"div",20)(13,"div",21)(14,"div",22)(15,"h4",23),e.EFF(16,"Preguntas frecuentes"),e.k0s(),e.j41(17,"div",24)(18,"h6",25),e.EFF(19,"\xbfPuedo cancelar en cualquier momento?"),e.k0s(),e.j41(20,"p",26),e.EFF(21," S\xed, puedes cancelar tu subscripci\xf3n desde tu dashboard en cualquier momento. Mantendr\xe1s acceso hasta el final del periodo pagado. "),e.k0s()(),e.j41(22,"div",24)(23,"h6",25),e.EFF(24,"\xbfQu\xe9 m\xe9todos de pago aceptan?"),e.k0s(),e.j41(25,"p",26),e.EFF(26," Aceptamos todas las tarjetas de cr\xe9dito y d\xe9bito principales a trav\xe9s de Stripe. "),e.k0s()(),e.j41(27,"div",24)(28,"h6",25),e.EFF(29,"\xbfPuedo cambiar de plan despu\xe9s?"),e.k0s(),e.j41(30,"p",26),e.EFF(31," S\xed, puedes actualizar o cambiar tu plan en cualquier momento desde tu dashboard. "),e.k0s()(),e.j41(32,"div")(33,"h6",25),e.EFF(34,"\xbfLos datos de mi trial se conservan?"),e.k0s(),e.j41(35,"p",26),e.EFF(36," S\xed, todos los datos y configuraciones que creaste durante el trial se mantienen intactos. "),e.k0s()()()()()(),e.DNE(37,Xi,4,0,"div",27),e.k0s()),2&u){const i=e.XpG();e.R7$(2),e.Y8G("ngIf",i.tenant),e.R7$(2),e.SpI(" ",i.tenant?"Elige tu plan para continuar":"Elige tu plan"," "),e.R7$(2),e.SpI(" ",i.tenant?i.tenant.is_on_trial?"Tu periodo de prueba ha terminado. Elige un plan para seguir disfrutando de todas las funcionalidades.":"Selecciona un plan para reactivar tu acceso.":"Selecciona el plan que mejor se adapte a tus necesidades."," "),e.R7$(1),e.Y8G("ngIf",!i.tenant&&i.emailFromUrl),e.R7$(2),e.Y8G("ngForOf",i.plans),e.R7$(1),e.Y8G("ngIf",0===i.plans.length),e.R7$(27),e.Y8G("ngIf",i.tenant&&i.tenant.has_access)}}let Oc=(()=>{class u{constructor(i,c,d){this.router=i,this.route=c,this.http=d,this.tenant=null,this.plans=[],this.loading=!0,this.error=null,this.processingPlan=null,this.emailFromUrl=null,this.moduleKeyFromUrl=null}ngOnInit(){this.route.queryParams.subscribe(i=>{this.emailFromUrl=i.email||null,this.moduleKeyFromUrl=i.module||null}),this.loadTenantProfile()}loadTenantProfile(){const i=localStorage.getItem("tenant_token");if(!i)return console.log("\u{1f4e7} No hay sesi\xf3n, mostrando planes p\xfablicos..."),this.tenant=null,void this.loadModulePlans();this.http.get(`${or.c.URL_SERVICE}saas/me`,{headers:{Authorization:`Bearer ${i}`}}).subscribe({next:d=>{d.success&&d.tenant&&(this.tenant=d.tenant,this.loadModulePlans())},error:d=>{console.error("Error loading tenant profile:",d),this.tenant=null,this.loadModulePlans()}})}loadModulePlans(){const i=this.tenant?.module_key||this.moduleKeyFromUrl;if(!i)return this.error="No se pudo identificar el m\xf3dulo",void(this.loading=!1);this.http.get(`${or.c.URL_SERVICE}modules/public/${i}`).subscribe({next:c=>{c.module&&c.module.saas_config?.pricing&&(this.plans=c.module.saas_config.pricing),this.loading=!1},error:c=>{console.error("Error loading module plans:",c),this.error="Error al cargar los planes disponibles",this.loading=!1}})}subscribeToPlan(i){var c=this;return(0,Vn.A)(function*(){if(c.tenant){if(i.stripe_price_id&&!c.processingPlan){c.processingPlan=i.name,console.log("\u{1f3af} Plan seleccionado:",{name:i.name,price:i.price,stripe_price_id:i.stripe_price_id});try{const d={tenantId:c.tenant.id,moduleKey:c.tenant.module_key,planName:i.name,stripePriceId:i.stripe_price_id,successUrl:`${window.location.origin}/upgrade/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${window.location.origin}/upgrade?canceled=true`};console.log("\u{1f4e4} Enviando petici\xf3n a Stripe:",d);const P=yield c.http.post(`${or.c.URL_SERVICE}stripe/create-subscription-checkout`,d).toPromise();if(!P?.success||!P.url)throw new Error("No se recibi\xf3 URL de Stripe");window.location.href=P.url}catch(d){console.error("Error creating subscription checkout:",d),alert(d.error?.message||"Error al procesar el pago. Int\xe9ntalo de nuevo."),c.processingPlan=null}}}else console.log("\u{1f512} No hay sesi\xf3n activa, redirigiendo a login..."),c.router.navigate(["/login"],{queryParams:{returnUrl:"/upgrade",email:c.emailFromUrl||""}})})()}goToDashboard(){this.tenant&&this.tenant.has_access&&this.router.navigate([`/${this.tenant.module_key}`])}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(st.Ix),e.rXU(st.nX),e.rXU(ni.Qq))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-upgrade"]],decls:4,vars:3,consts:[[1,"upgrade-container"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger mx-auto","style","max-width: 600px",4,"ngIf"],["class","content-wrapper",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"mt-3","text-muted"],[1,"alert","alert-danger","mx-auto",2,"max-width","600px"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"content-wrapper"],[1,"text-center","mb-5"],["class","mb-3",4,"ngIf"],[1,"display-5","fw-bold","mb-3"],[1,"lead","text-muted"],["class","alert alert-info mx-auto mt-4","style","max-width: 600px",4,"ngIf"],[1,"pricing-cards-container"],["class","pricing-card",3,"ngClass",4,"ngFor","ngForOf"],["class","alert alert-warning text-center",4,"ngIf"],[1,"row","mt-5"],[1,"col-lg-8","mx-auto"],[1,"card","shadow-sm"],[1,"card-body","p-5"],[1,"mb-4","text-center"],[1,"mb-4"],[1,"fw-bold"],[1,"text-muted","mb-0"],["class","text-center mt-4",4,"ngIf"],[1,"mb-3"],[1,"badge","bg-warning","text-dark","fs-5","px-4","py-2"],[1,"fas","fa-clock","me-2"],[1,"alert","alert-info","mx-auto","mt-4",2,"max-width","600px"],[1,"fas","fa-info-circle","me-2"],[4,"ngIf"],[1,"pricing-card",3,"ngClass"],["class","popular-badge",4,"ngIf"],[1,"card-header-gradient",3,"ngClass"],[1,"plan-name"],[1,"price-container"],[1,"currency"],[1,"price"],[1,"period"],[1,"card-content"],[1,"plan-description"],["class","features-list",4,"ngIf"],[1,"subscribe-button",3,"ngClass","disabled","click"],["class","processing-text",4,"ngIf"],[1,"secure-text"],["viewBox","0 0 20 20","fill","currentColor",1,"shield-icon"],["fill-rule","evenodd","d","M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"popular-badge"],[1,"badge-star"],[1,"features-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],["viewBox","0 0 20 20","fill","currentColor",1,"check-icon"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],["viewBox","0 0 20 20","fill","currentColor",1,"button-icon"],["d","M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"],["fill-rule","evenodd","d","M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z","clip-rule","evenodd"],[1,"processing-text"],[1,"spinner"],[1,"alert","alert-warning","text-center"],[1,"text-center","mt-4"],[1,"btn","btn-link",3,"click"],[1,"fas","fa-arrow-left","me-2"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.DNE(1,Ar,6,0,"div",1),e.DNE(2,mn,3,1,"div",2),e.DNE(3,Da,38,7,"div",3),e.k0s()),2&c&&(e.R7$(1),e.Y8G("ngIf",d.loading),e.R7$(1),e.Y8G("ngIf",d.error&&!d.loading),e.R7$(1),e.Y8G("ngIf",!d.loading&&!d.error))},dependencies:[C.YU,C.Sq,C.bT],styles:['.upgrade-container[_ngcontent-%COMP%]{min-height:100vh;padding:60px 20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);position:relative}.upgrade-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 50%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none}.content-wrapper[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;position:relative;z-index:1}.pricing-cards-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:30px;margin-bottom:50px;max-width:1200px;margin-left:auto;margin-right:auto}.pricing-card[_ngcontent-%COMP%]{background:white;border-radius:24px;overflow:hidden;position:relative;transition:all .4s cubic-bezier(.175,.885,.32,1.275);box-shadow:0 10px 40px #0000001a}.pricing-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.02);box-shadow:0 20px 60px #667eea4d}.pricing-card.featured[_ngcontent-%COMP%]{border:3px solid #667eea;box-shadow:0 15px 50px #667eea40}.pricing-card.featured[_ngcontent-%COMP%]:hover{box-shadow:0 25px 70px #667eea66}.popular-badge[_ngcontent-%COMP%]{position:absolute;top:-12px;left:50%;transform:translate(-50%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:8px 24px;border-radius:50px;font-size:.75rem;font-weight:700;letter-spacing:1px;z-index:10;display:flex;align-items:center;gap:6px;box-shadow:0 4px 15px #667eea66;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.popular-badge[_ngcontent-%COMP%]   .badge-star[_ngcontent-%COMP%]{font-size:1rem;animation:_ngcontent-%COMP%_rotate 4s linear infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(-50%) translateY(0)}50%{transform:translate(-50%) translateY(-5px)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.card-header-gradient[_ngcontent-%COMP%]{padding:40px 30px 30px;text-align:center;position:relative}.card-header-gradient.gradient-featured[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}.card-header-gradient.gradient-normal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d 0%,#495057 100%)}.plan-name[_ngcontent-%COMP%]{color:#fff;font-size:1.75rem;font-weight:700;margin:0 0 20px;text-transform:uppercase;letter-spacing:1px}.price-container[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;color:#fff}.price-container[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-right:4px}.price-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:4rem;font-weight:800;line-height:1}.price-container[_ngcontent-%COMP%]   .period[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin-left:6px;opacity:.9}.card-content[_ngcontent-%COMP%]{padding:35px 30px 40px}.plan-description[_ngcontent-%COMP%]{color:#6c757d;font-size:.95rem;line-height:1.6;margin-bottom:30px;text-align:center;min-height:48px}.features-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 35px}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:12px 0;border-bottom:1px solid #f0f0f0}.feature-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.feature-item[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:#10b981;flex-shrink:0;margin-top:2px}.feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1a1a1a;font-size:.95rem;line-height:1.5}.subscribe-button[_ngcontent-%COMP%]{width:100%;padding:16px 32px;border:none;border-radius:12px;font-size:1.05rem;font-weight:700;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:20px;background:linear-gradient(135deg,#6c757d 0%,#495057 100%);color:#fff;box-shadow:0 4px 15px #0003}.subscribe-button.button-featured[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);box-shadow:0 6px 20px #667eea66}.subscribe-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #667eea80}.subscribe-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.subscribe-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:20px;height:20px}.processing-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.secure-text[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-size:.85rem;display:flex;align-items:center;justify-content:center;gap:6px;margin:0}.secure-text[_ngcontent-%COMP%]   .shield-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#10b981}.card[_ngcontent-%COMP%]{background:white;border-radius:20px;box-shadow:0 4px 20px #00000014;border:none;overflow:hidden}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:40px}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#1a1a1a}.card[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#6c757d!important}@media (max-width: 768px){.pricing-cards-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:25px}.upgrade-container[_ngcontent-%COMP%]{padding:40px 15px}.price-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:3rem}.card-content[_ngcontent-%COMP%]{padding:25px 20px 30px}}.display-3[_ngcontent-%COMP%]{font-size:3.5rem;line-height:1}.btn-lg[_ngcontent-%COMP%]{padding:12px 30px;font-size:1.1rem;border-radius:8px;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border:none}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#764ba2 0%,#667eea 100%);transform:scale(1.02)}.btn-outline-primary[_ngcontent-%COMP%]{border:2px solid #667eea;color:#667eea}.btn-outline-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#667eea;color:#fff;transform:scale(1.02)}.badge[_ngcontent-%COMP%]{border-radius:50px;font-weight:600}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:5px}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}@media (max-width: 768px){.display-5[_ngcontent-%COMP%]{font-size:2rem}.display-3[_ngcontent-%COMP%]{font-size:2.5rem}.upgrade-container[_ngcontent-%COMP%]{padding:40px 15px}}']})}}return u})();function Ic(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",4)(1,"div",5),e.nrm(2,"i",6),e.k0s(),e.j41(3,"h1"),e.EFF(4,"\xa1Pago Exitoso!"),e.k0s(),e.j41(5,"p",7),e.EFF(6," Tu subscripci\xf3n ha sido activada correctamente. "),e.k0s(),e.j41(7,"div",8)(8,"p")(9,"strong"),e.EFF(10,"\xbfQu\xe9 sigue?"),e.k0s()(),e.j41(11,"ul")(12,"li"),e.EFF(13,"Tu cuenta ha sido actualizada al plan de pago"),e.k0s(),e.j41(14,"li"),e.EFF(15,"Ahora tienes acceso completo a todas las funcionalidades"),e.k0s(),e.j41(16,"li"),e.EFF(17,"Recibir\xe1s un email de confirmaci\xf3n en breve"),e.k0s()()(),e.j41(18,"p",9),e.EFF(19," Ser\xe1s redirigido a tu dashboard en unos segundos... "),e.k0s(),e.j41(20,"button",10),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.goToDashboard())}),e.EFF(21," Ir al Dashboard "),e.k0s()()}}function xl(u,l){1&u&&(e.j41(0,"div",11),e.nrm(1,"div",12),e.j41(2,"h2"),e.EFF(3,"Procesando tu pago..."),e.k0s(),e.j41(4,"p"),e.EFF(5,"Por favor espera mientras verificamos tu subscripci\xf3n"),e.k0s()())}function yt(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",13)(1,"div",14),e.nrm(2,"i",15),e.k0s(),e.j41(3,"h2"),e.EFF(4,"Ocurri\xf3 un problema"),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s(),e.j41(7,"button",16),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.goToDashboard())}),e.EFF(8," Volver al Dashboard "),e.k0s()()}if(2&u){const i=e.XpG();e.R7$(6),e.JRh(i.error)}}let Js=(()=>{class u{constructor(i,c,d){this.route=i,this.router=c,this.saasService=d,this.loading=!0,this.error=null,this.sessionId=null}ngOnInit(){this.route.queryParams.subscribe(i=>{this.sessionId=i.session_id,console.log("Session ID from Stripe:",this.sessionId),this.verifyPayment()})}verifyPayment(){setTimeout(()=>{this.saasService.getProfile().subscribe({next:i=>{i.success&&i.tenant&&(console.log("\u2705 Perfil actualizado:",i.tenant),this.loading=!1,"active"===i.tenant.status?(console.log("\u{1f389} Subscripci\xf3n activada correctamente"),setTimeout(()=>{this.router.navigate([`/${i.tenant.module_key}`])},3e3)):(console.log("\u23f3 Esperando activaci\xf3n... Status:",i.tenant.status),this.error="Procesando tu subscripci\xf3n, por favor espera...",setTimeout(()=>{this.verifyPayment()},3e3)))},error:i=>{console.error("Error loading profile:",i),this.error="Error al verificar tu subscripci\xf3n",this.loading=!1}})},2e3)}goToDashboard(){const i=localStorage.getItem("tenant_token"),c=JSON.parse(localStorage.getItem("tenant")||"{}");this.router.navigate(i&&c.module_key?[`/${c.module_key}`]:["/login"])}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(st.nX),e.rXU(st.Ix),e.rXU(ri))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-upgrade-success"]],decls:4,vars:3,consts:[[1,"success-container"],["class","success-card",4,"ngIf"],["class","loading-card",4,"ngIf"],["class","error-card",4,"ngIf"],[1,"success-card"],[1,"success-icon"],[1,"fas","fa-check-circle"],[1,"success-message"],[1,"info-box"],[1,"redirect-message"],[1,"btn","btn-primary",3,"click"],[1,"loading-card"],[1,"spinner"],[1,"error-card"],[1,"error-icon"],[1,"fas","fa-exclamation-circle"],[1,"btn","btn-secondary",3,"click"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.DNE(1,Ic,22,0,"div",1),e.DNE(2,xl,6,0,"div",2),e.DNE(3,yt,9,1,"div",3),e.k0s()),2&c&&(e.R7$(1),e.Y8G("ngIf",!d.loading&&!d.error),e.R7$(1),e.Y8G("ngIf",d.loading),e.R7$(1),e.Y8G("ngIf",d.error&&!d.loading))},dependencies:[C.bT],styles:['@charset "UTF-8";.success-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:2rem}.success-card[_ngcontent-%COMP%], .loading-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{background:white;border-radius:16px;padding:3rem;max-width:600px;width:100%;text-align:center;box-shadow:0 10px 40px #0003}.success-icon[_ngcontent-%COMP%]{font-size:5rem;color:#28a745;margin-bottom:1.5rem}.success-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .5s ease-out}.error-icon[_ngcontent-%COMP%]{font-size:5rem;color:#dc3545;margin-bottom:1.5rem}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1a1a1a;margin-bottom:1rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a;margin-bottom:1rem}.success-message[_ngcontent-%COMP%]{font-size:1.1rem;color:#6c757d;margin-bottom:2rem}.info-box[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;margin-bottom:2rem;text-align:left}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;color:#1a1a1a;margin-bottom:1rem}.info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0;color:#495057;display:flex;align-items:center}.info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2713";display:inline-block;width:24px;height:24px;background:#28a745;color:#fff;border-radius:50%;text-align:center;line-height:24px;margin-right:12px;font-weight:700;flex-shrink:0}.redirect-message[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:1.5rem;font-style:italic}.btn[_ngcontent-%COMP%]{padding:.75rem 2rem;border-radius:8px;border:none;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 2rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0)}50%{transform:scale(1.1)}to{transform:scale(1)}}@media (max-width: 768px){.success-card[_ngcontent-%COMP%], .loading-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{padding:2rem}h1[_ngcontent-%COMP%]{font-size:1.5rem}.success-icon[_ngcontent-%COMP%], .error-icon[_ngcontent-%COMP%]{font-size:4rem}}']})}}return u})();function Pa(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",4),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.toggleMinimize())}),e.j41(1,"div",5)(2,"span",6),e.nrm(3,"i",7),e.k0s(),e.j41(4,"span",8),e.EFF(5),e.k0s()()()}if(2&u){const i=e.XpG(2);e.R7$(5),e.SpI("",i.daysRemaining," d\xedas restantes")}}function xc(u,l){if(1&u&&(e.j41(0,"div",25)(1,"div",26),e.nrm(2,"div",27),e.k0s(),e.j41(3,"span",28),e.EFF(4),e.k0s()()),2&u){const i=e.XpG(3);e.R7$(2),e.xc7("width",i.progressPercentage,"%"),e.R7$(2),e.SpI("",i.daysRemaining,"/14 d\xedas")}}function kc(u,l){1&u&&(e.j41(0,"p",29),e.EFF(1," Sin compromisos. Cancela cuando quieras. "),e.k0s())}function kl(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",9)(1,"button",10),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.dismiss())}),e.EFF(2,"\xd7"),e.k0s(),e.j41(3,"button",11),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.toggleMinimize())}),e.EFF(4,"\u2212"),e.k0s(),e.j41(5,"div",12)(6,"div",13)(7,"div",14)(8,"div",15)(9,"span",6),e.nrm(10,"i"),e.k0s()()(),e.j41(11,"div",16)(12,"h3",17),e.EFF(13),e.k0s(),e.j41(14,"p",18),e.EFF(15," Finaliza el "),e.j41(16,"strong"),e.EFF(17),e.k0s()(),e.DNE(18,xc,5,3,"div",19),e.k0s()(),e.j41(19,"div",20)(20,"button",21),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.navigateToUpgrade())}),e.j41(21,"span",22),e.EFF(22,"Ver Planes"),e.k0s(),e.j41(23,"span",23),e.EFF(24,"\u2192"),e.k0s()(),e.DNE(25,kc,2,0,"p",24),e.k0s()()()}if(2&u){const i=e.XpG(2);e.R7$(8),e.AVh("pulse",i.isExpiringSoon),e.R7$(2),e.HbH(i.isExpiredToday?"bi bi-exclamation-triangle":"bi bi-clock"),e.R7$(3),e.JRh(i.getMessage()),e.R7$(4),e.JRh(i.getTrialEndDate()),e.R7$(1),e.Y8G("ngIf",i.daysRemaining>0),e.R7$(7),e.Y8G("ngIf",i.daysRemaining>1)}}function Zs(u,l){if(1&u&&(e.j41(0,"div",1),e.DNE(1,Pa,6,1,"div",2),e.DNE(2,kl,26,8,"div",3),e.k0s()),2&u){const i=e.XpG();e.AVh("minimized",i.isMinimized)("urgent","urgent"===i.urgencyLevel)("warning","warning"===i.urgencyLevel),e.R7$(1),e.Y8G("ngIf",i.isMinimized),e.R7$(1),e.Y8G("ngIf",!i.isMinimized)}}let Bo=(()=>{class u{constructor(i){this.router=i,this.tenant=null,this.isDismissed=!1,this.isMinimized=!1}ngOnInit(){this.isDismissed="true"===sessionStorage.getItem(`trial_banner_dismissed_${this.tenant?.id}`),this.isMinimized="true"===localStorage.getItem(`trial_banner_minimized_${this.tenant?.id}`)}get daysRemaining(){return this.tenant?.days_remaining||0}get isExpiringSoon(){return this.daysRemaining<=3&&this.daysRemaining>0}get isExpiredToday(){return 0===this.daysRemaining}get progressPercentage(){return this.tenant?.trial_ends_at?Math.max(0,Math.min(100,(14-this.daysRemaining)/14*100)):0}get urgencyLevel(){return this.daysRemaining<=1?"urgent":this.daysRemaining<=3?"warning":"info"}dismiss(){this.isDismissed=!0,sessionStorage.setItem(`trial_banner_dismissed_${this.tenant?.id}`,"true")}toggleMinimize(){this.isMinimized=!this.isMinimized,localStorage.setItem(`trial_banner_minimized_${this.tenant?.id}`,this.isMinimized.toString())}navigateToUpgrade(){this.router.navigate(["/upgrade"])}getTrialEndDate(){return this.tenant?.trial_ends_at?new Date(this.tenant.trial_ends_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):""}getMessage(){const i=this.daysRemaining;return 0===i?"Tu prueba gratuita finaliza hoy":1===i?"Te queda 1 d\xeda de prueba gratuita":i<=3?`Te quedan ${i} d\xedas de prueba gratuita`:`Tienes ${i} d\xedas de prueba gratuita`}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(st.Ix))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-trial-banner"]],inputs:{tenant:"tenant"},decls:1,vars:1,consts:[["class","trial-banner",3,"minimized","urgent","warning",4,"ngIf"],[1,"trial-banner"],["class","banner-minimized",3,"click",4,"ngIf"],["class","banner-full",4,"ngIf"],[1,"banner-minimized",3,"click"],[1,"minimized-content"],[1,"icon"],[1,"bi","bi-clock"],[1,"text"],[1,"banner-full"],["aria-label","Cerrar",1,"btn-close",3,"click"],["aria-label","Minimizar",1,"btn-minimize",3,"click"],[1,"banner-container"],[1,"banner-left"],[1,"icon-section"],[1,"icon-circle"],[1,"info-section"],[1,"banner-title"],[1,"banner-subtitle"],["class","progress-container",4,"ngIf"],[1,"banner-right"],[1,"btn-upgrade-primary",3,"click"],[1,"btn-text"],[1,"btn-arrow"],["class","banner-note",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"banner-note"]],template:function(c,d){1&c&&e.DNE(0,Zs,3,8,"div",0),2&c&&e.Y8G("ngIf",(null==d.tenant?null:d.tenant.is_on_trial)&&!d.isDismissed)},dependencies:[C.bT],styles:[".trial-banner[_ngcontent-%COMP%]{position:relative;margin-bottom:24px;transition:all .3s ease}.trial-banner.minimized[_ngcontent-%COMP%]{margin-bottom:12px}.banner-minimized[_ngcontent-%COMP%]{background:#000000;color:#fff;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;transition:all .2s ease;border-left:3px solid #ffffff}.banner-minimized[_ngcontent-%COMP%]:hover{background:#1a1a1a}.banner-minimized[_ngcontent-%COMP%]   .minimized-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:14px;font-weight:500}.banner-minimized[_ngcontent-%COMP%]   .minimized-content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px}.banner-full[_ngcontent-%COMP%]{position:relative;background:#f8f8f8;border:2px solid #e0e0e0;border-left:4px solid #000000;padding:24px;transition:all .3s ease}.trial-banner.warning[_ngcontent-%COMP%]   .banner-full[_ngcontent-%COMP%]{border-left-color:#666;background:#f5f5f5}.trial-banner.urgent[_ngcontent-%COMP%]   .banner-full[_ngcontent-%COMP%]{border-left-color:#000;background:#ffffff;border:2px solid #000000}.btn-close[_ngcontent-%COMP%], .btn-minimize[_ngcontent-%COMP%]{position:absolute;top:12px;background:transparent;border:none;font-size:24px;font-weight:300;color:#666;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.btn-close[_ngcontent-%COMP%]:hover, .btn-minimize[_ngcontent-%COMP%]:hover{color:#000;background:#e0e0e0}.btn-close[_ngcontent-%COMP%]{right:12px}.btn-minimize[_ngcontent-%COMP%]{right:48px}.banner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:32px}@media (max-width: 768px){.banner-container[_ngcontent-%COMP%]{flex-direction:column;gap:20px;align-items:stretch}}.banner-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex:1}@media (max-width: 768px){.banner-left[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.icon-section[_ngcontent-%COMP%]{flex-shrink:0}.icon-circle[_ngcontent-%COMP%]{width:56px;height:56px;background:#000000;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.icon-circle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:28px}.icon-circle.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.trial-banner.warning[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background:#333333}.trial-banner.urgent[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background:#000000;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.9}}.info-section[_ngcontent-%COMP%]{flex:1;min-width:0}.banner-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#000;margin:0 0 6px;letter-spacing:-.3px}@media (max-width: 768px){.banner-title[_ngcontent-%COMP%]{font-size:16px}}.banner-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0 0 16px}.banner-subtitle[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;font-weight:500}.progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.progress-bar[_ngcontent-%COMP%]{flex:1;height:8px;background:#e0e0e0;position:relative;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:#000000;transition:width .5s ease}.trial-banner.warning[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#000000 0%,#666666 100%)}.trial-banner.urgent[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background:#000000}.progress-text[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500;white-space:nowrap;min-width:60px;text-align:right}.banner-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:8px}@media (max-width: 768px){.banner-right[_ngcontent-%COMP%]{align-items:stretch;width:100%}}.btn-upgrade-primary[_ngcontent-%COMP%]{background:#000000;color:#fff;border:none;padding:14px 28px;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:10px;letter-spacing:.3px}.btn-upgrade-primary[_ngcontent-%COMP%]:hover{background:#333333;transform:translateY(-1px)}.btn-upgrade-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-upgrade-primary[_ngcontent-%COMP%]   .btn-arrow[_ngcontent-%COMP%]{font-size:18px;transition:transform .2s ease}.btn-upgrade-primary[_ngcontent-%COMP%]:hover   .btn-arrow[_ngcontent-%COMP%]{transform:translate(3px)}@media (max-width: 768px){.btn-upgrade-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}}.banner-note[_ngcontent-%COMP%]{font-size:12px;color:#999;margin:0;text-align:right}@media (max-width: 768px){.banner-note[_ngcontent-%COMP%]{text-align:center}}.trial-banner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})}}return u})();function Tl(u,l){if(1&u&&(e.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"span",29),e.EFF(4,"\u{1f48e}"),e.k0s(),e.j41(5,"div")(6,"h4"),e.EFF(7),e.k0s(),e.j41(8,"p",30),e.EFF(9,"Suscripci\xf3n activa"),e.k0s()()(),e.j41(10,"div",31)(11,"button",32),e.EFF(12,"Gestionar plan"),e.k0s()()()()),2&u){const i=e.XpG();e.R7$(7),e.JRh(null==i.tenant?null:i.tenant.plan)}}function Fl(u,l){if(1&u&&(e.j41(0,"p",11),e.EFF(1),e.k0s()),2&u){const i=e.XpG();e.R7$(1),e.SpI("",null==i.tenant?null:i.tenant.days_remaining," d\xedas restantes")}}function Al(u,l){if(1&u&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"D\xedas restantes de trial:"),e.k0s(),e.EFF(3),e.k0s()),2&u){const i=e.XpG();e.R7$(3),e.SpI(" ",null==i.tenant?null:i.tenant.days_remaining,"")}}function Tc(u,l){1&u&&(e.j41(0,"div",33)(1,"button",34),e.nrm(2,"i",35),e.EFF(3," Actualizar a plan de pago "),e.k0s()())}let Rl=(()=>{class u{constructor(i,c){this.saasService=i,this.route=c,this.tenant=null,this.moduleKey=""}ngOnInit(){this.route.params.subscribe(i=>{this.moduleKey=i.moduleKey}),this.saasService.currentTenant$.subscribe(i=>{this.tenant=i})}getGreeting(){const i=(new Date).getHours();return i<12?"Buenos d\xedas":i<18?"Buenas tardes":"Buenas noches"}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(ri),e.rXU(st.nX))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-generic-dashboard"]],decls:70,vars:15,consts:[[1,"dashboard"],[1,"dashboard-header"],[1,"subtitle"],[3,"tenant"],["class","plan-info-banner",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-label"],[1,"stat-value"],[1,"stat-change"],[1,"bi","bi-check-circle-fill"],["class","stat-change",4,"ngIf"],[1,"bi","bi-rocket-takeoff-fill"],[1,"welcome-section"],[1,"card"],[1,"card-body"],[1,"bi","bi-hand-thumbs-up"],[1,"lead"],[1,"info-box","mt-4"],[1,"bi","bi-box"],[4,"ngIf"],["role","alert",1,"alert","alert-info","mt-4"],[1,"bi","bi-info-circle"],["class","action-buttons mt-4",4,"ngIf"],[1,"plan-info-banner"],[1,"plan-info-content"],[1,"plan-badge"],[1,"badge-icon"],[1,"plan-status"],[1,"plan-actions"],["routerLink","/account",1,"btn-manage"],[1,"action-buttons","mt-4"],["routerLink","/upgrade",1,"btn","btn-primary"],[1,"fas","fa-rocket"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3),e.k0s(),e.j41(4,"p",2),e.EFF(5),e.k0s()(),e.nrm(6,"app-trial-banner",3),e.DNE(7,Tl,13,1,"div",4),e.j41(8,"div",5)(9,"div",6)(10,"div",7),e.EFF(11,"\u{1f4ca}"),e.k0s(),e.j41(12,"div",8)(13,"p",9),e.EFF(14,"Dashboard"),e.k0s(),e.j41(15,"h3",10),e.EFF(16),e.k0s(),e.j41(17,"p",11),e.EFF(18),e.k0s()()(),e.j41(19,"div",6)(20,"div",7),e.nrm(21,"i",12),e.k0s(),e.j41(22,"div",8)(23,"p",9),e.EFF(24,"Estado"),e.k0s(),e.j41(25,"h3",10),e.EFF(26),e.k0s(),e.DNE(27,Fl,2,1,"p",13),e.k0s()(),e.j41(28,"div",6)(29,"div",7),e.nrm(30,"i",14),e.k0s(),e.j41(31,"div",8)(32,"p",9),e.EFF(33,"Funcionalidades"),e.k0s(),e.j41(34,"h3",10),e.EFF(35,"Pr\xf3ximamente"),e.k0s(),e.j41(36,"p",11),e.EFF(37,"En desarrollo"),e.k0s()()()(),e.j41(38,"div",15)(39,"div",16)(40,"div",17)(41,"h2"),e.nrm(42,"i",18),e.EFF(43),e.k0s(),e.j41(44,"p",19),e.EFF(45,"Este es tu dashboard personal para gestionar tu m\xf3dulo SaaS."),e.k0s(),e.j41(46,"div",20)(47,"h4"),e.nrm(48,"i",21),e.EFF(49," Informaci\xf3n del m\xf3dulo"),e.k0s(),e.j41(50,"ul")(51,"li")(52,"strong"),e.EFF(53,"M\xf3dulo:"),e.k0s(),e.EFF(54),e.k0s(),e.j41(55,"li")(56,"strong"),e.EFF(57,"Plan actual:"),e.k0s(),e.EFF(58),e.k0s(),e.j41(59,"li")(60,"strong"),e.EFF(61,"Estado:"),e.k0s(),e.EFF(62),e.k0s(),e.DNE(63,Al,4,1,"li",22),e.k0s()(),e.j41(64,"div",23)(65,"strong"),e.nrm(66,"i",24),e.EFF(67," Nota:"),e.k0s(),e.EFF(68," Este es un dashboard gen\xe9rico. Las funcionalidades espec\xedficas del m\xf3dulo se agregar\xe1n pr\xf3ximamente. "),e.k0s(),e.DNE(69,Tc,4,0,"div",25),e.k0s()()()()),2&c&&(e.R7$(3),e.Lme("",d.getGreeting(),", ",null==d.tenant?null:d.tenant.name,"! \u{1f44b}"),e.R7$(2),e.JRh((null==d.tenant?null:d.tenant.module_name)||d.moduleKey),e.R7$(1),e.Y8G("tenant",d.tenant),e.R7$(1),e.Y8G("ngIf",!(null!=d.tenant&&d.tenant.is_on_trial)&&"active"===(null==d.tenant?null:d.tenant.status)),e.R7$(9),e.JRh(null==d.tenant?null:d.tenant.module_name),e.R7$(2),e.JRh((null==d.tenant?null:d.tenant.plan)||"Trial"),e.R7$(8),e.JRh(null==d.tenant?null:d.tenant.status),e.R7$(1),e.Y8G("ngIf",null==d.tenant?null:d.tenant.is_on_trial),e.R7$(16),e.SpI(" \xa1Bienvenido a ",null==d.tenant?null:d.tenant.module_name,"!"),e.R7$(11),e.SpI(" ",(null==d.tenant?null:d.tenant.module_name)||d.moduleKey,""),e.R7$(4),e.SpI(" ",(null==d.tenant?null:d.tenant.plan)||"Trial",""),e.R7$(4),e.SpI(" ",null==d.tenant?null:d.tenant.status,""),e.R7$(1),e.Y8G("ngIf",null==d.tenant?null:d.tenant.is_on_trial),e.R7$(6),e.Y8G("ngIf",null==d.tenant?null:d.tenant.is_on_trial))},dependencies:[C.bT,st.Wk,Bo],styles:[".dashboard[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1a1a1a;margin-bottom:.5rem}.dashboard-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#6c757d;margin:0}.status-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:1.5rem;border-radius:12px;display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;box-shadow:0 4px 6px #0000001a}.status-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.status-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{font-size:2rem}.status-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1.1rem;margin-bottom:.25rem}.status-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.status-banner[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]{background:white;color:#667eea;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;transition:transform .2s}.status-banner[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.plan-info-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:12px;padding:1.5rem 2rem;margin-bottom:2rem;color:#fff;box-shadow:0 4px 20px #667eea4d}.plan-info-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1.5rem}.plan-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.plan-badge[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{font-size:2.5rem}.plan-badge[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.plan-badge[_ngcontent-%COMP%]   .plan-status[_ngcontent-%COMP%]{margin:0;opacity:.9;font-size:.9rem}.plan-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.btn-manage[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);color:#fff;border:2px solid white;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;text-decoration:none}.btn-manage[_ngcontent-%COMP%]:hover{background:white;color:#667eea;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:white;padding:1.5rem;border-radius:12px;box-shadow:0 2px 4px #0000001a;display:flex;gap:1rem;align-items:flex-start;transition:transform .2s,box-shadow .2s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 8px #00000026}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;min-width:60px;display:flex;align-items:center;justify-content:center}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a1a1a;margin-bottom:.25rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-change[_ngcontent-%COMP%]{font-size:.875rem;color:#28a745;margin:0}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 2px 4px #0000001a;border:none}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1a1a1a;margin-bottom:1rem}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{color:#6c757d;font-size:1.1rem}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:8px;border-left:4px solid #667eea}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1a1a1a;margin-bottom:1rem}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0;color:#495057}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a1a1a}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:8px}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;display:flex;align-items:center;gap:.5rem;transition:transform .2s}.welcome-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}@media (max-width: 768px){.dashboard[_ngcontent-%COMP%]{padding:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.status-banner[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}"]})}}return u})();function be(u,l){1&u&&(e.j41(0,"div",5),e.nrm(1,"div",6),e.j41(2,"p",7),e.EFF(3,"Cargando informaci\xf3n..."),e.k0s()())}function Ut(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",47),e.nrm(1,"i",48),e.EFF(2),e.j41(3,"button",49),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.error=null)}),e.k0s()()}if(2&u){const i=e.XpG(2);e.R7$(2),e.SpI(" ",i.error," ")}}function Sa(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",50),e.nrm(1,"i",51),e.EFF(2),e.j41(3,"button",49),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.success=null)}),e.k0s()()}if(2&u){const i=e.XpG(2);e.R7$(2),e.SpI(" ",i.success," ")}}function Oa(u,l){if(1&u&&(e.j41(0,"div",33),e.nrm(1,"i",52),e.j41(2,"div")(3,"small"),e.EFF(4),e.k0s(),e.j41(5,"strong"),e.EFF(6),e.nI1(7,"date"),e.k0s()()()),2&u){const i=e.XpG(2);e.R7$(4),e.JRh(i.tenant.cancelled_at?"Cancela el":"Finaliza el"),e.R7$(2),e.JRh(e.i5U(7,2,i.tenant.subscription_ends_at,"dd/MM/yyyy"))}}function sr(u,l){1&u&&(e.j41(0,"div",33),e.nrm(1,"i",53),e.j41(2,"div")(3,"small"),e.EFF(4,"Renovaci\xf3n"),e.k0s(),e.j41(5,"strong"),e.EFF(6,"Autom\xe1tica mensual"),e.k0s()()())}function Ia(u,l){if(1&u&&(e.j41(0,"div",54),e.nrm(1,"i",55),e.j41(2,"strong"),e.EFF(3,"Suscripci\xf3n cancelada"),e.k0s(),e.nrm(4,"br"),e.j41(5,"small"),e.EFF(6),e.nI1(7,"date"),e.k0s()()),2&u){const i=e.XpG(2);e.R7$(6),e.SpI("Conservar\xe1s el acceso hasta el ",e.i5U(7,1,i.tenant.subscription_ends_at,"dd/MM/yyyy"),". Despu\xe9s de esta fecha perder\xe1s el acceso al m\xf3dulo.")}}function us(u,l){if(1&u){const i=e.RV6();e.j41(0,"button",56),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.openCancelModal())}),e.nrm(1,"i",57),e.EFF(2," Cancelar suscripci\xf3n "),e.k0s()}}function Ti(u,l){if(1&u){const i=e.RV6();e.j41(0,"button",58),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.reactivateSubscription())}),e.nrm(1,"i",59),e.EFF(2," Reactivar suscripci\xf3n "),e.k0s()}}const ea=function(u,l,i){return{"badge-active":u,"badge-trial":l,"badge-expired":i}};function Ps(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"button",10),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.goToDashboard())}),e.nrm(3,"i",11),e.EFF(4," Volver al dashboard "),e.k0s(),e.j41(5,"h1"),e.nrm(6,"i",12),e.EFF(7,"Mi Cuenta"),e.k0s()(),e.DNE(8,Ut,4,1,"div",13),e.DNE(9,Sa,4,1,"div",14),e.j41(10,"div",15)(11,"div",16)(12,"div",17)(13,"div",18)(14,"div",19),e.EFF(15),e.k0s(),e.j41(16,"h3",20),e.EFF(17),e.k0s(),e.j41(18,"p",21),e.EFF(19),e.k0s(),e.j41(20,"span",22),e.EFF(21),e.k0s()()()(),e.j41(22,"div",23)(23,"div",24)(24,"div",25)(25,"h4"),e.nrm(26,"i",26),e.EFF(27,"Plan Actual"),e.k0s()(),e.j41(28,"div",27)(29,"div",28)(30,"div",29)(31,"h2",30),e.EFF(32),e.k0s(),e.j41(33,"p",31),e.EFF(34),e.k0s()(),e.j41(35,"div",32)(36,"div",33),e.nrm(37,"i",34),e.j41(38,"div")(39,"small"),e.EFF(40,"Fecha de suscripci\xf3n"),e.k0s(),e.j41(41,"strong"),e.EFF(42),e.nI1(43,"date"),e.k0s()()(),e.DNE(44,Oa,8,5,"div",35),e.DNE(45,sr,7,0,"div",35),e.k0s(),e.DNE(46,Ia,8,4,"div",36),e.j41(47,"div",37)(48,"button",38),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.upgradeOrChangePlan())}),e.nrm(49,"i",39),e.EFF(50," Cambiar plan "),e.k0s(),e.DNE(51,us,3,0,"button",40),e.DNE(52,Ti,3,0,"button",41),e.k0s()()()(),e.j41(53,"div",42)(54,"div",25)(55,"h4"),e.nrm(56,"i",43),e.EFF(57,"Informaci\xf3n de pago"),e.k0s()(),e.j41(58,"div",27)(59,"p",21),e.nrm(60,"i",44),e.EFF(61," Tus pagos son procesados de forma segura por Stripe. "),e.k0s(),e.j41(62,"p",45)(63,"strong"),e.EFF(64,"ID de suscripci\xf3n:"),e.k0s(),e.j41(65,"code",46),e.EFF(66),e.k0s()()()()()()()}if(2&u){const i=e.XpG();e.R7$(8),e.Y8G("ngIf",i.error),e.R7$(1),e.Y8G("ngIf",i.success),e.R7$(6),e.SpI(" ",i.tenant.name.charAt(0).toUpperCase()," "),e.R7$(2),e.JRh(i.tenant.name),e.R7$(2),e.JRh(i.tenant.email),e.R7$(1),e.Y8G("ngClass",e.sMw(19,ea,"active"===i.tenant.status,"trial"===i.tenant.status,"expired"===i.tenant.status)),e.R7$(1),e.SpI(" ","active"===i.tenant.status?"Activo":"trial"===i.tenant.status?"Trial":"Expirado"," "),e.R7$(11),e.JRh(i.tenant.plan),e.R7$(2),e.JRh(i.tenant.module_name||i.tenant.module_key),e.R7$(8),e.JRh(e.i5U(43,16,i.tenant.subscribed_at,"dd/MM/yyyy")),e.R7$(2),e.Y8G("ngIf",i.tenant.subscription_ends_at),e.R7$(1),e.Y8G("ngIf",!i.tenant.subscription_ends_at&&!i.tenant.cancelled_at),e.R7$(1),e.Y8G("ngIf",i.tenant.cancelled_at&&i.tenant.subscription_ends_at),e.R7$(5),e.Y8G("ngIf",i.tenant.stripe_subscription_id&&!i.tenant.cancelled_at),e.R7$(1),e.Y8G("ngIf",i.tenant.cancelled_at),e.R7$(14),e.JRh(i.tenant.stripe_subscription_id||"N/A")}}function Fc(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",60),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeCancelModal())}),e.k0s()}}function ad(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"S\xed, cancelar suscripci\xf3n"),e.k0s())}function Ac(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"span",77),e.EFF(2," Cancelando... "),e.k0s())}function Nr(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",61)(1,"div",62)(2,"div",63)(3,"h3"),e.nrm(4,"i",64),e.EFF(5,"Cancelar Suscripci\xf3n"),e.k0s(),e.j41(6,"button",65),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeCancelModal())}),e.nrm(7,"i",66),e.k0s()(),e.j41(8,"div",67)(9,"p",68),e.EFF(10,"\xbfEst\xe1s seguro de que deseas cancelar tu suscripci\xf3n?"),e.k0s(),e.j41(11,"div",69),e.nrm(12,"i",70),e.EFF(13," Conservar\xe1s el acceso hasta el final del per\xedodo actual de facturaci\xf3n. "),e.k0s(),e.j41(14,"div",71)(15,"label"),e.EFF(16,"\xbfPor qu\xe9 cancelas? (opcional)"),e.k0s(),e.j41(17,"textarea",72),e.bIt("ngModelChange",function(d){e.eBV(i);const P=e.XpG();return e.Njj(P.cancelReason=d)}),e.k0s()()(),e.j41(18,"div",73)(19,"button",74),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeCancelModal())}),e.EFF(20," No, mantener suscripci\xf3n "),e.k0s(),e.j41(21,"button",75),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.cancelSubscription())}),e.DNE(22,ad,2,0,"span",76),e.DNE(23,Ac,3,0,"span",76),e.k0s()()()()}if(2&u){const i=e.XpG();e.R7$(17),e.Y8G("ngModel",i.cancelReason),e.R7$(2),e.Y8G("disabled",i.canceling),e.R7$(2),e.Y8G("disabled",i.canceling),e.R7$(1),e.Y8G("ngIf",!i.canceling),e.R7$(1),e.Y8G("ngIf",i.canceling)}}let fo=(()=>{class u{constructor(i,c,d){this.router=i,this.http=c,this.saasService=d,this.tenant=null,this.loading=!0,this.canceling=!1,this.showCancelModal=!1,this.cancelReason="",this.error=null,this.success=null}ngOnInit(){this.loadProfile()}loadProfile(){this.saasService.getProfile().subscribe({next:i=>{i.success&&i.tenant&&(this.tenant=i.tenant),this.loading=!1},error:i=>{console.error("Error loading profile:",i),this.error="Error al cargar tu perfil",this.loading=!1}})}openCancelModal(){this.showCancelModal=!0,this.error=null,this.success=null}closeCancelModal(){this.showCancelModal=!1,this.cancelReason=""}cancelSubscription(){var i=this;return(0,Vn.A)(function*(){if(!i.tenant?.stripe_subscription_id)return void(i.error="No hay suscripci\xf3n activa para cancelar");i.canceling=!0,i.error=null;const c=localStorage.getItem("tenant_token");if(!c)return i.error="No est\xe1s autenticado",void(i.canceling=!1);try{const d=yield i.http.post(`${or.c.URL_SERVICE}stripe/cancel-subscription`,{tenantId:i.tenant.id,reason:i.cancelReason},{headers:{Authorization:`Bearer ${c}`}}).toPromise();d?.success&&(i.success=d.message||"Suscripci\xf3n cancelada correctamente. Conservar\xe1s el acceso hasta el fin del per\xedodo actual.",i.closeCancelModal(),setTimeout((0,Vn.A)(function*(){yield i.loadProfile(),i.success="\u2705 Suscripci\xf3n cancelada. Conservar\xe1s el acceso hasta el final del per\xedodo pagado.",setTimeout(()=>{i.success=null},5e3)}),1500))}catch(d){console.error("Error canceling subscription:",d),i.error=d.error?.message||"Error al cancelar la suscripci\xf3n"}finally{i.canceling=!1}})()}reactivateSubscription(){var i=this;return(0,Vn.A)(function*(){if(!i.tenant?.stripe_subscription_id)return void(i.error="No hay suscripci\xf3n para reactivar");i.canceling=!0,i.error=null;const c=localStorage.getItem("tenant_token");if(!c)return i.error="No est\xe1s autenticado",void(i.canceling=!1);try{const d=yield i.http.post(`${or.c.URL_SERVICE}stripe/reactivate-subscription`,{tenantId:i.tenant.id},{headers:{Authorization:`Bearer ${c}`}}).toPromise();d?.success&&(i.success=d.message||"\u2705 Suscripci\xf3n reactivada. Se renovar\xe1 autom\xe1ticamente.",setTimeout((0,Vn.A)(function*(){yield i.loadProfile(),i.success="\u2705 Suscripci\xf3n reactivada correctamente. Tu plan se renovar\xe1 autom\xe1ticamente cada mes.",setTimeout(()=>{i.success=null},5e3)}),1500))}catch(d){console.error("Error reactivating subscription:",d),i.error=d.error?.message||"Error al reactivar la suscripci\xf3n"}finally{i.canceling=!1}})()}goToDashboard(){this.tenant&&this.router.navigate([`/${this.tenant.module_key}`])}upgradeOrChangePlan(){this.router.navigate(["/upgrade"])}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(st.Ix),e.rXU(ni.Qq),e.rXU(ri))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-account"]],decls:5,vars:4,consts:[[1,"account-container"],["class","text-center py-5",4,"ngIf"],["class","content-wrapper",4,"ngIf"],["class","modal-backdrop",3,"click",4,"ngIf"],["class","modal-dialog",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3","text-muted"],[1,"content-wrapper"],[1,"account-header"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"fas","fa-user-circle","me-3"],["class","alert alert-danger alert-dismissible fade show",4,"ngIf"],["class","alert alert-success alert-dismissible fade show",4,"ngIf"],[1,"row","g-4"],[1,"col-lg-4"],[1,"card","profile-card"],[1,"card-body","text-center"],[1,"profile-avatar"],[1,"mt-3"],[1,"text-muted"],[1,"badge-status",3,"ngClass"],[1,"col-lg-8"],[1,"card","mb-4"],[1,"card-header"],[1,"fas","fa-gem","me-2"],[1,"card-body"],[1,"plan-details"],[1,"plan-name-section"],[1,"plan-name"],[1,"plan-module"],[1,"plan-info-grid"],[1,"info-item"],[1,"fas","fa-calendar-check"],["class","info-item",4,"ngIf"],["class","alert alert-warning mb-3",4,"ngIf"],[1,"plan-actions"],[1,"btn","btn-primary","btn-change-plan",3,"click"],[1,"fas","fa-arrow-up","me-2"],["class","btn btn-danger btn-cancel",3,"click",4,"ngIf"],["class","btn btn-success btn-reactivate",3,"click",4,"ngIf"],[1,"card"],[1,"fas","fa-credit-card","me-2"],[1,"fas","fa-shield-alt","me-2"],[1,"mb-0"],[1,"ms-2"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-circle","me-2"],["type","button",1,"btn-close",3,"click"],[1,"alert","alert-success","alert-dismissible","fade","show"],[1,"fas","fa-check-circle","me-2"],[1,"fas","fa-calendar-times"],[1,"fas","fa-sync-alt"],[1,"alert","alert-warning","mb-3"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"btn","btn-danger","btn-cancel",3,"click"],[1,"fas","fa-times-circle","me-2"],[1,"btn","btn-success","btn-reactivate",3,"click"],[1,"fas","fa-undo","me-2"],[1,"modal-backdrop",3,"click"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],[1,"btn-close-modal",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"mb-3"],[1,"alert","alert-info"],[1,"fas","fa-info-circle","me-2"],[1,"form-group","mt-3"],["rows","3","placeholder","Tu feedback nos ayuda a mejorar...",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"btn","btn-danger",3,"disabled","click"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.DNE(1,be,4,0,"div",1),e.DNE(2,Ps,67,23,"div",2),e.DNE(3,Fc,1,0,"div",3),e.DNE(4,Nr,24,5,"div",4),e.k0s()),2&c&&(e.R7$(1),e.Y8G("ngIf",d.loading),e.R7$(1),e.Y8G("ngIf",!d.loading&&d.tenant),e.R7$(1),e.Y8G("ngIf",d.showCancelModal),e.R7$(1),e.Y8G("ngIf",d.showCancelModal))},dependencies:[C.YU,C.bT,Je.me,Je.BC,Je.vS,C.vh],styles:[".account-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);padding:40px 20px}.content-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.account-header[_ngcontent-%COMP%]{margin-bottom:30px}.account-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{background:white;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;font-weight:600;color:#667eea;margin-bottom:20px;transition:all .3s ease}.account-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{transform:translate(-5px);box-shadow:0 4px 12px #0000001a}.account-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a1a1a;margin:0}.card[_ngcontent-%COMP%]{background:white;border-radius:16px;border:none;box-shadow:0 2px 12px #00000014;overflow:hidden}.card-header[_ngcontent-%COMP%]{background:white;border-bottom:2px solid #f0f0f0;padding:20px 25px}.card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#1a1a1a}.card-body[_ngcontent-%COMP%]{padding:25px}.profile-card[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;font-size:3rem;font-weight:700;display:flex;align-items:center;justify-content:center;margin:0 auto;box-shadow:0 8px 24px #667eea4d}.profile-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a;margin-bottom:5px}.profile-card[_ngcontent-%COMP%]   .badge-status[_ngcontent-%COMP%]{display:inline-block;padding:6px 16px;border-radius:20px;font-size:.875rem;font-weight:600;margin-top:10px}.profile-card[_ngcontent-%COMP%]   .badge-active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.profile-card[_ngcontent-%COMP%]   .badge-trial[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.profile-card[_ngcontent-%COMP%]   .badge-expired[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.plan-details[_ngcontent-%COMP%]   .plan-name-section[_ngcontent-%COMP%]{border-bottom:2px solid #f0f0f0;padding-bottom:20px;margin-bottom:20px}.plan-details[_ngcontent-%COMP%]   .plan-name-section[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#667eea;margin:0 0 5px}.plan-details[_ngcontent-%COMP%]   .plan-name-section[_ngcontent-%COMP%]   .plan-module[_ngcontent-%COMP%]{color:#6c757d;margin:0;font-size:1.1rem}.plan-details[_ngcontent-%COMP%]   .plan-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:25px}.plan-details[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px;background:#f8f9fa;border-radius:10px}.plan-details[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem;color:#667eea}.plan-details[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:.875rem;margin-bottom:3px}.plan-details[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#1a1a1a;font-size:1rem}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap;margin-top:30px;padding-top:25px;border-top:2px solid #f0f0f0}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:180px;padding:14px 28px;border-radius:12px;font-weight:600;font-size:1rem;transition:all .3s ease;border:none;display:flex;align-items:center;justify-content:center;gap:8px}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #00000026}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn-change-plan[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn-change-plan[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #667eea66}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);color:#fff}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #ef444466}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn-reactivate[_ngcontent-%COMP%]{background:linear-gradient(135deg,#27ae60 0%,#229954 100%);color:#fff}.plan-details[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn-reactivate[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #27ae6066}.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff8e1 0%,#ffe9ab 100%);border:1px solid #ffd54f;border-radius:12px;padding:1.25rem;color:#f57c00;margin-bottom:1rem;animation:_ngcontent-%COMP%_slideDown .4s ease}.alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.alert-warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e65100}.alert-warning[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.5rem;color:#f57c00}.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8f5e9 0%,#c8e6c9 100%);border:1px solid #81c784;border-radius:12px;padding:1.25rem;color:#2e7d32;margin-bottom:1rem;animation:_ngcontent-%COMP%_slideDown .4s ease;font-weight:500}.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#4caf50}.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffebee 0%,#ef9a9a 100%);border:1px solid #e57373;border-radius:12px;padding:1.25rem;color:#c62828;margin-bottom:1rem;animation:_ngcontent-%COMP%_slideDown .4s ease;font-weight:500}.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#f44336}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}.modal-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1001;width:90%;max-width:500px;animation:_ngcontent-%COMP%_slideIn .3s ease}.modal-content[_ngcontent-%COMP%]{background:white;border-radius:16px;box-shadow:0 10px 40px #0003;overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:25px;border-bottom:2px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#6c757d;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .btn-close-modal[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:25px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:8px;color:#1a1a1a}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .2s ease}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.modal-footer[_ngcontent-%COMP%]{padding:20px 25px;border-top:2px solid #f0f0f0;display:flex;gap:10px;justify-content:flex-end}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-weight:600;border:none;cursor:pointer;transition:all .3s ease}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#c82333}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-50%,-45%)}to{opacity:1;transform:translate(-50%,-50%)}}@media (max-width: 768px){.account-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.plan-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100%}.modal-dialog[_ngcontent-%COMP%]{width:95%}}"]})}}return u})();var Rc=F(7673),Io=F(6354),h=F(9437);let y=(()=>{class u{constructor(i,c){this.saasService=i,this.router=c}canActivate(i,c){return console.log("\u{1f510} TenantAuthGuard: Verificando acceso..."),this.saasService.isAuthenticated()?(console.log("\u2705 Token encontrado, verificando acceso con backend..."),i.paramMap.get("moduleKey")||this.saasService.getCurrentTenant(),this.saasService.checkAccess().pipe((0,Io.T)(P=>{if(console.log("\u{1f4e5} Respuesta de checkAccess:",P),P.success&&P.hasAccess)return console.log("\u2705 Acceso permitido"),!0;if(P.tenant){const A=P.tenant;if("trial"===A.status&&!P.hasAccess)return console.log("\u23f0 Trial expirado, redirigiendo a /upgrade"),this.router.navigate(["/upgrade"]),!1;if(["expired","cancelled","suspended"].includes(A.status))return console.log(`\u274c Status: ${A.status}, redirigiendo a /upgrade`),this.router.navigate(["/upgrade"]),!1}return console.log("\u274c Acceso denegado, redirigiendo a login"),this.router.navigate(["/login"],{queryParams:{expired:!0}}),!1}),(0,h.W)(P=>(console.error("\u274c Error checking tenant access:",P),this.saasService.logout(),this.router.navigate(["/login"]),(0,Rc.of)(!1))))):(console.log("\u274c No hay token, redirigiendo a login"),this.router.navigate(["/login"],{queryParams:{returnUrl:c.url}}),!1)}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(ri),e.KVO(st.Ix))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function p(u,l){if(1&u&&(e.j41(0,"span",18),e.EFF(1),e.k0s()),2&u){const i=e.XpG().$implicit;e.R7$(1),e.SpI(" ",i.description," ")}}function b(u,l){if(1&u&&(e.j41(0,"div",13),e.nrm(1,"i",14),e.j41(2,"div",15)(3,"span",16),e.EFF(4),e.k0s(),e.DNE(5,p,2,1,"span",17),e.k0s()()),2&u){const i=l.$implicit;e.R7$(1),e.HbH(i.icon),e.R7$(3),e.JRh(i.label),e.R7$(1),e.Y8G("ngIf",i.description)}}let M=(()=>{class u{constructor(){this.module="",this.features=[],this.contextData=null,this.ctaText="Upgrade to Pro",this.variant="default",this.onUpgradeClick=new e.bkB}handleUpgradeClick(){const i={module:this.module,source:this.contextData?.source||"preview",feature:"pro_upgrade",...this.contextData};this.onUpgradeClick.emit(i)}static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-pro-upgrade-block"]],inputs:{module:"module",features:"features",contextData:"contextData",ctaText:"ctaText",variant:"variant"},outputs:{onUpgradeClick:"onUpgradeClick"},decls:23,vars:4,consts:[[1,"pro-upgrade-block"],[1,"pro-header"],[1,"pro-badge"],[1,"bi","bi-star-fill"],[1,"pro-title"],[1,"pro-subtitle"],[1,"pro-features"],["class","feature-item",4,"ngFor","ngForOf"],[1,"btn-upgrade",3,"click"],[1,"bi","bi-unlock-fill"],[1,"bi","bi-arrow-right"],[1,"pro-footer"],[1,"bi","bi-shield-check"],[1,"feature-item"],[1,"feature-icon"],[1,"feature-content"],[1,"feature-label"],["class","feature-description",4,"ngIf"],[1,"feature-description"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"i",3),e.j41(4,"span"),e.EFF(5,"PRO"),e.k0s()(),e.j41(6,"h3",4),e.EFF(7,"Unlock Pro Version"),e.k0s(),e.j41(8,"p",5),e.EFF(9,"Get access to advanced features and automation"),e.k0s()(),e.j41(10,"div",6),e.DNE(11,b,6,4,"div",7),e.k0s(),e.j41(12,"button",8),e.bIt("click",function(){return d.handleUpgradeClick()}),e.nrm(13,"i",9),e.j41(14,"span"),e.EFF(15),e.k0s(),e.nrm(16,"i",10),e.k0s(),e.j41(17,"div",11),e.nrm(18,"i",12),e.j41(19,"span"),e.EFF(20,"Beta access with "),e.j41(21,"strong"),e.EFF(22,"50% discount"),e.k0s()()()()),2&c&&(e.HbH("variant-"+d.variant),e.R7$(11),e.Y8G("ngForOf",d.features),e.R7$(4),e.JRh(d.ctaText))},dependencies:[C.Sq,C.bT],styles:['.pro-upgrade-block[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border:2px solid #e2e8f0;border-radius:16px;padding:2rem;margin:2rem 0;position:relative;overflow:hidden;transition:all .3s ease}.pro-upgrade-block[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;width:300px;height:300px;background:radial-gradient(circle,rgba(59,130,246,.08) 0%,transparent 70%);pointer-events:none}.pro-upgrade-block[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 8px 24px #3b82f626}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:relative;z-index:1}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]   .pro-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .875rem;background:linear-gradient(135deg,#fbbf24 0%,#f59e0b 100%);color:#fff;border-radius:20px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.75rem;box-shadow:0 2px 8px #fbbf244d}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]   .pro-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]   .pro-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]   .pro-subtitle[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem;position:relative;z-index:1}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.875rem;padding:.875rem;background:#ffffff;border-radius:10px;border:1px solid #e2e8f0;transition:all .2s ease}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#3b82f6;flex-shrink:0;margin-top:.125rem}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-label[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#1e293b}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b;line-height:1.4}.pro-upgrade-block[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:.625rem;padding:1rem 1.5rem;background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;position:relative;z-index:1;box-shadow:0 4px 12px #3b82f64d}.pro-upgrade-block[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.125rem}.pro-upgrade-block[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]   i.bi-arrow-right[_ngcontent-%COMP%]{transition:transform .3s ease}.pro-upgrade-block[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb 0%,#1d4ed8 100%);transform:translateY(-2px);box-shadow:0 6px 16px #3b82f666}.pro-upgrade-block[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]:hover   .bi-arrow-right[_ngcontent-%COMP%]{transform:translate(4px)}.pro-upgrade-block[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]:active{transform:translateY(0)}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:1rem;font-size:.875rem;color:#64748b;position:relative;z-index:1}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#22c55e;font-size:1rem}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-footer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f59e0b;font-weight:700}.pro-upgrade-block.variant-minimal[_ngcontent-%COMP%]{background:#ffffff;border:1px solid #e2e8f0;padding:1.5rem}.pro-upgrade-block.variant-minimal[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]   .pro-title[_ngcontent-%COMP%]{font-size:1.25rem}.pro-upgrade-block.variant-minimal[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.625rem}.pro-upgrade-block.variant-premium[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b 0%,#0f172a 100%);border:2px solid #3b82f6}.pro-upgrade-block.variant-premium[_ngcontent-%COMP%]:before{background:radial-gradient(circle,rgba(59,130,246,.2) 0%,transparent 70%)}.pro-upgrade-block.variant-premium[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]   .pro-title[_ngcontent-%COMP%], .pro-upgrade-block.variant-premium[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]   .pro-subtitle[_ngcontent-%COMP%]{color:#fff}.pro-upgrade-block.variant-premium[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{background:rgba(255,255,255,.05);border-color:#ffffff1a}.pro-upgrade-block.variant-premium[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-label[_ngcontent-%COMP%]{color:#f1f5f9}.pro-upgrade-block.variant-premium[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%], .pro-upgrade-block.variant-premium[_ngcontent-%COMP%]   .pro-footer[_ngcontent-%COMP%]{color:#cbd5e1}@media (max-width: 768px){.pro-upgrade-block[_ngcontent-%COMP%]{padding:1.5rem}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-header[_ngcontent-%COMP%]   .pro-title[_ngcontent-%COMP%]{font-size:1.25rem}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]{gap:.75rem}.pro-upgrade-block[_ngcontent-%COMP%]   .pro-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.75rem}.pro-upgrade-block[_ngcontent-%COMP%]   .btn-upgrade[_ngcontent-%COMP%]{padding:.875rem 1.25rem;font-size:.9375rem}}']})}}return u})();function k(u,l){1&u&&(e.j41(0,"div",7)(1,"div",8),e.nrm(2,"i",9),e.k0s(),e.j41(3,"h2",10),e.EFF(4,"You're In! \u{1f389}"),e.k0s(),e.j41(5,"p",11),e.EFF(6," Your spot is reserved. We'll email you the moment Pro launches with your exclusive "),e.j41(7,"strong"),e.EFF(8,"50% founding discount"),e.k0s(),e.EFF(9,". "),e.k0s(),e.j41(10,"div",12),e.nrm(11,"i",13),e.j41(12,"span"),e.EFF(13,"Founding Member Access"),e.k0s()()())}function N(u,l){1&u&&(e.j41(0,"div",32),e.EFF(1," Please enter a valid email "),e.k0s())}function te(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",20),e.EFF(2," Reserve Founding Member Spot "),e.k0s())}function q(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",33),e.EFF(2," Securing your spot... "),e.k0s())}function $e(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div",16),e.nrm(3,"i",17),e.j41(4,"span"),e.EFF(5,"Beta Launch"),e.k0s()(),e.j41(6,"h2",10),e.EFF(7,"Join the Founding Members"),e.k0s(),e.j41(8,"p",11),e.EFF(9," Lock in "),e.j41(10,"strong"),e.EFF(11,"lifetime 50% discount"),e.k0s(),e.EFF(12," when you reserve your spot now. Limited to first 100 members. "),e.k0s()(),e.j41(13,"div",18)(14,"div",19),e.nrm(15,"i",20),e.j41(16,"span"),e.EFF(17,"First access to all Pro features"),e.k0s()(),e.j41(18,"div",19),e.nrm(19,"i",21),e.j41(20,"span"),e.EFF(21,"50% off forever (no auto-renewal tricks)"),e.k0s()(),e.j41(22,"div",19),e.nrm(23,"i",22),e.j41(24,"span"),e.EFF(25,"Direct line to founder support"),e.k0s()()(),e.j41(26,"form",23),e.bIt("ngSubmit",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.submitEmail())}),e.j41(27,"div",24)(28,"label",25),e.EFF(29,"Your work email"),e.k0s(),e.nrm(30,"input",26),e.DNE(31,N,2,0,"div",27),e.k0s(),e.j41(32,"button",28),e.DNE(33,te,3,0,"span",29),e.DNE(34,q,3,0,"span",29),e.k0s()(),e.j41(35,"div",30),e.nrm(36,"i",31),e.j41(37,"span"),e.EFF(38,"Zero spam. Cancel anytime. Your data stays yours."),e.k0s()()()}if(2&u){const i=e.XpG(2);let c,d;e.R7$(26),e.Y8G("formGroup",i.emailForm),e.R7$(4),e.AVh("is-invalid",(null==(c=i.emailForm.get("email"))?null:c.invalid)&&(null==(c=i.emailForm.get("email"))?null:c.touched)),e.Y8G("disabled",i.isSubmitting),e.R7$(1),e.Y8G("ngIf",(null==(d=i.emailForm.get("email"))?null:d.invalid)&&(null==(d=i.emailForm.get("email"))?null:d.touched)),e.R7$(1),e.Y8G("disabled",i.emailForm.invalid||i.isSubmitting),e.R7$(1),e.Y8G("ngIf",!i.isSubmitting),e.R7$(1),e.Y8G("ngIf",i.isSubmitting)}}function Et(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",1),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeModal())}),e.j41(1,"div",2),e.bIt("click",function(d){e.eBV(i);const P=e.XpG();return e.Njj(P.stopPropagation(d))}),e.j41(2,"button",3),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeModal())}),e.nrm(3,"i",4),e.k0s(),e.DNE(4,k,14,0,"div",5),e.DNE(5,$e,39,8,"div",6),e.k0s()()}if(2&u){const i=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(1),e.Y8G("@slideUp",void 0),e.R7$(1),e.Y8G("disabled",i.isSubmitting),e.R7$(2),e.Y8G("ngIf",i.isSuccess),e.R7$(1),e.Y8G("ngIf",!i.isSuccess)}}let Zt=(()=>{class u{constructor(i){this.fb=i,this.module="",this.isVisible=!1,this.onClose=new e.bkB,this.onEmailSubmit=new e.bkB,this.isSubmitting=!1,this.isSuccess=!1,this.emailForm=this.fb.group({email:["",[Je.k0.required,Je.k0.email]]})}closeModal(){this.isSubmitting||(this.onClose.emit(),this.resetForm())}submitEmail(){var i=this;return(0,Vn.A)(function*(){if(i.emailForm.invalid||i.isSubmitting)return;i.isSubmitting=!0;const c={email:i.emailForm.value.email,module:i.module,source:"pro_modal",offer:"50_percent_beta"};yield new Promise(d=>setTimeout(d,800)),i.onEmailSubmit.emit(c),i.isSuccess=!0,i.isSubmitting=!1,setTimeout(()=>{i.closeModal()},3e3)})()}resetForm(){this.emailForm.reset(),this.isSuccess=!1,this.isSubmitting=!1}stopPropagation(i){i.stopPropagation()}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(Je.ok))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-pro-modal"]],inputs:{module:"module",isVisible:"isVisible"},outputs:{onClose:"onClose",onEmailSubmit:"onEmailSubmit"},decls:1,vars:1,consts:[["class","pro-modal-overlay",3,"click",4,"ngIf"],[1,"pro-modal-overlay",3,"click"],[1,"pro-modal",3,"click"],["aria-label","Close modal",1,"modal-close",3,"disabled","click"],[1,"bi","bi-x"],["class","modal-content success-state",4,"ngIf"],["class","modal-content form-state",4,"ngIf"],[1,"modal-content","success-state"],[1,"success-icon"],[1,"bi","bi-check-circle-fill"],[1,"modal-title"],[1,"modal-description"],[1,"success-badge"],[1,"bi","bi-shield-check"],[1,"modal-content","form-state"],[1,"modal-header"],[1,"pro-badge"],[1,"bi","bi-star-fill"],[1,"modal-benefits"],[1,"benefit-item"],[1,"bi","bi-lightning-charge-fill"],[1,"bi","bi-infinity"],[1,"bi","bi-headset"],[1,"modal-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","proEmail"],["type","email","id","proEmail","formControlName","email","placeholder","you@company.com","autocomplete","email",1,"form-control",3,"disabled"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],[1,"modal-footer"],[1,"bi","bi-shield-fill-check"],[1,"invalid-feedback"],[1,"spinner"]],template:function(c,d){1&c&&e.DNE(0,Et,6,5,"div",0),2&c&&e.Y8G("ngIf",d.isVisible)},dependencies:[C.bT,Je.qT,Je.me,Je.BC,Je.cb,Je.j4,Je.JD],styles:['.pro-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;width:100vw;height:100vh;background:rgba(0,0,0,.88);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;z-index:999999;padding:1.5rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]{background:#ffffff;border:1px solid #e5e5e5;border-radius:16px;max-width:540px;width:100%;max-height:90vh;overflow-y:auto;position:relative;box-shadow:0 32px 64px #0000003d,0 8px 16px #0000001f}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{position:absolute;top:1.25rem;right:1.25rem;width:40px;height:40px;border-radius:50%;background:#f5f5f5;border:1px solid #e5e5e5;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;z-index:10}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#666}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover:not(:disabled){background:#000000;border-color:#000}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover:not(:disabled)   i[_ngcontent-%COMP%]{color:#fff}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]{padding:3rem 2.5rem;text-align:center}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{width:88px;height:88px;margin:0 auto 1.75rem;background:#000000;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_successPulse .6s cubic-bezier(.16,1,.3,1)}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3.5rem;color:#fff}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#000;margin:0 0 1rem;letter-spacing:-.02em}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]{font-size:1.0625rem;line-height:1.6;color:#666;margin:0 0 2rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;font-weight:700}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]   .success-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.625rem;padding:.875rem 1.75rem;background:#f5f5f5;border:1px solid #e5e5e5;border-radius:100px;color:#000;font-weight:600;font-size:.9375rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]   .success-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]{padding:3rem 2.5rem 2.5rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .pro-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.125rem;background:#000000;color:#fff;border-radius:100px;font-size:.6875rem;font-weight:700;text-transform:uppercase;letter-spacing:.1em;margin-bottom:1.5rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .pro-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000;margin:0 0 1rem;letter-spacing:-.03em;line-height:1.2}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]{font-size:1.0625rem;line-height:1.6;color:#666;margin:0}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;font-weight:700;position:relative}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:2px;left:0;right:0;height:2px;background:#000000;opacity:.15}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-benefits[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:2.5rem;padding:1.5rem;background:#fafafa;border:1px solid #f0f0f0;border-radius:12px}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-benefits[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.875rem;font-size:.9375rem;line-height:1.5;color:#333}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-benefits[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#000;flex-shrink:0;margin-top:.125rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-benefits[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.75rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#000;margin-bottom:.625rem;letter-spacing:-.01em}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:1rem 1.25rem;border:2px solid #e5e5e5;background:#ffffff;border-radius:10px;font-size:1rem;font-weight:500;color:#000;transition:all .2s ease}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#999;font-weight:400}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ccc}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#000;background:#fafafa}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#000;background:#fff5f5}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed;opacity:.6}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;margin-top:.625rem;font-size:.8125rem;font-weight:500;color:#000}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:.75rem;padding:1.125rem 2rem;background:#000000;color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.16,1,.3,1);letter-spacing:-.01em}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.125rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]   i.spinner[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;border:2px solid rgba(255,255,255,.25);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .7s linear infinite}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#1a1a1a;transform:translateY(-2px);box-shadow:0 12px 24px #0003,0 4px 8px #0000001a}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:2rem;padding-top:1.75rem;border-top:1px solid #f0f0f0;font-size:.8125rem;color:#999}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ccc;font-size:.875rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f5f5f5}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cccccc;border-radius:4px}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#999999}@media (max-width: 768px){.pro-modal-overlay[_ngcontent-%COMP%]{padding:0;align-items:flex-end}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]{max-width:100%;max-height:92vh;border-radius:20px 20px 0 0;border-bottom:none}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:2.5rem 1.75rem 2rem!important}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{margin-bottom:2rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.625rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]{font-size:.9375rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-benefits[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:2rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.success-state[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.625rem}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{top:1rem;right:1rem;width:36px;height:36px}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.375rem}}@media (max-width: 480px){.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:2rem 1.5rem 1.75rem!important}.pro-modal-overlay[_ngcontent-%COMP%]   .pro-modal[_ngcontent-%COMP%]   .modal-content.form-state[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.5rem}}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}'],data:{animation:[oe("fadeIn",[Re(":enter",[se({opacity:0}),me("200ms ease-out",se({opacity:1}))]),Re(":leave",[me("150ms ease-in",se({opacity:0}))])]),oe("slideUp",[Re(":enter",[se({transform:"translateY(20px)",opacity:0}),me("300ms ease-out",se({transform:"translateY(0)",opacity:1}))]),Re(":leave",[me("200ms ease-in",se({transform:"translateY(20px)",opacity:0}))])])]}})}}return u})();function Bt(u,l){if(1&u&&(e.j41(0,"div",16),e.nrm(1,"i",17),e.j41(2,"span"),e.EFF(3),e.nI1(4,"date"),e.k0s()()),2&u){const i=e.XpG(2);e.R7$(3),e.SpI("Generated ",e.i5U(4,1,i.generatedAt,"short"),"")}}function Fi(u,l){1&u&&(e.j41(0,"div",18),e.nrm(1,"i",19),e.j41(2,"span"),e.EFF(3,"This preview has expired"),e.k0s()())}function zo(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",37)(1,"label",38),e.EFF(2,"What was missing?"),e.k0s(),e.j41(3,"textarea",39),e.bIt("ngModelChange",function(d){e.eBV(i);const P=e.XpG(4);return e.Njj(P.feedbackComment=d)}),e.EFF(4,"        "),e.k0s(),e.j41(5,"button",40),e.bIt("click",function(){e.eBV(i);const d=e.XpG(4);return e.Njj(d.submitFeedbackWithComment())}),e.EFF(6," Send feedback "),e.k0s()()}if(2&u){const i=e.XpG(4);e.R7$(3),e.Y8G("ngModel",i.feedbackComment)}}function Go(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",27)(1,"h4",28),e.EFF(2,"Did this preview help you get started faster?"),e.k0s(),e.j41(3,"div",29)(4,"button",30),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.handleFeedbackAnswer("yes"))}),e.nrm(5,"i",31),e.EFF(6," Yes "),e.k0s(),e.j41(7,"button",32),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.handleFeedbackAnswer("partial"))}),e.nrm(8,"i",33),e.EFF(9," Somewhat "),e.k0s(),e.j41(10,"button",34),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.handleFeedbackAnswer("no"))}),e.nrm(11,"i",35),e.EFF(12," No "),e.k0s()(),e.DNE(13,zo,7,1,"div",36),e.k0s()}if(2&u){const i=e.XpG(3);e.R7$(4),e.AVh("selected","yes"===i.feedbackAnswer),e.R7$(3),e.AVh("selected","partial"===i.feedbackAnswer),e.R7$(3),e.AVh("selected","no"===i.feedbackAnswer),e.R7$(3),e.Y8G("ngIf",i.showCommentBox)}}function ds(u,l){1&u&&(e.j41(0,"div",41),e.nrm(1,"i",42),e.j41(2,"p"),e.EFF(3,"Thank you for your feedback!"),e.k0s()())}const Ho=function(u,l){return{module:u,source:"preview",feature:"pro_upgrade",industry:l}};function Nc(u,l){if(1&u){const i=e.RV6();e.j41(0,"app-pro-upgrade-block",43),e.bIt("onUpgradeClick",function(d){e.eBV(i);const P=e.XpG(3);return e.Njj(P.handleProUpgrade(d))}),e.k0s()}if(2&u){const i=e.XpG(3);e.Y8G("module",i.moduleKey)("features",i.proFeatures)("contextData",e.l_i(3,Ho,i.moduleKey,i.previewData.industry))}}function Wr(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",44)(1,"button",45),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.handleGetFullSequence())}),e.nrm(2,"i",46),e.EFF(3," Get the full sequence "),e.k0s()()}}function fs(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",47)(1,"div",48)(2,"input",49),e.bIt("ngModelChange",function(d){e.eBV(i);const P=e.XpG(3);return e.Njj(P.emailForSequence=d)})("keyup.enter",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.submitEmail())}),e.k0s(),e.j41(3,"button",50),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.submitEmail())}),e.EFF(4," Send it to me "),e.k0s()()()}if(2&u){const i=e.XpG(3);e.R7$(2),e.Y8G("ngModel",i.emailForSequence),e.R7$(1),e.Y8G("disabled",!i.emailForSequence.trim())}}function An(u,l){if(1&u&&(e.j41(0,"div",51),e.nrm(1,"i",52),e.j41(2,"h4"),e.EFF(3,"All set!"),e.k0s(),e.j41(4,"p"),e.EFF(5,"We'll send the full sequence to "),e.j41(6,"strong"),e.EFF(7),e.k0s()()()),2&u){const i=e.XpG(3);e.R7$(7),e.JRh(i.emailForSequence)}}function Nl(u,l){if(1&u&&(e.j41(0,"div",20),e.DNE(1,Go,14,7,"div",21),e.DNE(2,ds,4,0,"div",22),e.DNE(3,Nc,1,6,"app-pro-upgrade-block",23),e.DNE(4,Wr,4,0,"div",24),e.DNE(5,fs,5,2,"div",25),e.DNE(6,An,8,1,"div",26),e.k0s()),2&u){const i=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!i.feedbackSubmitted),e.R7$(1),e.Y8G("ngIf",i.feedbackSubmitted&&!i.showEmailCapture),e.R7$(1),e.Y8G("ngIf",i.feedbackSubmitted&&!i.isAuthenticated&&!i.isExpired&&i.proFeatures.length>0),e.R7$(1),e.Y8G("ngIf",i.feedbackSubmitted&&!i.showEmailCapture),e.R7$(1),e.Y8G("ngIf",i.showEmailCapture&&!i.emailSubmitted),e.R7$(1),e.Y8G("ngIf",i.emailSubmitted)}}function cd(u,l){if(1&u&&(e.j41(0,"div",53),e.nrm(1,"i",19),e.EFF(2),e.k0s()),2&u){const i=e.XpG(2);e.R7$(2),e.SpI(" ",i.error," ")}}function jl(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",61),e.EFF(2," Save & Activate "),e.k0s())}function ld(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",62),e.EFF(2," Converting... "),e.k0s())}function Vl(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",57)(1,"button",50),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.convertToReal())}),e.DNE(2,jl,3,0,"span",58),e.DNE(3,ld,3,0,"span",58),e.k0s(),e.j41(4,"button",59),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.editPreview())}),e.nrm(5,"i",60),e.EFF(6," Edit "),e.k0s()()}if(2&u){const i=e.XpG(3);e.R7$(1),e.Y8G("disabled",i.converting),e.R7$(1),e.Y8G("ngIf",!i.converting),e.R7$(1),e.Y8G("ngIf",i.converting),e.R7$(1),e.Y8G("disabled",i.converting)}}function Ll(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",63)(1,"p",64),e.nrm(2,"i",19),e.EFF(3," This preview has expired. Please generate a new one. "),e.k0s(),e.j41(4,"button",65),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.regeneratePreview())}),e.nrm(5,"i",62),e.EFF(6," Generate New Preview "),e.k0s()()}if(2&u){const i=e.XpG(3);e.R7$(4),e.Y8G("disabled",i.loading)}}function xa(u,l){if(1&u&&(e.j41(0,"div",54),e.DNE(1,Vl,7,4,"div",55),e.DNE(2,Ll,7,1,"div",56),e.k0s()),2&u){const i=e.XpG(2);e.R7$(1),e.Y8G("ngIf",i.isAuthenticated&&!i.isExpired&&i.showConvertButton),e.R7$(1),e.Y8G("ngIf",i.isExpired)}}function Wo(u,l){if(1&u&&(e.j41(0,"div",70),e.nrm(1,"i",71),e.j41(2,"span"),e.EFF(3),e.nI1(4,"date"),e.k0s()()),2&u){const i=e.XpG(3);e.R7$(3),e.SpI("Expires: ",e.i5U(4,1,i.expiresAt,"short"),"")}}function ud(u,l){if(1&u&&(e.j41(0,"div",66)(1,"div",67),e.nrm(2,"i",68),e.j41(3,"span"),e.EFF(4," This is a preview. Your data is stored temporarily and will be saved permanently after you sign up. "),e.k0s()(),e.DNE(5,Wo,5,4,"div",69),e.k0s()),2&u){const i=e.XpG(2);e.R7$(5),e.Y8G("ngIf",i.expiresAt)}}function ka(u,l){if(1&u&&(e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3",6),e.EFF(4),e.k0s(),e.j41(5,"span",7),e.EFF(6),e.k0s()(),e.j41(7,"div",8),e.DNE(8,Bt,5,4,"div",9),e.DNE(9,Fi,4,0,"div",10),e.k0s()(),e.j41(10,"div",11),e.SdG(11),e.k0s(),e.DNE(12,Nl,7,6,"div",12),e.DNE(13,cd,3,1,"div",13),e.DNE(14,xa,3,2,"div",14),e.DNE(15,ud,6,1,"div",15),e.k0s()),2&u){const i=e.XpG();e.R7$(4),e.JRh(i.moduleName),e.R7$(1),e.Y8G("ngClass","badge-"+i.getStatusBadgeColor()),e.R7$(1),e.SpI(" ",i.getStatusBadgeText()," "),e.R7$(2),e.Y8G("ngIf",i.generatedAt&&!i.isExpired),e.R7$(1),e.Y8G("ngIf",i.isExpired),e.R7$(3),e.Y8G("ngIf",!i.isAuthenticated&&!i.isExpired),e.R7$(1),e.Y8G("ngIf",i.error),e.R7$(1),e.Y8G("ngIf",i.isAuthenticated||i.isExpired),e.R7$(1),e.Y8G("ngIf",!i.isExpired)}}function Ta(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",72)(1,"div",73),e.nrm(2,"i",74),e.k0s(),e.j41(3,"h4"),e.EFF(4,"No Preview Available"),e.k0s(),e.j41(5,"p",75),e.EFF(6,"Generate a preview to see how your configuration will look."),e.k0s(),e.j41(7,"button",76),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.regeneratePreview())}),e.nrm(8,"i",77),e.EFF(9," Generate Preview "),e.k0s()()}}const Fa=["*"];let jc=(()=>{class u{constructor(i,c,d){this.previewService=i,this.router=c,this.tracking=d,this.previewData=null,this.isAuthenticated=!1,this.showConvertButton=!0,this.onConvert=new e.bkB,this.onEdit=new e.bkB,this.loading=!1,this.converting=!1,this.error=null,this.moduleName="",this.generatedAt=null,this.expiresAt=null,this.isExpired=!1,this.feedbackAnswer=null,this.showCommentBox=!1,this.feedbackComment="",this.feedbackSubmitted=!1,this.showEmailCapture=!1,this.emailForSequence="",this.emailSubmitted=!1,this.showProModal=!1,this.proFeatures=[],this.proContextData=null}ngOnInit(){!this.previewData&&this.moduleKey&&(this.previewData=this.previewService.getPreviewFromSession(this.moduleKey)),this.previewData&&this.extractMetadata(),this.setupProFeatures()}extractMetadata(){if(!this.previewData?._metadata)return;const i=this.previewData._metadata;this.moduleName=i.moduleName,this.generatedAt=new Date(i.generatedAt),this.expiresAt=new Date(this.generatedAt),this.expiresAt.setHours(this.expiresAt.getHours()+24),this.isExpired=new Date>this.expiresAt}convertToReal(){var i=this;return(0,Vn.A)(function*(){if(i.previewData&&i.isAuthenticated){i.converting=!0,i.error=null;try{const c=yield i.previewService.convertPreviewToReal(i.moduleKey,i.previewData,!0).toPromise();console.log("\u2705 Preview converted successfully:",c),i.previewService.clearPreviewFromSession(i.moduleKey),i.onConvert.emit(c),i.router.navigate([`/${i.moduleKey}`])}catch(c){console.error("\u274c Error converting preview:",c),i.error=c.error?.error||"Failed to convert preview"}finally{i.converting=!1}}else i.error="Please login first to save this configuration"})()}editPreview(){this.onEdit.emit(this.previewData)}redirectToAuth(){this.tracking.conversionStarted(this.moduleKey,"preview"),this.previewData&&this.previewService.savePreviewToSession(this.previewData),this.router.navigate(["/register"],{queryParams:{module:this.moduleKey,from_preview:"true"}})}regeneratePreview(){var i=this;return(0,Vn.A)(function*(){i.loading=!0,i.error=null;try{i.router.navigate([`/preview/${i.moduleKey}`])}catch{i.error="Failed to regenerate preview"}finally{i.loading=!1}})()}getStatusBadgeColor(){return this.isExpired?"danger":this.converting?"warning":"success"}getStatusBadgeText(){return this.isExpired?"Expired":this.converting?"Converting...":"Preview"}handleFeedbackAnswer(i){this.feedbackAnswer=i,this.showCommentBox="no"===i||"partial"===i,"yes"===i&&this.submitFeedback()}submitFeedback(i){if(!this.feedbackAnswer)return;const c={answer:this.feedbackAnswer,module:this.moduleKey,source:"preview"};i&&(c.comment=i),this.tracking.track("wizard_feedback_answered",c),this.feedbackSubmitted=!0,console.log("\u2705 Feedback submitted:",c)}submitFeedbackWithComment(){if(!this.feedbackComment.trim()&&"yes"!==this.feedbackAnswer)return void this.submitFeedback();const i=this.feedbackComment.trim();this.submitFeedback(i),i&&this.tracking.track("wizard_feedback_comment_submitted",{comment:i,answer:this.feedbackAnswer,module:this.moduleKey,source:"preview"})}handleGetFullSequence(){this.tracking.track("get_full_sequence_clicked",{module:this.moduleKey,source:"preview"}),this.showEmailCapture=!0,console.log("\u2705 Get full sequence clicked")}submitEmail(){if(!this.emailForSequence||!this.emailForSequence.trim())return;const i=this.emailForSequence.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)?(this.tracking.track("email_submitted",{email:i,module:this.moduleKey,source:"preview"}),this.emailSubmitted=!0,this.error=null,console.log("\u2705 Email submitted:",i)):this.error="Por favor ingresa un email v\xe1lido"}setupProFeatures(){this.proFeatures={mailflow:[{icon:"bi bi-envelope-paper-fill",label:"Generate 10-email sequence",description:"Get complete automation-ready flows"},{icon:"bi bi-download",label:"Export to Mailchimp",description:"One-click integration with your ESP"},{icon:"bi bi-graph-up-arrow",label:"Advanced analytics",description:"Track opens, clicks, and conversions"}],"video-express":[{icon:"bi bi-collection-play-fill",label:"Batch video generation",description:"Upload 50+ images at once"},{icon:"bi bi-badge-hd-fill",label:"4K export quality",description:"Professional-grade output"},{icon:"bi bi-palette-fill",label:"Custom branding",description:"Add logos, colors, and fonts"}]}[this.moduleKey]||[]}handleProUpgrade(i){this.tracking.trackMonetizationIntent({...i,industry:this.previewData?.industry||"unknown"}),this.proContextData=i,this.showProModal=!0,console.log("\u{1f4b0} Pro upgrade clicked:",i)}handleProEmailSubmit(i){this.tracking.trackProEmailSubmitted(i),console.log("\u{1f4e7} Pro email submitted:",i)}handleProModalClose(){this.showProModal&&(this.tracking.trackProModalDismissed({module:this.moduleKey,reason:"close_button"}),this.showProModal=!1,this.proContextData=null)}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(Ii),e.rXU(st.Ix),e.rXU(Wi.b))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-module-preview"]],inputs:{moduleKey:"moduleKey",previewData:"previewData",isAuthenticated:"isAuthenticated",showConvertButton:"showConvertButton"},outputs:{onConvert:"onConvert",onEdit:"onEdit"},ngContentSelectors:Fa,decls:3,vars:4,consts:[["class","module-preview-container",4,"ngIf"],["class","empty-preview",4,"ngIf"],[3,"module","isVisible","onClose","onEmailSubmit"],[1,"module-preview-container"],[1,"preview-header"],[1,"header-left"],[1,"module-name"],[1,"badge",3,"ngClass"],[1,"header-right"],["class","preview-info",4,"ngIf"],["class","preview-warning",4,"ngIf"],[1,"preview-content"],["class","mvp-feedback-block",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","preview-actions",4,"ngIf"],["class","preview-footer",4,"ngIf"],[1,"preview-info"],[1,"bi","bi-clock"],[1,"preview-warning"],[1,"bi","bi-exclamation-triangle"],[1,"mvp-feedback-block"],["class","feedback-section",4,"ngIf"],["class","feedback-thanks",4,"ngIf"],[3,"module","features","contextData","onUpgradeClick",4,"ngIf"],["class","cta-block",4,"ngIf"],["class","email-capture-block",4,"ngIf"],["class","email-success",4,"ngIf"],[1,"feedback-section"],[1,"feedback-question"],[1,"feedback-buttons"],[1,"btn-feedback","btn-yes",3,"click"],[1,"bi","bi-hand-thumbs-up-fill"],[1,"btn-feedback","btn-partial",3,"click"],[1,"bi","bi-emoji-neutral"],[1,"btn-feedback","btn-no",3,"click"],[1,"bi","bi-hand-thumbs-down-fill"],["class","feedback-comment-box",4,"ngIf"],[1,"feedback-comment-box"],["for","feedbackComment",1,"comment-label"],["id","feedbackComment","placeholder","Tell us what you expected to find...","rows","3",1,"comment-textarea",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-small",3,"click"],[1,"feedback-thanks"],[1,"bi","bi-check-circle"],[3,"module","features","contextData","onUpgradeClick"],[1,"cta-block"],[1,"btn","btn-primary","btn-lg","btn-cta",3,"click"],[1,"bi","bi-envelope-open"],[1,"email-capture-block"],[1,"email-capture-form"],["type","email","placeholder","Your email",1,"form-control","form-control-lg",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-success","btn-lg",3,"disabled","click"],[1,"email-success"],[1,"bi","bi-send"],[1,"alert","alert-danger"],[1,"preview-actions"],["class","authenticated-actions",4,"ngIf"],["class","expired-actions",4,"ngIf"],[1,"authenticated-actions"],[4,"ngIf"],[1,"btn","btn-outline-secondary","ml-2",3,"disabled","click"],[1,"bi","bi-pencil"],[1,"bi","bi-check"],[1,"bi","bi-arrow-clockwise"],[1,"expired-actions"],[1,"text-danger","mb-3"],[1,"btn","btn-primary",3,"disabled","click"],[1,"preview-footer"],[1,"footer-note"],[1,"bi","bi-shield-check"],["class","expiration-timer",4,"ngIf"],[1,"expiration-timer"],[1,"bi","bi-hourglass"],[1,"empty-preview"],[1,"empty-icon"],[1,"bi","bi-eye-slash"],[1,"text-muted"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-lightning"]],template:function(c,d){1&c&&(e.NAR(),e.DNE(0,ka,16,9,"div",0),e.DNE(1,Ta,10,0,"div",1),e.j41(2,"app-pro-modal",2),e.bIt("onClose",function(){return d.handleProModalClose()})("onEmailSubmit",function(A){return d.handleProEmailSubmit(A)}),e.k0s()),2&c&&(e.Y8G("ngIf",d.previewData),e.R7$(1),e.Y8G("ngIf",!d.previewData),e.R7$(1),e.Y8G("module",d.moduleKey)("isVisible",d.showProModal))},dependencies:[C.YU,C.bT,Je.me,Je.BC,Je.vS,M,Zt,C.vh],styles:[".module-preview-container[_ngcontent-%COMP%]{background:white;border-radius:8px;padding:0;margin-bottom:24px}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e0e0e0}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.module-name[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#000}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;text-transform:uppercase}.badge.badge-success[_ngcontent-%COMP%]{background:#e0e0e0;color:#000}.badge.badge-warning[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.badge.badge-danger[_ngcontent-%COMP%]{background:#f0f0f0;color:#333}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.preview-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666;font-size:14px}.preview-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.preview-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#000;font-size:14px}.preview-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.preview-content[_ngcontent-%COMP%]{margin:24px 0;min-height:200px}.preview-actions[_ngcontent-%COMP%]{margin-top:24px;padding-top:24px;border-top:1px solid #e0e0e0}.auth-required-actions[_ngcontent-%COMP%], .authenticated-actions[_ngcontent-%COMP%], .expired-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.auth-required-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .authenticated-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .expired-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;max-width:600px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;font-weight:500;transition:all .3s ease}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.btn-lg[_ngcontent-%COMP%]{padding:14px 32px;font-size:16px}.btn-primary[_ngcontent-%COMP%]{background:#000000;border-color:#000;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#333333;transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.btn-success[_ngcontent-%COMP%]{background:#000000;border-color:#000;color:#fff}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#333333;transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid #000000;color:#000;background:transparent}.btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#000000;color:#fff}.preview-footer[_ngcontent-%COMP%]{margin-top:3rem;padding-top:2rem;border-top:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.footer-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666;font-size:13px;max-width:500px}.footer-note[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:16px}.expiration-timer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666;font-size:13px}.expiration-timer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.empty-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 24px;text-align:center}.empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-bottom:24px}.empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:#666}.empty-preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#000;font-weight:600}.empty-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;max-width:400px}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;display:flex;align-items:center;gap:12px;margin:16px 0}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.alert-danger[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #e0e0e0;color:#000}@media (max-width: 768px){.preview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.header-right[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.preview-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.mvp-feedback-block[_ngcontent-%COMP%]{margin-top:32px;background:#ffffff;border-top:1px solid #e5e7eb;margin-top:3rem;padding-top:2rem}.feedback-section[_ngcontent-%COMP%]   .feedback-question[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#000;margin:0 0 1.5rem;text-align:center}.feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin-bottom:1.5rem}.feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback[_ngcontent-%COMP%]{padding:.75rem 1.75rem;border:2px solid #d1d5db;border-radius:.5rem;background:white;cursor:pointer;font-size:.9375rem;font-weight:600;transition:all .2s;display:flex;align-items:center;gap:.5rem}.feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 4px 12px #00000026}.feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback.btn-yes[_ngcontent-%COMP%]:hover, .feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback.btn-yes.selected[_ngcontent-%COMP%]{border-color:#10b981;background:#d1fae5;color:#065f46}.feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback.btn-partial[_ngcontent-%COMP%]:hover, .feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback.btn-partial.selected[_ngcontent-%COMP%]{border-color:#f59e0b;background:#fef3c7;color:#92400e}.feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback.btn-no[_ngcontent-%COMP%]:hover, .feedback-section[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   .btn-feedback.btn-no.selected[_ngcontent-%COMP%]{border-color:#ef4444;background:#fee2e2;color:#991b1b}.feedback-section[_ngcontent-%COMP%]   .feedback-comment-box[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:left}.feedback-section[_ngcontent-%COMP%]   .feedback-comment-box[_ngcontent-%COMP%]   .comment-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#000;margin-bottom:.5rem}.feedback-section[_ngcontent-%COMP%]   .feedback-comment-box[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem;font-family:inherit;resize:vertical;margin-bottom:1rem}.feedback-section[_ngcontent-%COMP%]   .feedback-comment-box[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.feedback-section[_ngcontent-%COMP%]   .feedback-comment-box[_ngcontent-%COMP%]   .comment-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.feedback-section[_ngcontent-%COMP%]   .feedback-comment-box[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]{padding:.625rem 1.5rem;font-size:.875rem}.feedback-thanks[_ngcontent-%COMP%]{text-align:center;padding:20px}.feedback-thanks[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#10b981;margin-bottom:12px}.feedback-thanks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#000}.cta-block[_ngcontent-%COMP%]{text-align:center;margin-top:24px;padding:20px}.btn-cta[_ngcontent-%COMP%]{padding:16px 48px;font-size:18px;font-weight:600;background:#000000;border:none;color:#fff;border-radius:12px;box-shadow:0 4px 15px #0003;transition:all .3s ease}.btn-cta[_ngcontent-%COMP%]:hover:not(:disabled){background:#333333;transform:translateY(-3px) scale(1.02);box-shadow:0 6px 20px #0000004d}.btn-cta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.email-capture-block[_ngcontent-%COMP%]{margin-top:24px;padding:24px;background:white;border-radius:12px;border:2px solid #000000}.email-capture-form[_ngcontent-%COMP%]{display:flex;gap:12px;max-width:600px;margin:0 auto}.email-capture-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:2px solid #e0e0e0;border-radius:8px;padding:12px 16px;font-size:16px;transition:border-color .3s ease}.email-capture-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#000;box-shadow:0 0 0 3px #0000001a}.email-capture-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 32px;border-radius:8px;font-weight:600;white-space:nowrap}.email-success[_ngcontent-%COMP%]{text-align:center;padding:32px}.email-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#000;margin-bottom:16px;animation:_ngcontent-%COMP%_flyAway .6s ease-in}.email-success[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:24px;font-weight:600;color:#000}.email-success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#666}.email-success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}@keyframes _ngcontent-%COMP%_flyAway{0%{transform:scale(.5) translateY(20px);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1) translateY(0);opacity:1}}.bi-arrow-clockwise[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.feedback-options[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.feedback-option[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{width:100%}.email-capture-form[_ngcontent-%COMP%]{flex-direction:column}.email-capture-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.btn-cta[_ngcontent-%COMP%]{width:100%;padding:14px 24px;font-size:16px}}"]})}}return u})();function $l(u,l){if(1&u&&e.nrm(0,"div",18),2&u){const i=e.XpG().index,c=e.XpG(2);e.AVh("active",c.currentStep>i)}}function Ul(u,l){if(1&u&&(e.qex(0),e.j41(1,"div",14)(2,"div",15),e.EFF(3),e.k0s(),e.j41(4,"span",16),e.EFF(5),e.k0s()(),e.DNE(6,$l,1,2,"div",17),e.bVm()),2&u){const i=l.$implicit,c=l.index,d=l.last,P=e.XpG(2);e.R7$(1),e.AVh("active",P.currentStep>=c)("completed",P.currentStep>c),e.R7$(2),e.JRh(c+1),e.R7$(2),e.JRh(i.title),e.R7$(1),e.Y8G("ngIf",!d)}}function dd(u,l){if(1&u&&(e.j41(0,"div",11)(1,"div",12),e.DNE(2,Ul,7,7,"ng-container",13),e.k0s()()),2&u){const i=e.XpG();e.R7$(2),e.Y8G("ngForOf",i.wizardConfig.steps)}}function Ss(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",19),e.nrm(1,"i",20),e.j41(2,"span"),e.EFF(3),e.k0s(),e.j41(4,"button",21),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.error=null)}),e.EFF(5,"\xd7"),e.k0s()()}if(2&u){const i=e.XpG();e.R7$(3),e.JRh(i.error)}}function ta(u,l){1&u&&(e.j41(0,"span",40),e.EFF(1,"*"),e.k0s())}function fd(u,l){if(1&u&&e.nrm(0,"input",41),2&u){const i=e.XpG().$implicit,c=e.XpG(2);let d;e.AVh("is-invalid",(null==(d=c.wizardForm.get(i.name))?null:d.invalid)&&(null==(d=c.wizardForm.get(i.name))?null:d.touched)),e.Y8G("type",i.type)("id",i.name)("formControlName",i.name)("placeholder",i.placeholder)}}function Zp(u,l){if(1&u&&(e.j41(0,"option",45),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&u){const i=l.$implicit;e.Y8G("value",i),e.R7$(1),e.SpI(" ",e.bMT(2,2,i)," ")}}function Vc(u,l){if(1&u&&(e.j41(0,"select",42)(1,"option",43),e.EFF(2),e.k0s(),e.DNE(3,Zp,3,4,"option",44),e.k0s()),2&u){const i=e.XpG().$implicit,c=e.XpG(2);let d;e.AVh("is-invalid",(null==(d=c.wizardForm.get(i.name))?null:d.invalid)&&(null==(d=c.wizardForm.get(i.name))?null:d.touched)),e.Y8G("id",i.name)("formControlName",i.name),e.R7$(2),e.JRh(i.placeholder||"Select an option"),e.R7$(1),e.Y8G("ngForOf",i.options)}}function eh(u,l){if(1&u&&(e.j41(0,"textarea",46),e.EFF(1,"                "),e.k0s()),2&u){const i=e.XpG().$implicit,c=e.XpG(2);let d;e.AVh("is-invalid",(null==(d=c.wizardForm.get(i.name))?null:d.invalid)&&(null==(d=c.wizardForm.get(i.name))?null:d.touched)),e.Y8G("id",i.name)("formControlName",i.name)("placeholder",i.placeholder)}}function pd(u,l){1&u&&(e.j41(0,"div",47),e.EFF(1," This field is required "),e.k0s())}function hd(u,l){if(1&u&&(e.j41(0,"div",33)(1,"label",34),e.EFF(2),e.DNE(3,ta,2,0,"span",35),e.k0s(),e.DNE(4,fd,1,6,"input",36),e.DNE(5,Vc,4,6,"select",37),e.DNE(6,eh,2,5,"textarea",38),e.DNE(7,pd,2,0,"div",39),e.k0s()),2&u){const i=l.$implicit,c=e.XpG(2);let d;e.R7$(1),e.Y8G("for",i.name),e.R7$(1),e.SpI(" ",i.label," "),e.R7$(1),e.Y8G("ngIf",i.required),e.R7$(1),e.Y8G("ngIf","text"===i.type||"email"===i.type),e.R7$(1),e.Y8G("ngIf","select"===i.type),e.R7$(1),e.Y8G("ngIf","textarea"===i.type),e.R7$(1),e.Y8G("ngIf",(null==(d=c.wizardForm.get(i.name))?null:d.invalid)&&(null==(d=c.wizardForm.get(i.name))?null:d.touched))}}function th(u,l){if(1&u){const i=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.previousStep())}),e.nrm(1,"i",49),e.EFF(2," Previous "),e.k0s()}}function nh(u,l){if(1&u){const i=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.nextStep())}),e.j41(1,"span"),e.EFF(2,"Next \u2192"),e.k0s()()}if(2&u){const i=e.XpG(2);e.Y8G("disabled",!i.isCurrentStepValid())}}function Lc(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",53),e.EFF(2," Generate Preview "),e.k0s())}function na(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",54),e.EFF(2," Generating... "),e.k0s())}function gd(u,l){if(1&u){const i=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.generatePreview())}),e.DNE(1,Lc,3,0,"span",52),e.DNE(2,na,3,0,"span",52),e.k0s()}if(2&u){const i=e.XpG(2);e.Y8G("disabled",!i.wizardForm.valid||i.generating),e.R7$(1),e.Y8G("ngIf",!i.generating),e.R7$(1),e.Y8G("ngIf",i.generating)}}function ra(u,l){if(1&u&&(e.j41(0,"section",22)(1,"div",23)(2,"h2",24),e.EFF(3),e.k0s(),e.j41(4,"p",25),e.EFF(5),e.k0s(),e.j41(6,"form",26)(7,"div",27),e.DNE(8,hd,8,7,"div",28),e.k0s(),e.j41(9,"div",29),e.DNE(10,th,3,0,"button",30),e.DNE(11,nh,3,1,"button",31),e.DNE(12,gd,3,3,"button",32),e.k0s()()()()),2&u){const i=e.XpG();e.R7$(3),e.JRh(i.getCurrentStepTitle()),e.R7$(2),e.JRh(i.getCurrentStepDescription()),e.R7$(1),e.Y8G("formGroup",i.wizardForm),e.R7$(2),e.Y8G("ngForOf",i.getCurrentStepFields()),e.R7$(2),e.Y8G("ngIf",i.currentStep>0),e.R7$(1),e.Y8G("ngIf",!i.isLastStep()),e.R7$(1),e.Y8G("ngIf",i.isLastStep())}}function $c(u,l){if(1&u&&(e.j41(0,"section",55)(1,"div",56)(2,"div",57),e.nrm(3,"div",58)(4,"div",59)(5,"div",60),e.j41(6,"div",61),e.nrm(7,"i",62),e.k0s()(),e.j41(8,"h2",63),e.EFF(9,"Creating Your Preview"),e.k0s(),e.j41(10,"p",64),e.EFF(11),e.k0s(),e.j41(12,"div",65),e.nrm(13,"div",66),e.k0s(),e.j41(14,"p",67),e.EFF(15,"\u2728 This will only take a moment..."),e.k0s()()()),2&u){const i=e.XpG();e.R7$(11),e.JRh(i.currentGeneratingMessage),e.R7$(2),e.xc7("width",i.generatingProgress,"%")}}function Aa(u,l){if(1&u&&(e.j41(0,"div",85)(1,"div",86)(2,"span",87),e.EFF(3),e.k0s(),e.j41(4,"span",88),e.EFF(5),e.k0s()(),e.j41(6,"h5"),e.EFF(7),e.k0s(),e.j41(8,"p",89),e.EFF(9),e.nI1(10,"slice"),e.k0s()()),2&u){const i=l.$implicit,c=l.index;e.R7$(3),e.SpI("Email ",c+1,""),e.R7$(2),e.SpI("Day ",i.delayHours/24,""),e.R7$(2),e.JRh(i.subject),e.R7$(2),e.SpI("",e.brH(10,4,i.bodyText,0,150),"...")}}function rh(u,l){if(1&u&&(e.j41(0,"div",77)(1,"div",78)(2,"h4"),e.EFF(3),e.k0s(),e.j41(4,"div",79)(5,"div",80),e.nrm(6,"i",81),e.j41(7,"span"),e.EFF(8),e.k0s()(),e.j41(9,"div",80),e.nrm(10,"i",82),e.j41(11,"span"),e.EFF(12),e.k0s()()()(),e.j41(13,"div",83),e.DNE(14,Aa,11,8,"div",84),e.k0s()()),2&u){const i=e.XpG(2);e.R7$(3),e.JRh(i.generatedPreview.sequenceName),e.R7$(5),e.SpI("",i.generatedPreview.stats.totalEmails," emails"),e.R7$(4),e.JRh(i.generatedPreview.stats.estimatedDuration),e.R7$(2),e.Y8G("ngForOf",i.generatedPreview.emails)}}function Bl(u,l){if(1&u){const i=e.RV6();e.j41(0,"section",22)(1,"div",68)(2,"div",69)(3,"div",70),e.nrm(4,"i",71),e.j41(5,"span"),e.EFF(6,"Preview Ready!"),e.k0s()(),e.j41(7,"h2",24),e.EFF(8),e.k0s(),e.j41(9,"p",25),e.EFF(10," Below is your generated preview. You can test it now or sign up to save and customize it further. "),e.k0s()(),e.j41(11,"app-module-preview",72),e.bIt("onConvert",function(d){e.eBV(i);const P=e.XpG();return e.Njj(P.handleConversion(d))})("onEdit",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.editPreview())}),e.DNE(12,rh,15,4,"div",73),e.k0s(),e.j41(13,"div",74)(14,"button",75),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.editPreview())}),e.nrm(15,"i",49),e.EFF(16," Start Over "),e.k0s(),e.j41(17,"button",76),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.handleConversion(d.generatedPreview))}),e.nrm(18,"i",53),e.EFF(19," Sign Up to Save "),e.k0s()()()()}if(2&u){const i=e.XpG();e.R7$(8),e.SpI("Your ",i.moduleName," Preview"),e.R7$(3),e.Y8G("moduleKey",i.moduleKey)("previewData",i.generatedPreview)("isAuthenticated",!1),e.R7$(1),e.Y8G("ngIf","mailflow"===i.moduleKey)}}function zl(u,l){if(1&u&&(e.j41(0,"footer",90)(1,"div",91)(2,"div",92)(3,"div",93),e.nrm(4,"i",94),e.j41(5,"span"),e.EFF(6,"No registration"),e.k0s()(),e.j41(7,"div",93),e.nrm(8,"i",95),e.j41(9,"span"),e.EFF(10,"No credit card"),e.k0s()(),e.j41(11,"div",93),e.nrm(12,"i",96),e.j41(13,"span"),e.EFF(14,"Just try"),e.k0s()()(),e.j41(15,"div",97)(16,"p",98),e.nrm(17,"i",99),e.j41(18,"span"),e.EFF(19,"Start testing "),e.j41(20,"strong"),e.EFF(21),e.k0s(),e.EFF(22," in seconds"),e.k0s()()()()()),2&u){const i=e.XpG();e.R7$(21),e.JRh(i.moduleName)}}let md=(()=>{class u{constructor(i,c,d,P,A){this.route=i,this.router=c,this.fb=d,this.previewService=P,this.tracking=A,this.moduleKey="",this.moduleName="",this.currentStep=0,this.wizardConfig={steps:[]},this.generating=!1,this.showGeneratingScreen=!1,this.generatingProgress=0,this.currentGeneratingMessage="",this.generatedPreview=null,this.error=null,this.generatingMessages=["Analyzing your business...","Crafting your email sequence...","Optimizing subject lines...","Personalizing content...","Almost ready..."],this.currentMessageIndex=0,this.WHOO_MOMENT_DELAY=2500,this.moduleConfigs={mailflow:{steps:[{title:"Business Information",description:"Tell us about your business",fields:[{name:"industry",label:"Industry",type:"select",options:["ecommerce","saas","services","education"],required:!0,placeholder:"Select your industry"},{name:"brandName",label:"Brand Name",type:"text",required:!0,placeholder:"Enter your brand name"}]},{title:"Sequence Type",description:"Choose the type of email sequence",fields:[{name:"goals",label:"Sequence Goal",type:"select",options:["increase_sales","build_loyalty","onboarding","nurture","conversion","re-engagement"],required:!0,placeholder:"Select your primary goal"}]},{title:"Preview Contacts",description:"We'll use sample contacts for the preview (optional)",fields:[{name:"goalDescription",label:"Additional Notes",type:"textarea",required:!1,placeholder:"Any specific goals or notes for your sequence? (optional)"}]}]}},this.moduleNames={mailflow:"MailFlow",videoexpress:"Video Express",newsletter:"Newsletter Campaigns"}}ngOnInit(){this.route.params.subscribe(i=>{this.moduleKey=i.moduleKey,this.loadModuleConfig(),this.buildForm(),this.tracking.pageView("preview_wizard",{module:this.moduleKey,source:"preview"})})}loadModuleConfig(){var i=this;return(0,Vn.A)(function*(){if(i.moduleConfigs[i.moduleKey])return console.log(`\u2705 Using local config for module: ${i.moduleKey}`),i.wizardConfig=i.moduleConfigs[i.moduleKey],void(i.moduleName=i.moduleNames[i.moduleKey]||i.moduleKey);try{console.log(`\u{1f50d} Loading config from backend for module: ${i.moduleKey}`);const c=yield i.previewService.getPreviewConfig(i.moduleKey).toPromise();if(!c.success||!c.config)return void(i.error="Module not found or preview not available");const d=c.config.status,P="true"===i.route.snapshot.queryParams.internal;if(console.log("\u{1f512} Status validation:",{module:i.moduleKey,status:d,isInternalAccess:P}),"testing"===d&&!P)return console.warn(`\u26a0\ufe0f Module '${i.moduleKey}' is in testing - public access blocked`),void(i.error="\u{1f680} Coming soon! This module is in private testing.");console.log(`\u2705 Access granted to module '${i.moduleKey}'`),i.moduleName=c.config.moduleName,i.wizardConfig=i.getDefaultConfig()}catch(c){console.error("\u274c Error loading module config:",c),i.error="Module not found or preview not available"}})()}buildForm(){const i={};(this.moduleConfigs[this.moduleKey]||this.getDefaultConfig()).steps.forEach(d=>{d.fields.forEach(P=>{i[P.name]=["",P.required?Je.k0.required:[]]})}),this.wizardForm=this.fb.group(i)}getDefaultConfig(){return{steps:[{title:"Basic Information",description:"Enter basic information",fields:[{name:"name",label:"Name",type:"text",required:!0,placeholder:"Enter a name"}]}]}}getCurrentStepFields(){return this.wizardConfig&&this.wizardConfig.steps[this.currentStep]?.fields||[]}getCurrentStepTitle(){return this.wizardConfig?.steps[this.currentStep]?.title||""}getCurrentStepDescription(){return this.wizardConfig?.steps[this.currentStep]?.description||""}nextStep(){this.wizardConfig&&this.currentStep<this.wizardConfig.steps.length-1&&(this.tracking.wizardStep(this.currentStep+1,this.moduleKey,{stepTitle:this.getCurrentStepTitle(),formData:this.getStepFormData()}),this.currentStep++)}previousStep(){this.currentStep>0&&this.currentStep--}isCurrentStepValid(){return this.getCurrentStepFields().every(c=>{const d=this.wizardForm.get(c.name);return!c.required||d&&d.valid})}isLastStep(){return!this.wizardConfig||this.currentStep===this.wizardConfig.steps.length-1}generatePreview(){var i=this;return(0,Vn.A)(function*(){if(i.wizardForm.valid){i.generating=!0,i.error=null;try{const c=i.wizardForm.value;c.goals&&"string"==typeof c.goals&&(c.goals=[c.goals]),console.log("\u{1f4e4} Sending preview request:",c);const d=yield i.previewService.generatePreview(i.moduleKey,c).toPromise();if(d.success){i.showGeneratingScreen=!0,i.startGeneratingAnimation();const P=setInterval(()=>{i.generatingProgress<95&&(i.generatingProgress+=5)},100);yield new Promise(A=>setTimeout(A,i.WHOO_MOMENT_DELAY)),clearInterval(P),i.generatingProgress=100,i.showGeneratingScreen=!1,i.stopGeneratingAnimation(),i.generatedPreview=d.preview,console.log("\u2705 Preview generated:",i.generatedPreview),i.tracking.previewGenerated(i.moduleKey,{industry:c.industry,goals:c.goals,totalEmails:d.preview.stats?.totalEmails,duration:d.preview.stats?.estimatedDuration})}}catch(c){console.error("\u274c Error generating preview:",c),i.error=c.error?.error||"Failed to generate preview",i.showGeneratingScreen=!1,i.stopGeneratingAnimation()}finally{i.generating=!1}}else i.error="Please fill all required fields"})()}startGeneratingAnimation(){this.currentMessageIndex=0,this.currentGeneratingMessage=this.generatingMessages[0],this.messageInterval=setInterval(()=>{this.currentMessageIndex=(this.currentMessageIndex+1)%this.generatingMessages.length,this.currentGeneratingMessage=this.generatingMessages[this.currentMessageIndex]},500)}stopGeneratingAnimation(){this.messageInterval&&(clearInterval(this.messageInterval),this.messageInterval=null),this.generatingProgress=0}handleConversion(i){console.log("\u2705 Conversion successful:",i),this.router.navigate([`/${this.moduleKey}`])}editPreview(){this.generatedPreview=null,this.currentStep=0}getProgress(){return this.wizardConfig?(this.currentStep+1)/this.wizardConfig.steps.length*100:0}getStepFormData(){const i=this.getCurrentStepFields(),c={};return i.forEach(d=>{const P=this.wizardForm.get(d.name)?.value;P&&(c[d.name]=P)}),c}ngOnDestroy(){this.stopGeneratingAnimation()}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(st.nX),e.rXU(st.Ix),e.rXU(Je.ok),e.rXU(Ii),e.rXU(Wi.b))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-module-preview-wizard"]],decls:15,vars:7,consts:[[1,"video-express-wizard","module-preview-wizard"],[1,"wizard-header"],[1,"container"],[1,"wizard-title"],[1,"wizard-subtitle"],[1,"wizard-container"],["class","progress-indicator",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","wizard-step",4,"ngIf"],["class","wizard-step generating-screen",4,"ngIf"],["class","wizard-footer-enhanced",4,"ngIf"],[1,"progress-indicator"],[1,"progress-steps"],[4,"ngFor","ngForOf"],[1,"progress-step"],[1,"step-circle"],[1,"step-label"],["class","progress-line",3,"active",4,"ngIf"],[1,"progress-line"],[1,"alert","alert-error"],[1,"icon-alert"],[1,"close-btn",3,"click"],[1,"wizard-step"],[1,"step-content"],[1,"step-title"],[1,"step-description"],[1,"wizard-form",3,"formGroup"],[1,"form-fields"],["class","form-group",4,"ngFor","ngForOf"],[1,"step-actions"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-large",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-success btn-large",3,"disabled","click",4,"ngIf"],[1,"form-group"],[3,"for"],["class","required",4,"ngIf"],["class","form-control",3,"type","id","formControlName","placeholder","is-invalid",4,"ngIf"],["class","form-control",3,"id","formControlName","is-invalid",4,"ngIf"],["class","form-control","rows","4",3,"id","formControlName","placeholder","is-invalid",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"required"],[1,"form-control",3,"type","id","formControlName","placeholder"],[1,"form-control",3,"id","formControlName"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["rows","4",1,"form-control",3,"id","formControlName","placeholder"],[1,"invalid-feedback"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-arrow-left"],["type","button",1,"btn","btn-primary","btn-large",3,"disabled","click"],["type","button",1,"btn","btn-success","btn-large",3,"disabled","click"],[4,"ngIf"],[1,"bi","bi-lightning"],[1,"spinner"],[1,"wizard-step","generating-screen"],[1,"generating-container"],[1,"generating-animation"],[1,"pulse-circle"],[1,"pulse-circle","pulse-circle-2"],[1,"pulse-circle","pulse-circle-3"],[1,"icon-center"],[1,"bi","bi-lightning-charge-fill"],[1,"generating-title"],[1,"generating-message"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"generating-tip"],[1,"preview-result"],[1,"result-header"],[1,"success-badge"],[1,"bi","bi-check-circle"],[3,"moduleKey","previewData","isAuthenticated","onConvert","onEdit"],["class","mailflow-preview",4,"ngIf"],[1,"result-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","btn-large",3,"click"],[1,"mailflow-preview"],[1,"sequence-info"],[1,"stats"],[1,"stat"],[1,"bi","bi-envelope"],[1,"bi","bi-clock"],[1,"emails-list"],["class","email-card",4,"ngFor","ngForOf"],[1,"email-card"],[1,"email-header"],[1,"email-order"],[1,"email-delay"],[1,"email-preview"],[1,"wizard-footer-enhanced"],[1,"footer-container"],[1,"footer-features"],[1,"feature-badge"],[1,"bi","bi-shield-check"],[1,"bi","bi-credit-card-2-back"],[1,"bi","bi-lightning-charge"],[1,"footer-cta"],[1,"footer-message"],[1,"bi","bi-arrow-up-circle"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),e.EFF(4),e.k0s(),e.j41(5,"p",4),e.EFF(6,"Try before you buy - no signup required"),e.k0s()()(),e.j41(7,"main",5)(8,"div",2),e.DNE(9,dd,3,1,"div",6),e.DNE(10,Ss,6,1,"div",7),e.DNE(11,ra,13,7,"section",8),e.DNE(12,$c,16,3,"section",9),e.DNE(13,Bl,20,5,"section",8),e.k0s()(),e.DNE(14,zl,23,1,"footer",10),e.k0s()),2&c&&(e.R7$(4),e.JRh(d.moduleName),e.R7$(5),e.Y8G("ngIf",!d.generatedPreview&&d.wizardConfig),e.R7$(1),e.Y8G("ngIf",d.error),e.R7$(1),e.Y8G("ngIf",!d.generatedPreview&&d.wizardConfig),e.R7$(1),e.Y8G("ngIf",d.showGeneratingScreen),e.R7$(1),e.Y8G("ngIf",d.generatedPreview&&!d.showGeneratingScreen),e.R7$(1),e.Y8G("ngIf",!d.generatedPreview))},dependencies:[C.Sq,C.bT,Je.qT,Je.xH,Je.y7,Je.me,Je.wz,Je.BC,Je.cb,Je.j4,Je.JD,jc,C.P9,C.PV],encapsulation:2})}}return u})();var Ai=F(1413),Os=F(6977),Ra=F(8359);class Uc extends Ra.yU{constructor(l,i){super()}schedule(l,i=0){return this}}const ia={setInterval(u,l,...i){const{delegate:c}=ia;return c?.setInterval?c.setInterval(u,l,...i):setInterval(u,l,...i)},clearInterval(u){const{delegate:l}=ia;return(l?.clearInterval||clearInterval)(u)},delegate:void 0};var Na=F(7908);const Gl={now:()=>(Gl.delegate||Date).now(),delegate:void 0};class Is{constructor(l,i=Is.now){this.schedulerActionCtor=l,this.now=i}schedule(l,i=0,c){return new this.schedulerActionCtor(this,l).schedule(c,i)}}Is.now=Gl.now;const zc=new class Hl extends Is{constructor(l,i=Is.now){super(l,i),this.actions=[],this._active=!1}flush(l){const{actions:i}=this;if(this._active)return void i.push(l);let c;this._active=!0;do{if(c=l.execute(l.state,l.delay))break}while(l=i.shift());if(this._active=!1,c){for(;l=i.shift();)l.unsubscribe();throw c}}}(class Bc extends Uc{constructor(l,i){super(l,i),this.scheduler=l,this.work=i,this.pending=!1}schedule(l,i=0){var c;if(this.closed)return this;this.state=l;const d=this.id,P=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(P,d,i)),this.pending=!0,this.delay=i,this.id=null!==(c=this.id)&&void 0!==c?c:this.requestAsyncId(P,this.id,i),this}requestAsyncId(l,i,c=0){return ia.setInterval(l.flush.bind(l,this),c)}recycleAsyncId(l,i,c=0){if(null!=c&&this.delay===c&&!1===this.pending)return i;null!=i&&ia.clearInterval(i)}execute(l,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const c=this._execute(l,i);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l,i){let d,c=!1;try{this.work(l)}catch(P){c=!0,d=P||new Error("Scheduled action threw falsy error")}if(c)return this.unsubscribe(),d}unsubscribe(){if(!this.closed){const{id:l,scheduler:i}=this,{actions:c}=i;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Na.o)(c,this),null!=l&&(this.id=this.recycleAsyncId(i,l,null)),this.delay=null,super.unsubscribe()}}}),Wl=zc;var _d=F(1985),ja=F(9470);var Kl=F(8810),oa=F(5558),yd=F(6697);let Xr=(()=>{class u{constructor(i){this.http=i,this.baseUrl=`${or.c.API_URL}/video-express/preview`,this.stopPolling$=new Ai.B}uploadImage(i){const c=new FormData;return c.append("image",i,i.name),this.http.post(`${this.baseUrl}/upload`,c).pipe((0,h.W)(this.handleError))}generateVideo(i,c,d="parallax"){return this.http.post(`${this.baseUrl}/generate`,{imageId:i,objective:c,animationStyle:d}).pipe((0,h.W)(this.handleError))}checkVideoStatus(i){return this.http.get(`${this.baseUrl}/status/${i}`).pipe((0,h.W)(this.handleError))}pollVideoStatus(i,c=5e3){return function Xl(u=0,l=zc){return u<0&&(u=0),function vd(u=0,l,i=Wl){let c=-1;return null!=l&&((0,ja.m)(l)?i=l:c=l),new _d.c(d=>{let P=function ps(u){return u instanceof Date&&!isNaN(u)}(u)?+u-i.now():u;P<0&&(P=0);let A=0;return i.schedule(function(){d.closed||(d.next(A++),0<=c?this.schedule(void 0,c):d.complete())},P)})}(u,u,l)}(c).pipe((0,oa.n)(()=>this.checkVideoStatus(i)),(0,Os.Q)(this.stopPolling$),(0,Os.Q)(this.checkVideoStatus(i).pipe((0,gi.p)(d=>"completed"===d.status||"failed"===d.status),(0,yd.s)(1))))}stopPolling(){this.stopPolling$.next()}downloadVideo(i){return this.http.get(`${this.baseUrl}/download/${i}`,{responseType:"blob",observe:"body"}).pipe((0,h.W)(this.handleError))}triggerDownload(i,c){this.downloadVideo(i).subscribe(d=>{const P=window.URL.createObjectURL(d),A=document.createElement("a");A.href=P,A.download=c||`product-video-${Date.now()}.mp4`,A.click(),window.URL.revokeObjectURL(P)})}submitFeedback(i){return this.http.post(`${this.baseUrl}/feedback`,i).pipe((0,h.W)(this.handleError))}validateImageFile(i){return["image/jpeg","image/png","image/jpg"].includes(i.type)?!(i.size>10485760)||"La imagen no puede superar los 10MB":"Solo se permiten im\xe1genes JPG o PNG"}createImagePreview(i){return URL.createObjectURL(i)}revokeImagePreview(i){URL.revokeObjectURL(i)}handleError(i){let c="Ocurri\xf3 un error inesperado";return c=i.error instanceof ErrorEvent?`Error: ${i.error.message}`:i.error?.error||i.error?.message||i.message||c,console.error("\u274c VideoExpressService Error:",i),(0,Kl.$)(()=>new Error(c))}getCreditStatus(){return this.http.get(`${or.c.API_URL}/video-express/credit-status`).pipe((0,Io.T)(i=>i.data),(0,h.W)(this.handleError))}resetCreditCounter(){return this.http.post(`${or.c.API_URL}/video-express/credit-reset`,{}).pipe((0,Io.T)(i=>i.data),(0,h.W)(this.handleError))}reset(){this.stopPolling()}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(ni.Qq))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();const bd=["videoPlayer"];function Yl(u,l){1&u&&(e.j41(0,"div",15),e.nrm(1,"div",16)(2,"div",17),e.k0s())}function Gc(u,l){if(1&u&&(e.j41(0,"div")(1,"h1",18),e.EFF(2),e.k0s(),e.j41(3,"p",19),e.EFF(4),e.k0s()()),2&u){const i=e.XpG();e.R7$(2),e.JRh(i.moduleName),e.R7$(2),e.JRh(i.moduleTagline)}}function Cd(u,l){if(1&u&&(e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23),e.EFF(4,"1"),e.k0s(),e.j41(5,"span",24),e.EFF(6,"Image"),e.k0s()(),e.nrm(7,"div",25),e.j41(8,"div",22)(9,"div",23),e.EFF(10,"2"),e.k0s(),e.j41(11,"span",24),e.EFF(12,"Goal"),e.k0s()(),e.nrm(13,"div",25),e.j41(14,"div",22)(15,"div",23),e.EFF(16,"3"),e.k0s(),e.j41(17,"span",24),e.EFF(18,"Generate"),e.k0s()()()()),2&u){const i=e.XpG();e.R7$(2),e.AVh("active",i.state.currentStep>=1)("completed",i.state.currentStep>1),e.R7$(5),e.AVh("active",i.state.currentStep>1),e.R7$(1),e.AVh("active",i.state.currentStep>=2)("completed",i.state.currentStep>2),e.R7$(5),e.AVh("active",i.state.currentStep>2),e.R7$(1),e.AVh("active",i.state.currentStep>=3)}}function ql(u,l){if(1&u){const i=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.state.error=null)}),e.EFF(1,"\xd7"),e.k0s()}}function Hc(u,l){if(1&u&&(e.j41(0,"div",26),e.nrm(1,"i",27),e.j41(2,"span"),e.EFF(3),e.k0s(),e.DNE(4,ql,2,0,"button",28),e.k0s()),2&u){const i=e.XpG();e.R7$(3),e.JRh(i.state.error),e.R7$(1),e.Y8G("ngIf",!i.state.isBlocked)}}function xs(u,l){1&u&&(e.j41(0,"div",40)(1,"div",41),e.nrm(2,"div",42)(3,"div",43),e.k0s(),e.j41(4,"p",44),e.nrm(5,"i",45),e.EFF(6," Processing image... "),e.k0s()())}function ks(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",46),e.nrm(1,"img",47),e.j41(2,"div",48),e.EFF(3),e.k0s(),e.j41(4,"button",49),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.changeImage())}),e.EFF(5," Change image "),e.k0s()()}if(2&u){const i=e.XpG(2);e.R7$(1),e.Y8G("src",i.state.imagePreviewUrl,e.B4B),e.R7$(2),e.JRh(null==i.state.uploadedImage?null:i.state.uploadedImage.name)}}function Ts(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",50),e.bIt("drop",function(d){e.eBV(i);const P=e.XpG(2);return e.Njj(P.onDrop(d))})("dragover",function(d){e.eBV(i);const P=e.XpG(2);return e.Njj(P.onDragOver(d))})("dragleave",function(d){e.eBV(i);const P=e.XpG(2);return e.Njj(P.onDragLeave(d))}),e.j41(1,"input",51,52),e.bIt("change",function(d){e.eBV(i);const P=e.XpG(2);return e.Njj(P.onFileChange(d))}),e.k0s(),e.j41(3,"div",53),e.bIt("click",function(){e.eBV(i);const d=e.sdS(2);return e.Njj(d.click())}),e.j41(4,"div",54),e.nrm(5,"i",55),e.k0s(),e.j41(6,"p",56),e.EFF(7," Drag your image here or click to select "),e.k0s(),e.j41(8,"p",57),e.EFF(9,"JPG or PNG up to 10MB"),e.k0s()()()}if(2&u){const i=e.XpG(2);e.AVh("drag-over",i.isDragOver)}}function Ql(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"Continue \u2192"),e.k0s())}function Wc(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",45),e.EFF(2," Uploading... "),e.k0s())}function Fs(u,l){if(1&u){const i=e.RV6();e.j41(0,"section",30)(1,"div",31)(2,"h2",32),e.EFF(3,"Upload your product image"),e.k0s(),e.j41(4,"p",33),e.EFF(5," In seconds we'll turn this image into a ready-to-publish video "),e.k0s(),e.j41(6,"div",34),e.DNE(7,xs,7,0,"div",35),e.DNE(8,ks,6,2,"div",36),e.DNE(9,Ts,10,2,"div",37),e.k0s(),e.j41(10,"div",38)(11,"button",39),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.uploadImage())}),e.DNE(12,Ql,2,0,"span",4),e.DNE(13,Wc,3,0,"span",4),e.k0s()()()()}if(2&u){const i=e.XpG();e.R7$(7),e.Y8G("ngIf",i.state.loading&&!i.state.imagePreviewUrl),e.R7$(1),e.Y8G("ngIf",i.state.imagePreviewUrl&&!i.state.loading),e.R7$(1),e.Y8G("ngIf",!i.state.imagePreviewUrl&&!i.state.loading),e.R7$(2),e.Y8G("disabled",!i.canContinueStep1),e.R7$(1),e.Y8G("ngIf",!i.state.loading),e.R7$(1),e.Y8G("ngIf",i.state.loading)}}function ih(u,l){1&u&&(e.j41(0,"div",68),e.EFF(1," \u2713 "),e.k0s())}function Ed(u,l){1&u&&(e.j41(0,"div",68),e.EFF(1," \u2713 "),e.k0s())}function oh(u,l){1&u&&(e.j41(0,"span",80),e.EFF(1,"Recommended"),e.k0s())}function sh(u,l){1&u&&(e.j41(0,"div",81),e.EFF(1," \u2713 "),e.k0s())}function ah(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",74),e.bIt("click",function(){const P=e.eBV(i).$implicit,A=e.XpG(3);return e.Njj(A.selectAnimation(P.value))}),e.j41(1,"div",75),e.nrm(2,"i"),e.k0s(),e.j41(3,"h4",76),e.EFF(4),e.k0s(),e.j41(5,"p",77),e.EFF(6),e.k0s(),e.DNE(7,oh,2,0,"span",78),e.DNE(8,sh,2,0,"div",79),e.k0s()}if(2&u){const i=l.$implicit,c=e.XpG(3);e.AVh("selected",c.state.selectedAnimation===i.value)("recommended",i.recommended),e.R7$(2),e.HbH(i.icon),e.R7$(2),e.JRh(i.label),e.R7$(2),e.JRh(i.description),e.R7$(1),e.Y8G("ngIf",i.recommended),e.R7$(1),e.Y8G("ngIf",c.state.selectedAnimation===i.value)}}function ch(u,l){if(1&u&&(e.j41(0,"div",69)(1,"h3",70),e.EFF(2,"Choose the motion style"),e.k0s(),e.j41(3,"p",71),e.EFF(4," Each style creates a different visual effect "),e.k0s(),e.j41(5,"div",72),e.DNE(6,ah,9,10,"div",73),e.k0s()()),2&u){const i=e.XpG(2);e.R7$(6),e.Y8G("ngForOf",i.animationOptions)}}function lh(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"Generate my video \u2192"),e.k0s())}function uh(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",45),e.EFF(2," Starting... "),e.k0s())}function As(u,l){if(1&u){const i=e.RV6();e.j41(0,"section",30)(1,"div",31)(2,"h2",32),e.EFF(3,"Where do you want to publish this video?"),e.k0s(),e.j41(4,"p",33),e.EFF(5," We optimize everything automatically based on your goal "),e.k0s(),e.j41(6,"div",58)(7,"div",59),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.selectObjective("organic"))}),e.j41(8,"div",60),e.nrm(9,"i",61),e.k0s(),e.j41(10,"h3",62),e.EFF(11,"Social Media"),e.k0s(),e.j41(12,"p",63),e.EFF(13,'"I want more views"'),e.k0s(),e.j41(14,"p",64),e.EFF(15," Instagram \xb7 TikTok \xb7 Facebook"),e.nrm(16,"br"),e.EFF(17," Video optimized for engagement and reach "),e.k0s(),e.DNE(18,ih,2,0,"div",65),e.k0s(),e.j41(19,"div",59),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.selectObjective("ads"))}),e.j41(20,"div",60),e.nrm(21,"i",66),e.k0s(),e.j41(22,"h3",62),e.EFF(23,"Ads"),e.k0s(),e.j41(24,"p",63),e.EFF(25,'"I want to sell this product"'),e.k0s(),e.j41(26,"p",64),e.EFF(27," Facebook Ads \xb7 Instagram Ads"),e.nrm(28,"br"),e.EFF(29," Video optimized for conversion and sales "),e.k0s(),e.DNE(30,Ed,2,0,"div",65),e.k0s()(),e.DNE(31,ch,7,1,"div",67),e.j41(32,"div",38)(33,"button",39),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.generateVideo())}),e.DNE(34,lh,2,0,"span",4),e.DNE(35,uh,3,0,"span",4),e.k0s()()()()}if(2&u){const i=e.XpG();e.R7$(7),e.AVh("selected","organic"===i.state.selectedObjective),e.R7$(11),e.Y8G("ngIf","organic"===i.state.selectedObjective),e.R7$(1),e.AVh("selected","ads"===i.state.selectedObjective),e.R7$(11),e.Y8G("ngIf","ads"===i.state.selectedObjective),e.R7$(1),e.Y8G("ngIf",i.state.selectedObjective),e.R7$(2),e.Y8G("disabled",!i.canContinueStep2),e.R7$(1),e.Y8G("ngIf",!i.state.loading),e.R7$(1),e.Y8G("ngIf",i.state.loading)}}function wd(u,l){if(1&u&&(e.j41(0,"section",82)(1,"div",31)(2,"div",83),e.nrm(3,"img",84),e.j41(4,"div",85)(5,"div",86),e.nrm(6,"div",87),e.j41(7,"div",88),e.EFF(8),e.k0s(),e.j41(9,"div",89),e.EFF(10),e.k0s()()()(),e.j41(11,"h2",32),e.EFF(12,"Creating your cinematic video..."),e.k0s(),e.j41(13,"p",90),e.nrm(14,"i",91),e.EFF(15),e.k0s(),e.j41(16,"p",92),e.nrm(17,"i",93),e.EFF(18," This usually takes 60-90 seconds."),e.nrm(19,"br"),e.j41(20,"strong"),e.EFF(21,"Don't close this window"),e.k0s(),e.EFF(22," \u2013 we'll notify you when it's ready! "),e.k0s(),e.j41(23,"div",94)(24,"div",95),e.nrm(25,"div",96),e.j41(26,"div",97),e.EFF(27),e.k0s()(),e.j41(28,"div",21)(29,"span",24),e.nrm(30,"i",98),e.EFF(31," Analyzing "),e.k0s(),e.j41(32,"span",24),e.nrm(33,"i",98),e.EFF(34," Applying motion "),e.k0s(),e.j41(35,"span",24),e.nrm(36,"i",98),e.EFF(37," Optimizing "),e.k0s(),e.j41(38,"span",24),e.nrm(39,"i",98),e.EFF(40," Finalizing "),e.k0s()()()()()),2&u){const i=e.XpG();e.R7$(3),e.Y8G("src",i.state.imagePreviewUrl,e.B4B),e.R7$(5),e.SpI("",i.state.generationProgress,"%"),e.R7$(2),e.JRh(i.state.currentMessage),e.R7$(5),e.SpI(" ",i.state.currentMessage," "),e.R7$(10),e.xc7("width",i.state.generationProgress,"%"),e.R7$(2),e.SpI("",i.state.generationProgress,"%"),e.R7$(2),e.AVh("active",i.state.generationProgress>=25),e.R7$(3),e.AVh("active",i.state.generationProgress>=50),e.R7$(3),e.AVh("active",i.state.generationProgress>=75),e.R7$(3),e.AVh("active",i.state.generationProgress>=95)}}function Md(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",114),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.playVideoManually())}),e.j41(1,"div",115),e.nrm(2,"i",116),e.k0s(),e.j41(3,"p",117),e.EFF(4,"Tap to play"),e.k0s()()}}function ar(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",118)(1,"div",119),e.nrm(2,"i",120),e.k0s(),e.j41(3,"p",121),e.EFF(4),e.k0s(),e.j41(5,"button",122),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.downloadVideo())}),e.nrm(6,"i",123),e.EFF(7," Download instead "),e.k0s()()}if(2&u){const i=e.XpG(3);e.R7$(4),e.JRh(i.videoPlaybackState.errorMessage)}}function Dd(u,l){if(1&u&&(e.j41(0,"div",109)(1,"video",110,111),e.EFF(3," Your browser doesn't support video playback. "),e.k0s(),e.DNE(4,Md,5,0,"div",112),e.DNE(5,ar,8,1,"div",113),e.k0s()),2&u){const i=e.XpG(2);e.R7$(1),e.Y8G("src",i.state.videoResult.videoUrl,e.B4B),e.R7$(3),e.Y8G("ngIf",i.videoPlaybackState.needsManualPlay&&!i.videoPlaybackState.isPlaying),e.R7$(1),e.Y8G("ngIf",i.videoPlaybackState.hasError)}}function sa(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",124)(1,"div",125),e.nrm(2,"i",126),e.j41(3,"h3",127),e.EFF(4,"How to Use This Video"),e.k0s()(),e.j41(5,"div",128)(6,"div",129)(7,"div",130),e.EFF(8,"Best Platform"),e.k0s(),e.j41(9,"div",131),e.nrm(10,"i",132),e.EFF(11),e.k0s()(),e.j41(12,"div",129)(13,"div",130),e.EFF(14,"Suggested Caption"),e.k0s(),e.j41(15,"div",133)(16,"div",134),e.EFF(17),e.k0s(),e.j41(18,"button",135),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.copyCaption(d.state.usageGuidance.suggestedCaption))}),e.nrm(19,"i",136),e.k0s()()(),e.j41(20,"div",129)(21,"div",130),e.EFF(22,"Call to Action (CTA)"),e.k0s(),e.j41(23,"div",137)(24,"span",138),e.EFF(25),e.k0s()()()(),e.j41(26,"div",139),e.nrm(27,"i",140),e.j41(28,"span"),e.EFF(29,"This guide is optimized for your goal: "),e.j41(30,"strong"),e.EFF(31),e.k0s()()()()}if(2&u){const i=e.XpG(2);e.R7$(11),e.SpI(" ",i.state.usageGuidance.bestPlatform," "),e.R7$(6),e.JRh(i.state.usageGuidance.suggestedCaption),e.R7$(8),e.JRh(i.state.usageGuidance.suggestedCTA),e.R7$(6),e.JRh(i.state.usageGuidance.goalLabel)}}function Pd(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"i",123),e.EFF(2," Download Video "),e.k0s())}function Ri(u,l){1&u&&(e.j41(0,"span"),e.nrm(1,"span",45),e.EFF(2," Downloading... "),e.k0s())}function Rs(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",151)(1,"label",152),e.EFF(2,"What was missing?"),e.k0s(),e.j41(3,"textarea",153),e.bIt("ngModelChange",function(d){e.eBV(i);const P=e.XpG(3);return e.Njj(P.state.feedbackComment=d)}),e.EFF(4,"              "),e.k0s(),e.j41(5,"button",154),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.submitFeedbackWithComment())}),e.EFF(6," Send feedback "),e.k0s()()}if(2&u){const i=e.XpG(3);e.Y8G("@fadeInUp",void 0),e.R7$(3),e.Y8G("ngModel",i.state.feedbackComment)}}function Jl(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",141)(1,"p",142),e.EFF(2,"Did this video meet your expectations?"),e.k0s(),e.j41(3,"div",143)(4,"button",144),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.handleFeedbackAnswer("yes"))}),e.nrm(5,"i",145),e.EFF(6," Yes "),e.k0s(),e.j41(7,"button",146),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.handleFeedbackAnswer("partial"))}),e.nrm(8,"i",147),e.EFF(9," Somewhat "),e.k0s(),e.j41(10,"button",148),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.handleFeedbackAnswer("no"))}),e.nrm(11,"i",149),e.EFF(12," No "),e.k0s()(),e.DNE(13,Rs,7,2,"div",150),e.k0s()}if(2&u){const i=e.XpG(2);e.R7$(4),e.AVh("selected","yes"===i.state.feedbackAnswer),e.R7$(3),e.AVh("selected","partial"===i.state.feedbackAnswer),e.R7$(3),e.AVh("selected","no"===i.state.feedbackAnswer),e.R7$(3),e.Y8G("ngIf",i.state.showCommentBox)}}function Va(u,l){1&u&&e.nrm(0,"i",164)}function aa(u,l){1&u&&e.nrm(0,"i",165)}function Sd(u,l){1&u&&e.nrm(0,"i",166)}function dh(u,l){1&u&&(e.j41(0,"p",167),e.EFF(1," We're glad to know the video met your expectations "),e.k0s())}function Od(u,l){1&u&&(e.j41(0,"p",167),e.EFF(1," Your feedback helps us improve the tool "),e.k0s())}function fh(u,l){1&u&&(e.j41(0,"p",167),e.EFF(1," Your feedback helps us create better tools "),e.k0s())}const mi=function(u,l,i,c){return{module:u,source:l,feature:"pro_upgrade",objective:i,animation:c}};function Xc(u,l){if(1&u){const i=e.RV6();e.j41(0,"app-pro-upgrade-block",168),e.bIt("onUpgradeClick",function(d){e.eBV(i);const P=e.XpG(3);return e.Njj(P.handleProUpgrade(d))}),e.k0s()}if(2&u){const i=e.XpG(3);e.Y8G("module",i.moduleKey)("features",i.proFeatures)("contextData",e.ziG(3,mi,i.moduleKey,i.isInternalAccess?"admin":"preview",i.state.selectedObjective,i.state.selectedAnimation))}}function Ns(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",169)(1,"h5",170),e.EFF(2,"What do you want to do now?"),e.k0s(),e.j41(3,"div",171)(4,"button",172),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.createAnotherVideo())}),e.j41(5,"div",60),e.nrm(6,"i",173),e.k0s(),e.j41(7,"div",174)(8,"h6"),e.EFF(9,"Create another video"),e.k0s(),e.j41(10,"p"),e.EFF(11,"Generate more content for your business"),e.k0s()()(),e.j41(12,"button",175),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.shareOnSocial())}),e.j41(13,"div",60),e.nrm(14,"i",176),e.k0s(),e.j41(15,"div",174)(16,"h6"),e.EFF(17,"Share now"),e.k0s(),e.j41(18,"p"),e.EFF(19,"Post on your social media"),e.k0s()()()()()}}function ph(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",169)(1,"h5",170),e.EFF(2,"How can we improve?"),e.k0s(),e.j41(3,"div",171)(4,"button",172),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.createAnotherVideo())}),e.j41(5,"div",60),e.nrm(6,"i",177),e.k0s(),e.j41(7,"div",174)(8,"h6"),e.EFF(9,"Try with another image"),e.k0s(),e.j41(10,"p"),e.EFF(11,"Try with a different product"),e.k0s()()(),e.j41(12,"button",175),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.openSupportChat())}),e.j41(13,"div",60),e.nrm(14,"i",178),e.k0s(),e.j41(15,"div",174)(16,"h6"),e.EFF(17,"Contact us"),e.k0s(),e.j41(18,"p"),e.EFF(19,"Tell us what we can improve"),e.k0s()()()()()}}function Zl(u,l){if(1&u&&(e.j41(0,"div",155)(1,"div",156)(2,"div",157),e.DNE(3,Va,1,0,"i",158),e.DNE(4,aa,1,0,"i",159),e.DNE(5,Sd,1,0,"i",160),e.k0s(),e.j41(6,"h4"),e.EFF(7),e.k0s(),e.DNE(8,dh,2,0,"p",161),e.DNE(9,Od,2,0,"p",161),e.DNE(10,fh,2,0,"p",161),e.k0s(),e.DNE(11,Xc,1,8,"app-pro-upgrade-block",162),e.DNE(12,Ns,20,0,"div",163),e.DNE(13,ph,20,0,"div",163),e.k0s()),2&u){const i=e.XpG(2);e.Y8G("@fadeInUp",void 0),e.R7$(1),e.AVh("positive","yes"===i.state.feedbackAnswer)("partial","partial"===i.state.feedbackAnswer)("negative","no"===i.state.feedbackAnswer),e.R7$(2),e.Y8G("ngIf","yes"===i.state.feedbackAnswer),e.R7$(1),e.Y8G("ngIf","partial"===i.state.feedbackAnswer),e.R7$(1),e.Y8G("ngIf","no"===i.state.feedbackAnswer),e.R7$(2),e.JRh(i.state.feedbackMessage),e.R7$(1),e.Y8G("ngIf","yes"===i.state.feedbackAnswer),e.R7$(1),e.Y8G("ngIf","partial"===i.state.feedbackAnswer),e.R7$(1),e.Y8G("ngIf","no"===i.state.feedbackAnswer),e.R7$(1),e.Y8G("ngIf",i.proFeatures.length>0),e.R7$(1),e.Y8G("ngIf","yes"===i.state.feedbackAnswer),e.R7$(1),e.Y8G("ngIf","partial"===i.state.feedbackAnswer||"no"===i.state.feedbackAnswer)}}function Id(u,l){if(1&u){const i=e.RV6();e.j41(0,"section",99)(1,"div",31)(2,"div",100),e.nrm(3,"i",101),e.k0s(),e.j41(4,"h2",32),e.EFF(5,"Ready to publish!"),e.k0s(),e.j41(6,"p",33),e.EFF(7," Your video is optimized and ready to upload directly to your networks "),e.k0s(),e.DNE(8,Dd,6,3,"div",102),e.j41(9,"div",103)(10,"div",104),e.nrm(11,"i",98),e.j41(12,"span"),e.EFF(13,"1080x1920 format (perfect for stories)"),e.k0s()(),e.j41(14,"div",104),e.nrm(15,"i",98),e.j41(16,"span"),e.EFF(17,"Mobile optimized"),e.k0s()(),e.j41(18,"div",104),e.nrm(19,"i",98),e.j41(20,"span"),e.EFF(21,"No watermark"),e.k0s()()(),e.DNE(22,sa,32,4,"div",105),e.j41(23,"div",38)(24,"button",39),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.downloadVideo())}),e.DNE(25,Pd,3,0,"span",4),e.DNE(26,Ri,3,0,"span",4),e.k0s(),e.j41(27,"button",106),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.createAnotherVideo())}),e.EFF(28," Create another video \u2192 "),e.k0s()(),e.DNE(29,Jl,14,7,"div",107),e.DNE(30,Zl,14,17,"div",108),e.k0s()()}if(2&u){const i=e.XpG();e.R7$(8),e.Y8G("ngIf",i.state.videoResult),e.R7$(14),e.Y8G("ngIf",i.state.usageGuidance),e.R7$(2),e.AVh("loading",i.isDownloading),e.Y8G("disabled",i.isDownloading),e.R7$(1),e.Y8G("ngIf",!i.isDownloading),e.R7$(1),e.Y8G("ngIf",i.isDownloading),e.R7$(3),e.Y8G("ngIf",!i.state.feedbackSubmitted),e.R7$(1),e.Y8G("ngIf",i.state.feedbackSubmitted)}}function xd(u,l){1&u&&(e.j41(0,"footer",179)(1,"div",180)(2,"div",181)(3,"div",182),e.nrm(4,"i",166),e.j41(5,"span"),e.EFF(6,"No registration"),e.k0s()(),e.j41(7,"div",182),e.nrm(8,"i",183),e.j41(9,"span"),e.EFF(10,"No credit card"),e.k0s()(),e.j41(11,"div",182),e.nrm(12,"i",184),e.j41(13,"span"),e.EFF(14,"Just try"),e.k0s()()(),e.j41(15,"div",185)(16,"p",186),e.nrm(17,"i",187),e.j41(18,"span"),e.EFF(19,"Start creating your video in "),e.j41(20,"strong"),e.EFF(21,"30 seconds"),e.k0s()()()()()())}function kd(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",188)(1,"div",189),e.nrm(2,"i",190),e.j41(3,"span",191),e.EFF(4),e.k0s()(),e.j41(5,"button",192),e.bIt("click",function(){const P=e.eBV(i).$implicit,A=e.XpG();return e.Njj(A.closeNotification(P.id))}),e.nrm(6,"i",193),e.k0s()()}if(2&u){const i=l.$implicit;e.AVh("notification-success","success"===i.type)("notification-error","error"===i.type)("notification-info","info"===i.type),e.Y8G("@fadeInUp",void 0),e.R7$(2),e.AVh("bi-check-circle-fill","success"===i.type)("bi-exclamation-triangle-fill","error"===i.type)("bi-info-circle-fill","info"===i.type),e.R7$(2),e.JRh(i.message)}}let Td=(()=>{class u{constructor(i,c,d,P,A){this.videoExpressService=i,this.trackingService=c,this.previewService=d,this.router=P,this.route=A,this.moduleKey="productclip",this.moduleName="",this.moduleTagline="",this.moduleConfigLoaded=!1,this.destroy$=new Ai.B,this.videoLoadAttempted=!1,this.videoRetryCount=0,this.MAX_VIDEO_RETRIES=3,this.videoPlaybackState={canPlay:!1,isPlaying:!1,hasError:!1,errorMessage:null,needsManualPlay:!1,isMobile:!1},this.isInternalAccess=!1,this.loadingMessages=["Analyzing product depth layers...","Applying 3D parallax motion...","Optimizing frame composition...","Rendering cinematic transitions...","Encoding for Instagram/TikTok...","Finalizing your video..."],this.currentMessageIndex=0,this.isDownloading=!1,this.notifications=[],this.notificationIdCounter=0,this.showProModal=!1,this.proFeatures=[{icon:"bi bi-collection-play-fill",label:"Batch video generation",description:"Upload 50+ images at once"},{icon:"bi bi-badge-hd-fill",label:"4K export quality",description:"Professional-grade output"},{icon:"bi bi-palette-fill",label:"Custom branding",description:"Add logos, colors, and fonts"}],this.isDragOver=!1,this.animationOptions=[{value:"parallax",label:"Parallax 3D",icon:"bi bi-badge-3d",description:"Cinematic depth effect",recommended:!0},{value:"zoom_in",label:"Zoom In",icon:"bi bi-zoom-in",description:"Smooth professional zoom"},{value:"subtle_float",label:"Subtle Float",icon:"bi bi-arrows-move",description:"Delicate elegant levitation"}],this.state={currentStep:1,uploadedImage:null,imagePreviewUrl:null,imageId:null,selectedObjective:null,selectedAnimation:"parallax",jobId:null,generationProgress:5,currentMessage:this.loadingMessages[0],videoResult:null,usageGuidance:null,videoCompletedAt:null,downloadedAt:null,feedbackAnswer:null,feedbackSubmitted:!1,showCommentBox:!1,feedbackComment:"",feedbackMessage:null,usageGuidanceViewed:!1,isBlocked:!1,error:null,loading:!1}}ngOnInit(){var i=this;return(0,Vn.A)(function*(){if(i.videoPlaybackState.isMobile=i.isMobileDevice(),console.log("\u{1f4f1} Device detection:",{isMobile:i.videoPlaybackState.isMobile}),!(yield i.validateModuleStatus()))return i.state.isBlocked=!0,i.state.error="\u{1f680} Coming soon! This module is in private testing.",void(i.state.loading=!1);yield i.loadModuleName(),i.trackingService.pageView("module_preview_started",{module:i.moduleKey,moduleName:i.moduleName,source:i.isInternalAccess?"admin":"preview",wizardType:"custom"}),i.trackEvent("wizard_started",{module:i.moduleKey}),i.setupAbandonmentTracking()})()}ngAfterViewChecked(){this.videoPlayer&&!this.videoLoadAttempted&&4===this.state.currentStep&&(this.videoLoadAttempted=!0,this.setupVideoPlayer())}ngOnDestroy(){this.trackAbandonmentIfIncomplete(),this.destroy$.next(),this.destroy$.complete(),this.messageInterval&&clearInterval(this.messageInterval),this.state.imagePreviewUrl&&this.videoExpressService.revokeImagePreview(this.state.imagePreviewUrl),this.videoExpressService.stopPolling()}loadModuleName(){var i=this;return(0,Vn.A)(function*(){try{const c=yield i.previewService.getPreviewConfig(i.moduleKey).toPromise();c&&c.success&&c.config?(c.config.moduleName?(i.moduleName=c.config.moduleName,console.log(`\u2705 Module name loaded from backend: "${i.moduleName}"`)):i.moduleName="Video Express",c.config.tagline?(i.moduleTagline=c.config.tagline,console.log(`\u2705 Module tagline loaded from backend: "${i.moduleTagline}"`)):i.moduleTagline="Turn your product into a video in minutes"):(console.log("\u26a0\ufe0f No module config in backend, using fallbacks"),i.moduleName="Video Express",i.moduleTagline="Turn your product into a video in minutes")}catch(c){console.warn("\u26a0\ufe0f Error loading module config, using fallbacks",c),i.moduleName="Video Express",i.moduleTagline="Turn your product into a video in minutes"}finally{i.moduleConfigLoaded=!0}})()}validateModuleStatus(){var i=this;return(0,Vn.A)(function*(){try{let c;i.isInternalAccess="true"===i.route.snapshot.queryParams.internal;try{const d=yield i.previewService.getPreviewConfig(i.moduleKey).toPromise();if(!(d&&d.success&&d.config))throw new Error("Config not found in backend");c=d.config.status,console.log("\u2705 Loaded module config from backend:",{moduleKey:i.moduleKey,status:c})}catch{console.warn(`\u26a0\ufe0f No backend config for '${i.moduleKey}', using hardcoded status`),c="live",console.log("\u2705 Using hardcoded status:",{moduleKey:i.moduleKey,status:c})}return console.log("\u{1f512} Video Express - Status validation:",{module:i.moduleKey,status:c,isInternalAccess:i.isInternalAccess}),"testing"!==c||i.isInternalAccess?(console.log(`\u2705 Access granted to module '${i.moduleKey}'`),!0):(console.warn(`\u26a0\ufe0f Module '${i.moduleKey}' is in testing - public access blocked`),!1)}catch(c){return console.error("\u274c Error validating module status:",c),console.warn("\u26a0\ufe0f Bypassing validation due to error (custom module)"),!0}})()}onFileChange(i){const d=i.target.files;d&&d.length>0&&this.onImageSelected(d[0])}onDrop(i){i.preventDefault(),i.stopPropagation(),this.isDragOver=!1;const c=i.dataTransfer?.files;c&&c.length>0&&this.onImageSelected(c[0])}onDragOver(i){i.preventDefault(),i.stopPropagation(),this.isDragOver=!0}onDragLeave(i){i.preventDefault(),i.stopPropagation(),this.isDragOver=!1}onImageSelected(i){this.state.error=null,this.state.loading=!0;const c=this.videoExpressService.validateImageFile(i);if(!0!==c)return this.state.error=c,void(this.state.loading=!1);this.state.imagePreviewUrl&&this.videoExpressService.revokeImagePreview(this.state.imagePreviewUrl),this.state.uploadedImage=i,setTimeout(()=>{this.state.imagePreviewUrl=this.videoExpressService.createImagePreview(i),this.state.loading=!1,console.log("\u2705 Imagen procesada:",i.name)},600)}uploadImage(){this.state.uploadedImage?(this.state.loading=!0,this.state.error=null,this.videoExpressService.uploadImage(this.state.uploadedImage).pipe((0,Os.Q)(this.destroy$)).subscribe({next:i=>{console.log("\u2705 Imagen subida:",i),this.state.imageId=i.imageId,this.state.loading=!1,this.trackEvent("image_uploaded",{fileSize:this.state.uploadedImage.size,fileType:this.state.uploadedImage.type}),this.goToStep(2)},error:i=>{console.error("\u274c Error subiendo imagen:",i),this.state.error=i.message||"We could not process your image. Try again.",this.state.loading=!1}})):this.state.error="Please select an image"}changeImage(){this.state.imagePreviewUrl&&this.videoExpressService.revokeImagePreview(this.state.imagePreviewUrl),this.state.uploadedImage=null,this.state.imagePreviewUrl=null,this.state.error=null,this.state.loading=!1}selectObjective(i){this.state.selectedObjective=i,this.state.error=null}selectAnimation(i){this.state.selectedAnimation=i,this.state.error=null}generateVideo(){this.state.imageId&&this.state.selectedObjective?this.state.selectedAnimation?(this.state.loading=!0,this.state.error=null,this.videoExpressService.generateVideo(this.state.imageId,this.state.selectedObjective,this.state.selectedAnimation).pipe((0,Os.Q)(this.destroy$)).subscribe({next:i=>{console.log("\u2705 Generaci\xf3n iniciada:",i),this.state.jobId=i.jobId,this.state.loading=!1,this.trackEvent("objective_selected",{objective:this.state.selectedObjective,animation:this.state.selectedAnimation}),this.goToStep(3),this.startGenerationPolling()},error:i=>{console.error("\u274c Error iniciando generaci\xf3n:",i),this.state.error=i.message||"No pudimos iniciar la generaci\xf3n. Intenta de nuevo.",this.state.loading=!1}})):this.state.error="Select an animation style":this.state.error="Select a goal"}startGenerationPolling(){if(!this.state.jobId)return;const i=Date.now();this.requestNotificationPermission(),this.startRotatingMessages(),this.videoExpressService.pollVideoStatus(this.state.jobId,2e3).pipe((0,Os.Q)(this.destroy$)).subscribe({next:c=>{if(null!=c.progress?(this.state.generationProgress=c.progress,(c.progress%10==0||100===c.progress)&&console.log(`\u{1f4c8} Video generation: ${c.progress}%`)):this.state.generationProgress<85&&(this.state.generationProgress+=2),"completed"===c.status){const d=Math.round((Date.now()-i)/1e3);if(console.log("=".repeat(60)),console.log("\u{1f3ac} DEBUG: Video completado - Response del backend:"),console.log("   videoUrl:",c.videoUrl),console.log("   downloadUrl:",c.downloadUrl),console.log("   isSimulated:",c.isSimulated),console.log("   limitReached:",c.limitReached),console.log("   duration:",c.duration),console.log("=".repeat(60)),!c.videoUrl)return console.error("\u274c ERROR: Backend no devolvi\xf3 videoUrl"),void(this.state.error="Error: No video URL received");if(!c.videoUrl.startsWith("http://")&&!c.videoUrl.startsWith("https://"))return console.error("\u274c ERROR: videoUrl no es una URL absoluta:",c.videoUrl),void(this.state.error="Error: Invalid video URL format");this.state.videoResult={videoUrl:c.videoUrl,thumbnailUrl:c.thumbnailUrl,duration:c.duration,fileSize:c.fileSize,downloadUrl:c.downloadUrl},console.log("\u2705 State actualizado, videoResult.videoUrl:",this.state.videoResult.videoUrl),this.state.usageGuidance=this.getVideoUsageGuidance(this.state.selectedObjective),this.state.videoCompletedAt=new Date,this.trackEvent("video_generated",{jobId:this.state.jobId,objective:this.state.selectedObjective,generationTime:d}),this.trackEvent("wizard_completed",{step:4,completed:!0,module:this.moduleKey,objective:this.state.selectedObjective,animation:this.state.selectedAnimation,jobId:this.state.jobId}),this.videoExpressService.stopPolling(),this.stopRotatingMessages(),this.showBrowserNotification("Your video is ready!","Click here to view your cinematic product video"),setTimeout(()=>{this.goToStep(4)},500)}"failed"===c.status&&(this.state.error=c.error||"We could not generate your video",this.stopRotatingMessages(),this.videoExpressService.stopPolling())},error:c=>{console.error("\u274c Error en polling:",c),this.state.error="We lost the connection. Try again.",this.stopRotatingMessages()}})}startRotatingMessages(){this.currentMessageIndex=0,this.state.currentMessage=this.loadingMessages[0],this.messageInterval=setInterval(()=>{this.currentMessageIndex=(this.currentMessageIndex+1)%this.loadingMessages.length,this.state.currentMessage=this.loadingMessages[this.currentMessageIndex]},3e3)}stopRotatingMessages(){this.messageInterval&&(clearInterval(this.messageInterval),this.messageInterval=null)}getVideoUsageGuidance(i){return{organic:{goalLabel:"Engagement",bestPlatform:"Instagram Reels",suggestedCaption:"This is what happens when your customers love your product \u{1f447}",suggestedCTA:"Save it and share it"},ads:{goalLabel:"Ventas",bestPlatform:"Instagram Ads",suggestedCaption:"El producto que necesitas, al precio que mereces \u{1f499}",suggestedCTA:"Conseguir el m\xedo"}}[i]}downloadVideo(){if(!this.state.jobId||this.isDownloading)return;this.isDownloading=!0,this.trackEvent("video_downloaded",{video_id:this.state.jobId,objective:this.state.selectedObjective,caption_version:"v1"});const i=`product-video-${Date.now()}.mp4`;this.videoExpressService.downloadVideo(this.state.jobId).pipe((0,Os.Q)(this.destroy$)).subscribe({next:c=>{const d=window.URL.createObjectURL(c),P=document.createElement("a");P.href=d,P.download=i,P.click(),window.URL.revokeObjectURL(d),this.state.downloadedAt=new Date,this.isDownloading=!1},error:c=>{console.error("Error descargando video:",c),this.state.error="Error al descargar el video. Intenta nuevamente.",this.isDownloading=!1}})}createAnotherVideo(){this.trackingService.track("create_another_video",{module:this.moduleKey,fromJobId:this.state.jobId,hadFeedback:this.state.feedbackSubmitted,feedbackAnswer:this.state.feedbackAnswer}),this.state.imagePreviewUrl&&this.videoExpressService.revokeImagePreview(this.state.imagePreviewUrl),this.videoExpressService.reset(),this.videoLoadAttempted=!1,this.videoRetryCount=0,this.videoPlaybackState={canPlay:!1,isPlaying:!1,hasError:!1,errorMessage:null,needsManualPlay:!1,isMobile:this.videoPlaybackState.isMobile},this.state={currentStep:1,uploadedImage:null,imagePreviewUrl:null,imageId:null,selectedObjective:null,selectedAnimation:"parallax",jobId:null,generationProgress:0,currentMessage:this.loadingMessages[0],videoResult:null,usageGuidance:null,videoCompletedAt:null,downloadedAt:null,feedbackAnswer:null,feedbackSubmitted:!1,showCommentBox:!1,feedbackComment:"",feedbackMessage:null,usageGuidanceViewed:!1,isBlocked:!1,error:null,loading:!1},this.currentMessageIndex=0}handleFeedbackAnswer(i){this.state.feedbackAnswer=i,this.state.showCommentBox="no"===i||"partial"===i,"yes"===i&&this.submitFeedback()}submitFeedback(i){if(!this.state.feedbackAnswer||!this.state.jobId)return;const c={answer:this.state.feedbackAnswer,module:this.moduleKey,source:this.isInternalAccess?"admin":"preview",video_id:this.state.jobId,objective:this.state.selectedObjective,caption_version:"v1"};i&&(c.comment=i),this.trackingService.track("wizard_feedback_answered",c),this.state.feedbackSubmitted=!0,this.state.feedbackMessage="yes"===this.state.feedbackAnswer?"Thank you for your feedback!":"partial"===this.state.feedbackAnswer?"Thanks. We'll keep improving the system":"Thank you for your feedback. We'll use it to improve",console.log("\u2705 Feedback submitted:",c)}submitFeedbackWithComment(){if(!this.state.feedbackComment.trim()&&"yes"!==this.state.feedbackAnswer)return void this.submitFeedback();const i=this.state.feedbackComment.trim();this.submitFeedback(i),i&&this.trackingService.track("wizard_feedback_comment_submitted",{comment:i,answer:this.state.feedbackAnswer,video_id:this.state.jobId,objective:this.state.selectedObjective,caption_version:"v1",module:this.moduleKey,source:this.isInternalAccess?"admin":"preview"})}setupAbandonmentTracking(){window.addEventListener("beforeunload",()=>{this.trackAbandonmentIfIncomplete()})}trackAbandonmentIfIncomplete(){4===this.state.currentStep&&(this.state.feedbackSubmitted||null!==this.state.downloadedAt)||this.trackEvent("wizard_abandoned",{step:this.state.currentStep,step_name:this.getStepName(this.state.currentStep),had_uploaded_image:!!this.state.imageId,had_selected_objective:!!this.state.selectedObjective,had_selected_animation:!!this.state.selectedAnimation,video_generation_progress:this.state.generationProgress,video_was_generated:!!this.state.videoResult,module:this.moduleKey,source:this.isInternalAccess?"admin":"preview"})}getStepName(i){return{1:"upload_image",2:"select_objective",3:"video_generation",4:"video_preview"}[i]||"unknown"}goToStep(i){this.state.currentStep=i,4===i&&!this.state.usageGuidanceViewed&&this.state.usageGuidance&&(this.trackingService.track("usage_guidance_viewed",{video_id:this.state.jobId,objective:this.state.selectedObjective,caption_version:"v1",module:this.moduleKey,source:this.isInternalAccess?"admin":"preview"}),this.state.usageGuidanceViewed=!0),window.scrollTo({top:0,behavior:"smooth"})}goBack(){this.state.currentStep>1&&this.goToStep(this.state.currentStep-1)}trackEvent(i,c={}){this.trackingService.track(i,{...c,module:this.moduleKey,moduleName:this.moduleName,timestamp:Date.now()})}get canContinueStep1(){return!!this.state.uploadedImage&&!this.state.loading}get canContinueStep2(){return!!this.state.selectedObjective&&!!this.state.selectedAnimation&&!this.state.loading}shareOnSocial(){this.trackingService.track("share_video_clicked",{module:this.moduleKey,jobId:this.state.jobId,fromFeedback:!0,feedbackAnswer:this.state.feedbackAnswer}),navigator.share&&this.state.videoResult?navigator.share({title:"\xa1Mira mi nuevo video de producto!",text:"Cre\xe9 este video profesional en segundos con Video Express",url:window.location.href}).catch(i=>console.log("Error sharing:",i)):this.showNotification("\u{1f680} Share your video on Instagram, Facebook or TikTok to maximize its impact!","info",4e3)}copyCaption(i){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(i).then(()=>{this.trackingService.track("caption_copied",{video_id:this.state.jobId,objective:this.state.selectedObjective,caption_version:"v1",caption:i,module:this.moduleKey,source:this.isInternalAccess?"admin":"preview"}),this.showNotification("\u2705 Caption copied! Now paste it in your post.","success",3e3)}).catch(c=>{console.error("Error copiando al portapapeles:",c),this.showNotification("\u26a0\ufe0f Could not copy the text. Try manually.","error",4e3)}):this.showNotification("Copy this text:\n\n"+i,"info",6e3)}openSupportChat(){this.trackingService.track("support_chat_opened",{module:this.moduleKey,jobId:this.state.jobId,fromNegativeFeedback:!0}),this.showNotification("We will enable direct chat soon. For now, email us at support@yourdomain.com \u{1f4aa}","info",6e3)}showNotification(i,c="info",d=3e3){const P={id:++this.notificationIdCounter,message:i,type:c,duration:d};this.notifications.push(P),d>0&&setTimeout(()=>{this.closeNotification(P.id)},d)}closeNotification(i){this.notifications=this.notifications.filter(c=>c.id!==i)}requestNotificationPermission(){"Notification"in window?"default"===Notification.permission&&Notification.requestPermission().then(i=>{console.log("\u{1f514} Permisos de notificaci\xf3n:",i),this.trackingService.track("notification_permission_response",{permission:i,module:this.moduleKey,context:"video_generation"})}):console.log("\u274c Browser no soporta notificaciones")}showBrowserNotification(i,c){if("Notification"in window)if("granted"===Notification.permission){const d=new Notification(i,{body:c,icon:"/assets/icons/video-express-icon.png",badge:"/assets/icons/badge.png",tag:"video-ready",requireInteraction:!1,silent:!1});d.onclick=()=>{window.focus(),d.close(),this.trackingService.track("browser_notification_clicked",{module:this.moduleKey,jobId:this.state.jobId})},setTimeout(()=>d.close(),5e3),console.log("\u{1f514} Notificaci\xf3n del browser mostrada")}else"default"===Notification.permission&&this.requestNotificationPermission()}isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}setupVideoPlayer(){if(!this.videoPlayer)return;const i=this.videoPlayer.nativeElement,c=i.src.startsWith("http")&&!i.src.includes(window.location.hostname);console.log("=".repeat(60)),console.log("\u{1f3ac} DEBUG: Setting up video player"),console.log("   video.src:",i.src),console.log("   video.currentSrc:",i.currentSrc),console.log("   isExternalCDN:",c),console.log("   isMobile:",this.videoPlaybackState.isMobile),console.log("   readyState:",i.readyState,"(0=HAVE_NOTHING, 1=HAVE_METADATA, 2=HAVE_CURRENT_DATA, 3=HAVE_FUTURE_DATA, 4=HAVE_ENOUGH_DATA)"),console.log("   networkState:",i.networkState,"(0=NETWORK_EMPTY, 1=NETWORK_IDLE, 2=NETWORK_LOADING, 3=NETWORK_NO_SOURCE)"),console.log("   error:",i.error),console.log("=".repeat(60)),i.addEventListener("loadedmetadata",()=>{console.log("\u{1f4ca} Video metadata loaded:",{duration:i.duration,videoWidth:i.videoWidth,videoHeight:i.videoHeight,src:i.src})}),i.addEventListener("canplay",()=>{console.log("\u2705 Video can play"),this.videoPlaybackState.canPlay=!0,this.attemptAutoplay()}),i.addEventListener("play",()=>{console.log("\u25b6\ufe0f Video playing"),this.videoPlaybackState.isPlaying=!0,this.videoPlaybackState.needsManualPlay=!1}),i.addEventListener("pause",()=>{console.log("\u23f8\ufe0f Video paused"),this.videoPlaybackState.isPlaying=!1}),i.addEventListener("error",d=>{console.error("\u274c Video error:",{error:i.error,code:i.error?.code,message:i.error?.message,networkState:i.networkState,readyState:i.readyState}),this.videoPlaybackState.hasError=!0,this.videoPlaybackState.errorMessage=this.getVideoErrorMessage(i.error?.code||0),this.videoPlaybackState.needsManualPlay=!0,this.trackEvent("video_playback_error",{errorCode:i.error?.code,errorMessage:i.error?.message,isMobile:this.videoPlaybackState.isMobile,videoUrl:i.src})}),i.addEventListener("stalled",()=>{console.warn("\u26a0\ufe0f Video stalled (buffering issues)"),this.videoRetryCount<this.MAX_VIDEO_RETRIES&&setTimeout(()=>{console.log(`\u{1f504} Retrying video load (attempt ${this.videoRetryCount+1})`),i.load(),this.videoRetryCount++},2e3)}),i.readyState>=2&&(console.log("\u{1f4ca} Video already has data, attempting immediate playback"),this.attemptAutoplay())}attemptAutoplay(){if(!this.videoPlayer)return;const i=this.videoPlayer.nativeElement;console.log("\u{1f3ac} Attempting autoplay...",{muted:i.muted,playsInline:i.playsInline,isMobile:this.videoPlaybackState.isMobile});const c=i.play();void 0!==c&&c.then(()=>{console.log("\u2705 Autoplay succeeded"),this.videoPlaybackState.isPlaying=!0,this.videoPlaybackState.needsManualPlay=!1,this.trackEvent("video_autoplay_success",{isMobile:this.videoPlaybackState.isMobile})}).catch(d=>{console.warn("\u26a0\ufe0f Autoplay failed:",d.message),this.videoPlaybackState.needsManualPlay=!0,this.trackEvent("video_autoplay_failed",{error:d.message,isMobile:this.videoPlaybackState.isMobile}),this.videoPlaybackState.isMobile&&this.showNotification("Tap the video to play","info")})}playVideoManually(){if(!this.videoPlayer)return;const i=this.videoPlayer.nativeElement;console.log("\u{1f446} Manual play triggered"),i.play().then(()=>{console.log("\u2705 Manual play succeeded"),this.videoPlaybackState.isPlaying=!0,this.videoPlaybackState.needsManualPlay=!1,this.trackEvent("video_manual_play",{isMobile:this.videoPlaybackState.isMobile})}).catch(c=>{console.error("\u274c Manual play failed:",c),this.showNotification("Unable to play video. Try downloading it.","error")})}getVideoErrorMessage(i){return{1:"Video loading aborted",2:"Network error while loading video",3:"Video decoding error",4:"Video format not supported"}[i]||"Unknown video error"}handleProUpgrade(i){this.trackingService.trackMonetizationIntent({...i,video_id:this.state.jobId,objective:this.state.selectedObjective,animation:this.state.selectedAnimation}),this.showProModal=!0,console.log("\u{1f4b0} Pro upgrade clicked:",i)}handleProEmailSubmit(i){this.trackingService.trackProEmailSubmitted(i),console.log("\u{1f4e7} Pro email submitted:",i)}handleProModalClose(){this.showProModal&&(this.trackingService.trackProModalDismissed({module:this.moduleKey,reason:"close_button"}),this.showProModal=!1)}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(Xr),e.rXU(Wi.b),e.rXU(Ii),e.rXU(st.Ix),e.rXU(st.nX))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-video-express-wizard"]],viewQuery:function(c,d){if(1&c&&e.GBs(bd,5),2&c){let P;e.mGM(P=e.lsd())&&(d.videoPlayer=P.first)}},decls:17,vars:12,consts:[[1,"video-express-wizard"],[1,"wizard-header"],[1,"container"],["class","header-skeleton",4,"ngIf"],[4,"ngIf"],[1,"wizard-container"],["class","progress-indicator",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","wizard-step",4,"ngIf"],["class","wizard-step step-generating",4,"ngIf"],["class","wizard-step step-ready",4,"ngIf"],["class","wizard-footer-enhanced",4,"ngIf"],[3,"module","isVisible","onClose","onEmailSubmit"],[1,"notification-container"],["class","notification",3,"notification-success","notification-error","notification-info",4,"ngFor","ngForOf"],[1,"header-skeleton"],[1,"skeleton","skeleton-title"],[1,"skeleton","skeleton-subtitle"],[1,"wizard-title"],[1,"wizard-subtitle"],[1,"progress-indicator"],[1,"progress-steps"],[1,"progress-step"],[1,"step-circle"],[1,"step-label"],[1,"progress-line"],[1,"alert","alert-error"],[1,"icon-alert"],["class","close-btn",3,"click",4,"ngIf"],[1,"close-btn",3,"click"],[1,"wizard-step"],[1,"step-content"],[1,"step-title"],[1,"step-description"],[1,"upload-area"],["class","image-loading",4,"ngIf"],["class","image-preview",4,"ngIf"],["class","upload-zone",3,"drag-over","drop","dragover","dragleave",4,"ngIf"],[1,"step-actions"],[1,"btn","btn-primary","btn-large",3,"disabled","click"],[1,"image-loading"],[1,"loading-skeleton"],[1,"skeleton-image"],[1,"skeleton-text"],[1,"loading-message"],[1,"spinner"],[1,"image-preview"],["alt","Preview",3,"src"],[1,"preview-filename"],[1,"btn-change-image",3,"click"],[1,"upload-zone",3,"drop","dragover","dragleave"],["type","file","accept","image/jpeg,image/png,image/jpg",2,"display","none",3,"change"],["fileInput",""],[1,"upload-placeholder",3,"click"],[1,"upload-icon"],[1,"bi","bi-cloud-upload"],[1,"upload-text"],[1,"upload-hint"],[1,"objective-cards"],[1,"objective-card",3,"click"],[1,"card-icon"],[1,"bi","bi-phone"],[1,"card-title"],[1,"card-intent"],[1,"card-description"],["class","card-check",4,"ngIf"],[1,"bi","bi-bullseye"],["class","animation-selector",4,"ngIf"],[1,"card-check"],[1,"animation-selector"],[1,"selector-title"],[1,"selector-description"],[1,"animation-cards"],["class","animation-card",3,"selected","recommended","click",4,"ngFor","ngForOf"],[1,"animation-card",3,"click"],[1,"anim-icon"],[1,"anim-label"],[1,"anim-description"],["class","anim-badge",4,"ngIf"],["class","anim-check",4,"ngIf"],[1,"anim-badge"],[1,"anim-check"],[1,"wizard-step","step-generating"],[1,"generating-preview"],["alt","Your product",1,"generating-image",3,"src"],[1,"generating-overlay"],[1,"overlay-content"],[1,"spinner-large"],[1,"progress-label"],[1,"progress-status"],[1,"generating-message"],[1,"bi","bi-magic"],[1,"generating-hint"],[1,"bi","bi-clock-history"],[1,"progress-bar-container"],[1,"progress-bar-wrapper"],[1,"progress-bar-fill"],[1,"progress-percentage"],[1,"bi","bi-check-circle-fill"],[1,"wizard-step","step-ready"],[1,"success-icon"],[1,"bi","bi-check-circle"],["class","video-player-container",4,"ngIf"],[1,"video-info"],[1,"info-item"],["class","video-usage-guidance",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["class","feedback-section",4,"ngIf"],["class","feedback-success",4,"ngIf"],[1,"video-player-container"],["controls","","autoplay","","muted","","loop","","playsinline","","webkit-playsinline","","preload","auto","poster","data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1080' height='1920'%3E%3Crect fill='%23000000' width='1080' height='1920'/%3E%3Ctext fill='%23ffffff' font-family='Arial' font-size='48' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ELoading video...%3C/text%3E%3C/svg%3E",1,"video-player",3,"src"],["videoPlayer",""],["class","video-play-overlay",3,"click",4,"ngIf"],["class","video-error-overlay",4,"ngIf"],[1,"video-play-overlay",3,"click"],[1,"play-button"],[1,"bi","bi-play-circle-fill"],[1,"play-hint"],[1,"video-error-overlay"],[1,"error-icon"],[1,"bi","bi-exclamation-triangle"],[1,"error-message"],[1,"btn","btn-secondary","btn-small",3,"click"],[1,"bi","bi-download"],[1,"video-usage-guidance"],[1,"usage-header"],[1,"bi","bi-lightbulb"],[1,"usage-title"],[1,"usage-content"],[1,"usage-section"],[1,"usage-label"],[1,"usage-value","platform"],[1,"bi","bi-instagram"],[1,"usage-value","caption"],[1,"caption-text"],["title","Copy",1,"btn-copy",3,"click"],[1,"bi","bi-clipboard"],[1,"usage-value","cta"],[1,"cta-badge"],[1,"usage-footer"],[1,"bi","bi-info-circle"],[1,"feedback-section"],[1,"feedback-question"],[1,"feedback-buttons"],[1,"btn-feedback","btn-yes",3,"click"],[1,"bi","bi-hand-thumbs-up-fill"],[1,"btn-feedback","btn-partial",3,"click"],[1,"bi","bi-emoji-neutral"],[1,"btn-feedback","btn-no",3,"click"],[1,"bi","bi-hand-thumbs-down-fill"],["class","feedback-comment-box",4,"ngIf"],[1,"feedback-comment-box"],["for","feedbackComment",1,"comment-label"],["id","feedbackComment","placeholder","Tell us what you expected to find...","rows","3",1,"comment-textarea",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-small",3,"click"],[1,"feedback-success"],[1,"feedback-message"],[1,"message-icon"],["class","bi bi-rocket-takeoff",4,"ngIf"],["class","bi bi-emoji-smile",4,"ngIf"],["class","bi bi-shield-check",4,"ngIf"],["class","message-subtitle",4,"ngIf"],[3,"module","features","contextData","onUpgradeClick",4,"ngIf"],["class","next-actions",4,"ngIf"],[1,"bi","bi-rocket-takeoff"],[1,"bi","bi-emoji-smile"],[1,"bi","bi-shield-check"],[1,"message-subtitle"],[3,"module","features","contextData","onUpgradeClick"],[1,"next-actions"],[1,"next-actions-title"],[1,"action-cards"],[1,"action-card","primary",3,"click"],[1,"bi","bi-camera-video"],[1,"card-content"],[1,"action-card","secondary",3,"click"],[1,"bi","bi-share"],[1,"bi","bi-arrow-repeat"],[1,"bi","bi-chat-dots"],[1,"wizard-footer-enhanced"],[1,"footer-container"],[1,"footer-features"],[1,"feature-badge"],[1,"bi","bi-credit-card-2-back"],[1,"bi","bi-lightning-charge"],[1,"footer-cta"],[1,"footer-message"],[1,"bi","bi-arrow-up-circle"],[1,"notification"],[1,"notification-content"],[1,"notification-icon"],[1,"notification-message"],[1,"notification-close",3,"click"],[1,"bi","bi-x"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"header",1)(2,"div",2),e.DNE(3,Yl,3,0,"div",3),e.DNE(4,Gc,5,2,"div",4),e.k0s()(),e.j41(5,"main",5)(6,"div",2),e.DNE(7,Cd,19,14,"div",6),e.DNE(8,Hc,5,2,"div",7),e.DNE(9,Fs,14,6,"section",8),e.DNE(10,As,36,10,"section",8),e.DNE(11,wd,41,15,"section",9),e.DNE(12,Id,31,9,"section",10),e.k0s()(),e.DNE(13,xd,22,0,"footer",11),e.j41(14,"app-pro-modal",12),e.bIt("onClose",function(){return d.handleProModalClose()})("onEmailSubmit",function(A){return d.handleProEmailSubmit(A)}),e.k0s(),e.j41(15,"div",13),e.DNE(16,kd,7,14,"div",14),e.k0s()()),2&c&&(e.R7$(3),e.Y8G("ngIf",!d.moduleConfigLoaded),e.R7$(1),e.Y8G("ngIf",d.moduleConfigLoaded),e.R7$(3),e.Y8G("ngIf",!d.state.isBlocked&&d.state.currentStep<4),e.R7$(1),e.Y8G("ngIf",d.state.error),e.R7$(1),e.Y8G("ngIf",!d.state.isBlocked&&1===d.state.currentStep),e.R7$(1),e.Y8G("ngIf",!d.state.isBlocked&&2===d.state.currentStep),e.R7$(1),e.Y8G("ngIf",!d.state.isBlocked&&3===d.state.currentStep),e.R7$(1),e.Y8G("ngIf",!d.state.isBlocked&&4===d.state.currentStep),e.R7$(1),e.Y8G("ngIf",d.state.currentStep<4),e.R7$(1),e.Y8G("module",d.moduleKey)("isVisible",d.showProModal),e.R7$(2),e.Y8G("ngForOf",d.notifications))},dependencies:[C.Sq,C.bT,Je.me,Je.BC,Je.vS,M,Zt],data:{animation:[oe("fadeInUp",[Re(":enter",[se({opacity:0,transform:"translateY(20px)"}),me("500ms ease-out",se({opacity:1,transform:"translateY(0)"}))])])]}})}}return u})();function Fd(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",11)(1,"div",12),e.nrm(2,"i",13),e.k0s(),e.j41(3,"h2",14),e.EFF(4,"Coming Soon"),e.k0s(),e.j41(5,"p",15),e.EFF(6," Smart Chat is currently in internal testing mode."),e.nrm(7,"br"),e.EFF(8," We're validating the experience before opening to the public. "),e.k0s(),e.j41(9,"p",16),e.EFF(10," Stay tuned! We'll announce when it's ready to try. "),e.k0s(),e.j41(11,"button",17),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.goBackToHub())}),e.nrm(12,"i",18),e.EFF(13," Back to MVP Hub "),e.k0s()()}2&u&&e.Y8G("@fadeInUp",void 0)}function Ad(u,l){if(1&u&&(e.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),e.EFF(4,"1"),e.k0s(),e.j41(5,"span",23),e.EFF(6,"Problem"),e.k0s()(),e.nrm(7,"div",24),e.j41(8,"div",21)(9,"div",22),e.EFF(10,"2"),e.k0s(),e.j41(11,"span",23),e.EFF(12,"WOW + Try"),e.k0s()(),e.nrm(13,"div",24),e.j41(14,"div",21)(15,"div",22),e.EFF(16,"3"),e.k0s(),e.j41(17,"span",23),e.EFF(18,"Activate"),e.k0s()()()()),2&u){const i=e.XpG();e.R7$(2),e.AVh("active",i.state.currentStep>=1)("completed",i.state.currentStep>1),e.R7$(5),e.AVh("active",i.state.currentStep>1),e.R7$(1),e.AVh("active",i.state.currentStep>=2)("completed",i.state.currentStep>2),e.R7$(5),e.AVh("active",i.state.currentStep>2),e.R7$(1),e.AVh("active",i.state.currentStep>=3)}}function Kc(u,l){if(1&u&&(e.j41(0,"div",45)(1,"div",46),e.nrm(2,"i",47),e.j41(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"div",48)(6,"span",49),e.EFF(7),e.k0s(),e.j41(8,"span",50),e.EFF(9,"this month"),e.k0s()()()),2&u){const i=l.$implicit;e.Y8G("@fadeInUp",void 0),e.R7$(4),e.JRh(i.question),e.R7$(3),e.SpI("",i.count,"\xd7")}}function La(u,l){if(1&u){const i=e.RV6();e.j41(0,"section",25)(1,"div",26)(2,"h2",27),e.EFF(3,"Do you answer the same questions every day?"),e.k0s(),e.j41(4,"p",28),e.EFF(5," These are the most repeated messages in e-commerce: "),e.k0s(),e.j41(6,"div",29)(7,"div",30)(8,"div",31),e.nrm(9,"i",32),e.j41(10,"span"),e.EFF(11,"Inbox - Last 30 days"),e.k0s()(),e.j41(12,"div",33),e.DNE(13,Kc,10,3,"div",34),e.k0s(),e.j41(14,"div",35),e.nrm(15,"i",36),e.j41(16,"span"),e.EFF(17),e.k0s()()(),e.j41(18,"div",37)(19,"div",38)(20,"div",39),e.EFF(21,"~3h"),e.k0s(),e.j41(22,"div",40),e.EFF(23,"lost per day"),e.k0s()(),e.j41(24,"div",38)(25,"div",39),e.EFF(26,"47%"),e.k0s(),e.j41(27,"div",40),e.EFF(28,"repeated questions"),e.k0s()(),e.j41(29,"div",38)(30,"div",39),e.EFF(31,"\u20ac560"),e.k0s(),e.j41(32,"div",40),e.EFF(33,"monthly cost"),e.k0s()()()(),e.j41(34,"div",41)(35,"p",42),e.nrm(36,"i",43),e.EFF(37," We'll show you how in 30 seconds "),e.k0s(),e.j41(38,"button",44),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return d.acknowledgeProble(),e.Njj(d.nextStep())}),e.EFF(39," Yes, I need to automate this "),e.k0s()()()()}if(2&u){const i=e.XpG();e.Y8G("@fadeInUp",void 0),e.R7$(13),e.Y8G("ngForOf",i.frequentQuestions),e.R7$(4),e.SpI("",20*i.frequentQuestions.length,"+ messages answering the same thing"),e.R7$(21),e.Y8G("disabled",!i.canContinueStep1&&i.state.problemUnderstanding)}}function Rd(u,l){if(1&u&&(e.j41(0,"div",74)(1,"div",75)(2,"div",76),e.EFF(3),e.k0s(),e.j41(4,"div",77),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&u){const i=l.$implicit;e.AVh("user-message","user"===i.sender)("bot-message","bot"===i.sender),e.Y8G("@messageSlideIn",void 0),e.R7$(3),e.JRh(i.message),e.R7$(2),e.JRh(e.i5U(6,7,i.timestamp,"HH:mm"))}}function $a(u,l){1&u&&(e.j41(0,"div",78),e.nrm(1,"span")(2,"span")(3,"span"),e.k0s())}function Nd(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",79)(1,"button",80),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.replaySimulation())}),e.nrm(2,"i",81),e.EFF(3," Watch again "),e.k0s(),e.j41(4,"button",82),e.bIt("click",function(){e.eBV(i);const d=e.XpG(3);return e.Njj(d.activateInteractiveMode())}),e.nrm(5,"i",83),e.EFF(6," Try it yourself "),e.k0s()()}}function Ua(u,l){if(1&u&&(e.j41(0,"div")(1,"h2",27),e.EFF(2,"See how it works"),e.k0s(),e.j41(3,"p",28),e.EFF(4," Real-time simulation of Inbox Zero responding automatically "),e.k0s(),e.j41(5,"div",52)(6,"div",53)(7,"div",54)(8,"div",55),e.nrm(9,"span",56),e.j41(10,"span"),e.EFF(11,"Online - Auto-responding"),e.k0s()(),e.nrm(12,"i",57),e.k0s(),e.j41(13,"div",58),e.DNE(14,Rd,7,10,"div",59),e.DNE(15,$a,4,0,"div",60),e.k0s(),e.j41(16,"div",61),e.nrm(17,"input",62),e.j41(18,"button",63),e.nrm(19,"i",64),e.k0s()()(),e.j41(20,"div",65)(21,"div",66),e.nrm(22,"i",67),e.j41(23,"h3"),e.EFF(24,"What's happening?"),e.k0s(),e.j41(25,"ul",68)(26,"li"),e.nrm(27,"i",69),e.j41(28,"span"),e.EFF(29,"Customer asks about their order"),e.k0s()(),e.j41(30,"li"),e.nrm(31,"i",69),e.j41(32,"span"),e.EFF(33,"Inbox Zero identifies the intent"),e.k0s()(),e.j41(34,"li"),e.nrm(35,"i",69),e.j41(36,"span"),e.EFF(37,"Auto-responds with real data"),e.k0s()(),e.j41(38,"li"),e.nrm(39,"i",69),e.j41(40,"span"),e.EFF(41,"Resolution time: "),e.j41(42,"strong"),e.EFF(43,"3 seconds"),e.k0s()()()(),e.j41(44,"div",70)(45,"div",71),e.EFF(46,"3 sec"),e.k0s(),e.j41(47,"div",72),e.EFF(48,"vs. 8 min manual"),e.k0s()()(),e.DNE(49,Nd,7,0,"div",73),e.k0s()()()),2&u){const i=e.XpG(2);e.R7$(14),e.Y8G("ngForOf",i.state.simulationMessages),e.R7$(1),e.Y8G("ngIf",i.state.simulationStarted&&!i.state.simulationCompleted&&i.state.currentSimulationIndex<i.simulationScript.length&&"bot"===i.simulationScript[i.state.currentSimulationIndex].sender),e.R7$(34),e.Y8G("ngIf",i.state.simulationCompleted)}}function jd(u,l){1&u&&(e.j41(0,"div",93)(1,"div",75)(2,"div",76),e.EFF(3," Hi! Ask me something typical from e-commerce. For example: "),e.k0s()()())}function eu(u,l){if(1&u){const i=e.RV6();e.j41(0,"button",97),e.bIt("click",function(){const P=e.eBV(i).$implicit,A=e.XpG(5);return e.Njj(A.askSuggestedQuestion(P))}),e.EFF(1),e.k0s()}if(2&u){const i=l.$implicit;e.R7$(1),e.SpI(" ",i," ")}}function Yc(u,l){if(1&u&&(e.j41(0,"div",95),e.DNE(1,eu,2,1,"button",96),e.k0s()),2&u){const i=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",i.suggestedQuestions)}}function Ba(u,l){if(1&u&&(e.j41(0,"div",74)(1,"div",75)(2,"div",76),e.EFF(3),e.k0s(),e.j41(4,"div",77),e.EFF(5),e.nI1(6,"date"),e.k0s()(),e.DNE(7,Yc,2,1,"div",94),e.k0s()),2&u){const i=l.$implicit;e.AVh("user-message","user"===i.sender)("bot-message","bot"===i.sender),e.Y8G("@messageSlideIn",void 0),e.R7$(3),e.JRh(i.message),e.R7$(2),e.JRh(e.i5U(6,8,i.timestamp,"HH:mm")),e.R7$(2),e.Y8G("ngIf","bot"===i.sender&&i.suggestedQuestions&&i.suggestedQuestions.length>0)}}function tu(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"\u{1f4ad} Thinking..."),e.k0s())}function Vd(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"\u{1f50d} Analyzing context..."),e.k0s())}function Ld(u,l){1&u&&(e.j41(0,"span"),e.EFF(1,"\u2728 Generating response..."),e.k0s())}function js(u,l){if(1&u&&(e.j41(0,"div",93)(1,"div",98)(2,"div",99)(3,"div",100),e.nrm(4,"i",101),e.k0s(),e.j41(5,"div",102),e.qex(6,103),e.DNE(7,tu,2,0,"span",104),e.DNE(8,Vd,2,0,"span",104),e.DNE(9,Ld,2,0,"span",104),e.bVm(),e.k0s()(),e.j41(10,"div",105),e.nrm(11,"span")(12,"span")(13,"span"),e.k0s()()()),2&u){const i=e.XpG(3);e.Y8G("@fadeInUp",void 0),e.R7$(6),e.Y8G("ngSwitch",i.state.loadingStage),e.R7$(1),e.Y8G("ngSwitchCase","thinking"),e.R7$(1),e.Y8G("ngSwitchCase","analyzing"),e.R7$(1),e.Y8G("ngSwitchCase","generating")}}function ca(u,l){if(1&u){const i=e.RV6();e.j41(0,"button",106),e.bIt("click",function(){const P=e.eBV(i).$implicit,A=e.XpG(3);return e.Njj(A.useQuickQuestion(P.question))}),e.nrm(1,"i",107),e.EFF(2),e.k0s()}if(2&u){const i=l.$implicit;e.R7$(2),e.SpI(" ",i.question," ")}}function $d(u,l){1&u&&(e.j41(0,"div",108),e.nrm(1,"i",109),e.j41(2,"p"),e.EFF(3,"Ask at least one question to see how it works, then you can continue"),e.k0s()())}function hh(u,l){if(1&u){const i=e.RV6();e.j41(0,"div")(1,"h2",27),e.EFF(2,"Try it yourself"),e.k0s(),e.j41(3,"p",28),e.EFF(4," Write a typical customer question and see how it responds "),e.k0s(),e.j41(5,"div",84)(6,"div",85)(7,"div",54)(8,"div",55),e.nrm(9,"span",56),e.j41(10,"span"),e.EFF(11,"Test mode - Ask anything"),e.k0s()()(),e.j41(12,"div",58),e.DNE(13,jd,4,0,"div",86),e.DNE(14,Ba,8,11,"div",59),e.DNE(15,js,14,5,"div",86),e.k0s(),e.j41(16,"div",61)(17,"input",87),e.bIt("ngModelChange",function(d){e.eBV(i);const P=e.XpG(2);return e.Njj(P.state.userQuestion=d)})("keyup.enter",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.askQuestion())}),e.k0s(),e.j41(18,"button",88),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.askQuestion())}),e.nrm(19,"i",64),e.k0s()()(),e.j41(20,"div",89)(21,"h4"),e.EFF(22,"Or try these:"),e.k0s(),e.DNE(23,ca,3,1,"button",90),e.k0s()(),e.j41(24,"div",41)(25,"button",91),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return d.goBack(),e.Njj(d.state.isInteractiveMode=!1)}),e.nrm(26,"i",18),e.EFF(27," Back to simulation "),e.k0s(),e.j41(28,"button",44),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.nextStep())}),e.nrm(29,"i",69),e.EFF(30," Continue to activate "),e.k0s()(),e.DNE(31,$d,4,0,"div",92),e.k0s()}if(2&u){const i=e.XpG(2);e.Y8G("@fadeInUp",void 0),e.R7$(13),e.Y8G("ngIf",0===i.state.interactiveMessages.length),e.R7$(1),e.Y8G("ngForOf",i.state.interactiveMessages),e.R7$(1),e.Y8G("ngIf",i.state.loading),e.R7$(2),e.Y8G("ngModel",i.state.userQuestion)("disabled",i.state.loading),e.R7$(1),e.Y8G("disabled",!i.state.userQuestion.trim()||i.state.loading),e.R7$(5),e.Y8G("ngForOf",i.frequentQuestions.slice(0,3)),e.R7$(5),e.Y8G("disabled",!i.canContinueStep2),e.R7$(3),e.Y8G("ngIf",!i.canContinueStep2)}}function nu(u,l){if(1&u&&(e.j41(0,"section",25)(1,"div",26),e.DNE(2,Ua,50,3,"div",51),e.DNE(3,hh,32,10,"div",51),e.k0s()()),2&u){const i=e.XpG();e.Y8G("@fadeInUp",void 0),e.R7$(2),e.Y8G("ngIf",!i.state.isInteractiveMode),e.R7$(1),e.Y8G("ngIf",i.state.isInteractiveMode)}}function Ud(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",127)(1,"h4"),e.EFF(2),e.k0s(),e.j41(3,"div",128)(4,"button",129),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.submitFeedback("yes"))}),e.nrm(5,"i",130),e.EFF(6," Yes, I need it "),e.k0s(),e.j41(7,"button",129),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.submitFeedback("partial"))}),e.nrm(8,"i",131),e.EFF(9," Maybe "),e.k0s(),e.j41(10,"button",129),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.submitFeedback("no"))}),e.nrm(11,"i",132),e.EFF(12," Not convinced "),e.k0s()()()}if(2&u){const i=e.XpG(2);e.R7$(2),e.SpI("Would ",i.moduleName," be useful for you?")}}function gh(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",133)(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"textarea",134),e.bIt("ngModelChange",function(d){e.eBV(i);const P=e.XpG(2);return e.Njj(P.state.feedbackComment=d)}),e.k0s(),e.j41(4,"button",82),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.submitComment())}),e.EFF(5," Send feedback "),e.k0s()()}if(2&u){const i=e.XpG(2);e.Y8G("@fadeInUp",void 0),e.R7$(2),e.JRh(i.state.feedbackMessage),e.R7$(1),e.Y8G("ngModel",i.state.feedbackComment)}}function Bd(u,l){if(1&u&&(e.j41(0,"div",135),e.nrm(1,"i",69),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&u){const i=e.XpG(2);e.Y8G("@fadeInUp",void 0),e.R7$(3),e.JRh(i.state.feedbackMessage)}}function zd(u,l){if(1&u){const i=e.RV6();e.j41(0,"section",25)(1,"div",26)(2,"div",110),e.nrm(3,"i",111),e.j41(4,"h2",27),e.EFF(5),e.k0s(),e.j41(6,"p",28),e.EFF(7," Join the beta and get early access "),e.k0s()(),e.j41(8,"div",112)(9,"div",113),e.nrm(10,"i",114),e.j41(11,"h4"),e.EFF(12,"Save 3h daily"),e.k0s(),e.j41(13,"p"),e.EFF(14,"Automate 80% of repetitive questions instantly."),e.k0s()(),e.j41(15,"div",113),e.nrm(16,"i",115),e.j41(17,"h4"),e.EFF(18,"30-sec install"),e.k0s(),e.j41(19,"p"),e.EFF(20,"Copy-paste code. Works immediately."),e.k0s()(),e.j41(21,"div",113),e.nrm(22,"i",116),e.j41(23,"h4"),e.EFF(24,"100% customizable"),e.k0s(),e.j41(25,"p"),e.EFF(26,"Colors, position, messages to your liking."),e.k0s()()(),e.j41(27,"div",117)(28,"div",118),e.nrm(29,"i",119),e.EFF(30," Limited Beta - Free Access "),e.k0s(),e.j41(31,"button",120),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.showPricing())}),e.nrm(32,"i",121),e.EFF(33," Get Free Beta Access "),e.k0s(),e.j41(34,"p",122)(35,"span",123),e.EFF(36,"Normally \u20ac49/month"),e.k0s(),e.EFF(37," \u2022 Free while in beta \u2022 No credit card "),e.k0s()(),e.DNE(38,Ud,13,1,"div",124),e.DNE(39,gh,6,3,"div",125),e.DNE(40,Bd,4,2,"div",126),e.j41(41,"div",41)(42,"button",91),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.goToStep(1))}),e.nrm(43,"i",18),e.EFF(44," See everything from the beginning "),e.k0s()()()()}if(2&u){const i=e.XpG();e.Y8G("@fadeInUp",void 0),e.R7$(5),e.SpI("Ready to activate ",i.moduleName,"!"),e.R7$(33),e.Y8G("ngIf",!i.state.feedbackSubmitted&&!i.state.emailSubmitted),e.R7$(1),e.Y8G("ngIf",i.state.feedbackAnswer&&!i.state.feedbackSubmitted&&!i.state.emailSubmitted&&("partial"===i.state.feedbackAnswer||"no"===i.state.feedbackAnswer)),e.R7$(1),e.Y8G("ngIf",i.state.feedbackSubmitted||i.state.emailSubmitted)}}function Gd(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",136),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closePricingModal())}),e.j41(1,"div",137),e.bIt("click",function(d){return d.stopPropagation()}),e.j41(2,"button",138),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closePricingModal())}),e.nrm(3,"i",57),e.k0s(),e.j41(4,"div",139)(5,"h2"),e.EFF(6,"Get Free Beta Access"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Limited spots available. Be an early adopter."),e.k0s()(),e.j41(9,"div",140)(10,"div",141),e.EFF(11,"\u{1f381} Free Beta Access"),e.k0s(),e.j41(12,"div",142),e.EFF(13,"Early Adopter Plan"),e.k0s(),e.j41(14,"div",143)(15,"div",144)(16,"span",145),e.EFF(17,"\u20ac"),e.k0s(),e.j41(18,"span",146),e.EFF(19,"49"),e.k0s(),e.j41(20,"span",147),e.EFF(21,"/month"),e.k0s()(),e.j41(22,"div",148)(23,"span",146),e.EFF(24,"FREE"),e.k0s(),e.j41(25,"span",147),e.EFF(26,"while in beta"),e.k0s()()(),e.j41(27,"ul",149)(28,"li"),e.nrm(29,"i",69),e.EFF(30," Unlimited conversations"),e.k0s(),e.j41(31,"li"),e.nrm(32,"i",69),e.EFF(33," 47 pre-trained intents"),e.k0s(),e.j41(34,"li"),e.nrm(35,"i",69),e.EFF(36," Custom branding & colors"),e.k0s(),e.j41(37,"li"),e.nrm(38,"i",69),e.EFF(39," Analytics dashboard"),e.k0s(),e.j41(40,"li"),e.nrm(41,"i",69),e.EFF(42," Priority email support"),e.k0s(),e.j41(43,"li"),e.nrm(44,"i",150),e.EFF(45," Early adopter benefits"),e.k0s()(),e.j41(46,"button",151),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.handlePricingClick())}),e.nrm(47,"i",119),e.EFF(48," Claim Free Beta Access "),e.k0s(),e.j41(49,"p",152),e.nrm(50,"i",153),e.EFF(51," Free while in beta \u2022 No credit card required "),e.k0s()()()()}2&u&&e.Y8G("@fadeInUp",void 0)}function za(u,l){if(1&u&&(e.j41(0,"p",164),e.EFF(1),e.k0s()),2&u){const i=e.XpG(2);e.R7$(1),e.JRh(i.state.error)}}function ru(u,l){1&u&&e.nrm(0,"i",64)}function Hd(u,l){1&u&&e.nrm(0,"i",69)}function iu(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",136),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeEmailCapture())}),e.j41(1,"div",154),e.bIt("click",function(d){return d.stopPropagation()}),e.j41(2,"button",138),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeEmailCapture())}),e.nrm(3,"i",57),e.k0s(),e.j41(4,"div",139),e.nrm(5,"i",155),e.j41(6,"h2"),e.EFF(7,"You're in! Almost..."),e.k0s(),e.j41(8,"p"),e.EFF(9,"Leave your email to get "),e.j41(10,"strong"),e.EFF(11,"free beta access"),e.k0s(),e.EFF(12),e.k0s()(),e.j41(13,"div",156)(14,"input",157),e.bIt("ngModelChange",function(d){e.eBV(i);const P=e.XpG();return e.Njj(P.state.userEmail=d)})("keyup.enter",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.submitEmail())}),e.k0s(),e.DNE(15,za,2,1,"p",158),e.j41(16,"button",159),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.submitEmail())}),e.DNE(17,ru,1,0,"i",160),e.DNE(18,Hd,1,0,"i",161),e.EFF(19),e.k0s(),e.j41(20,"p",162),e.nrm(21,"i",163),e.EFF(22," We'll send you access in 48h \u2022 Free while in beta "),e.k0s()()()()}if(2&u){const i=e.XpG();e.Y8G("@fadeInUp",void 0),e.R7$(12),e.SpI(" to ",i.moduleName,"."),e.R7$(2),e.AVh("error",i.state.error),e.Y8G("ngModel",i.state.userEmail),e.R7$(1),e.Y8G("ngIf",i.state.error),e.R7$(1),e.Y8G("disabled",i.state.emailSubmitted),e.R7$(1),e.Y8G("ngIf",!i.state.emailSubmitted),e.R7$(1),e.Y8G("ngIf",i.state.emailSubmitted),e.R7$(1),e.SpI(" ",i.state.emailSubmitted?"Thanks! You're on the list":"Get Free Beta Access"," ")}}let mh=(()=>{class u{constructor(i,c,d,P){this.router=i,this.trackingService=c,this.previewService=d,this.route=P,this.moduleKey="inbox-zero",this.moduleName="Inbox Zero",this.moduleTagline="Turn repetitive customer questions into zero-second responses",this.destroy$=new Ai.B,this.isInternalAccess=!1,this.isBlocked=!1,this.frequentQuestions=[{question:"Where is my order?",count:127},{question:"Do you ship to the Canary Islands?",count:89},{question:"Can I change the size?",count:56},{question:"When will my package arrive?",count:134},{question:"Do you accept returns?",count:72}],this.simulationScript=[{sender:"user",message:"Where is my order?",delay:0},{sender:"bot",message:"Hi! Let me check that. What's your order number?",delay:1200},{sender:"user",message:"#12345",delay:2500},{sender:"bot",message:"Found it! Your order is on its way. It will arrive tomorrow between 9am-2pm. Anything else?",delay:1800},{sender:"user",message:"No, thanks!",delay:2e3},{sender:"bot",message:"Perfect! Have a great day \u{1f60a}",delay:1e3}],this.state={currentStep:1,problemUnderstanding:!1,simulationStarted:!1,simulationMessages:[],currentSimulationIndex:0,simulationCompleted:!1,userQuestion:"",interactiveMessages:[],hasTriedInteractive:!1,isInteractiveMode:!1,showEmbedCode:!1,embedCodeCopied:!1,showPricingModal:!1,showEmailCapture:!1,userEmail:"",emailSubmitted:!1,feedbackAnswer:null,feedbackSubmitted:!1,feedbackComment:"",feedbackMessage:null,simulationViewed:!1,interactiveUsed:!1,loading:!1,loadingStage:null,error:null}}ngOnInit(){var i=this;return(0,Vn.A)(function*(){if(!(yield i.validateModuleStatus()))return i.isBlocked=!0,void console.warn("\u26a0\ufe0f Smart Chat is in testing mode - public access blocked");i.trackingService.pageView("module_preview_started",{module:i.moduleKey,moduleName:i.moduleName}),i.trackEvent("wizard_started",{source:i.isInternalAccess?"admin":"preview",timestamp:Date.now()}),i.setupAbandonmentTracking()})()}ngOnDestroy(){this.trackAbandonmentIfIncomplete(),this.destroy$.next(),this.destroy$.complete(),this.simulationInterval&&clearInterval(this.simulationInterval)}validateModuleStatus(){var i=this;return(0,Vn.A)(function*(){try{i.isInternalAccess="true"===i.route.snapshot.queryParams.internal;const c=yield i.previewService.getPreviewConfig(i.moduleKey).toPromise();if(!c||!c.success||!c.config)return console.warn(`\u26a0\ufe0f No backend config for '${i.moduleKey}', allowing access by default`),!0;const d=c.config.status;return console.log("\u{1f512} Smart Chat - Status validation:",{module:i.moduleKey,status:d,isInternalAccess:i.isInternalAccess}),"testing"!==d||i.isInternalAccess?(console.log(`\u2705 Access granted to module '${i.moduleKey}'`),!0):(console.warn(`\u26a0\ufe0f Module '${i.moduleKey}' is in testing - public access blocked`),!1)}catch(c){return console.error("\u274c Error validating module status:",c),!1}})()}goToStep(i){this.state.currentStep=i,this.trackEvent("wizard_step_changed",{from:this.state.currentStep,to:i}),2===i&&!this.state.simulationStarted&&setTimeout(()=>this.startSimulation(),800)}nextStep(){if(this.state.currentStep<3){const i=this.state.currentStep+1;this.trackEvent(`step_${this.state.currentStep}_completed`,{step:this.state.currentStep}),this.goToStep(i)}}goBack(){this.state.currentStep>1&&this.goToStep(this.state.currentStep-1)}acknowledgeProble(){this.state.problemUnderstanding=!0,this.trackEvent("problem_acknowledged",{frequent_questions_shown:this.frequentQuestions.length})}startSimulation(){this.state.simulationStarted=!0,this.state.simulationMessages=[],this.state.currentSimulationIndex=0,this.trackEvent("simulation_started",{message_count:this.simulationScript.length}),this.showNextSimulatedMessage()}showNextSimulatedMessage(){if(this.state.currentSimulationIndex>=this.simulationScript.length)return this.state.simulationCompleted=!0,void(this.state.simulationViewed||(this.trackEvent("simulation_completed",{duration_ms:this.simulationScript.reduce((d,P)=>d+(P.delay||0),0),messages_count:this.simulationScript.length}),this.state.simulationViewed=!0));const i=this.simulationScript[this.state.currentSimulationIndex];setTimeout(()=>{this.state.simulationMessages.push({id:this.state.simulationMessages.length+1,sender:i.sender,message:i.message,timestamp:new Date}),this.state.currentSimulationIndex++,this.scrollToBottom(),this.showNextSimulatedMessage()},i.delay||1e3)}replaySimulation(){this.trackEvent("simulation_replayed",{}),this.startSimulation()}activateInteractiveMode(){this.state.isInteractiveMode=!0,this.trackEvent("interactive_mode_activated",{manual_click:!0})}askQuestion(){if(!this.state.userQuestion.trim())return;const i=this.state.userQuestion.trim();this.state.interactiveMessages.push({id:this.state.interactiveMessages.length+1,sender:"user",message:i,timestamp:new Date}),this.state.hasTriedInteractive?this.trackEvent("interactive_question_asked",{question:i,question_number:Math.floor(this.state.interactiveMessages.length/2)+1}):(this.trackEvent("interactive_first_question",{question:i}),this.state.hasTriedInteractive=!0),this.state.userQuestion="",this.state.loading=!0,this.state.loadingStage="thinking",setTimeout(()=>{this.state.loadingStage="analyzing"},400),setTimeout(()=>{this.state.loadingStage="generating"},800),setTimeout(()=>{this.state.loading=!1,this.state.loadingStage=null;const d=this.generateBotResponse(i);this.state.interactiveMessages.push({id:this.state.interactiveMessages.length+1,sender:"bot",message:d.message,timestamp:new Date,suggestedQuestions:d.suggestions}),this.scrollToBottom()},1200),this.scrollToBottom()}askSuggestedQuestion(i){this.state.userQuestion=i,this.askQuestion()}generateBotResponse(i){const c=i.toLowerCase();return/^(hi|hola|hey|hello|buenos dias|good morning)[\s!?]*$/i.test(c.trim())?{message:"Hi! \u{1f44b} I'm designed to handle the repetitive questions that usually take hours every day \u2014 like order tracking, shipping, and returns. Want to see how fast I can answer one?",suggestions:["Where is my order?","How much is shipping?","Can I return this?"]}:c.includes("person")||c.includes("agent")||c.includes("human")||c.includes("hablar con")||c.includes("speak to")?{message:"Absolutely! I'm built to handle quick questions like order status, returns, or shipping \u2014 filtering out repetitive queries so your team focuses on complex issues. For anything else, I'd instantly connect you to a real person. Want to test the quick-answer flow?",suggestions:["Where is my order?","Shipping costs?","Return policy?"]}:c.includes("not working")||c.includes("useless")||c.includes("help me")||c.includes("broken")||c.includes("no funciona")?{message:"I'm still learning! Right now I'm built to handle common ecommerce questions. Want to try one of these?",suggestions:["Where is my order?","Can I return this?","Shipping costs?"]}:c.includes("name")||c.includes("who are you")||c.includes("de donde")||c.includes("where from")||c.includes("quien eres")?{message:"I'm a smart assistant focused on ecommerce support \u2014 the questions that eat up 3-4 hours daily. Want to test me?",suggestions:["Where is my order?","How much is shipping?","Return policy?"]}:c.includes("order")||c.includes("package")||c.includes("track")||c.includes("where")||c.includes("delivery")||c.includes("pedido")?{message:`I found your order #${this.generateRandomOrderNumber()}! It shipped yesterday and will arrive ${this.getTomorrowDate()} between 9am-2pm. Want me to send tracking details to your email?`}:(c.includes("ship")||c.includes("deliver")||c.includes("send"))&&(c.includes(" to ")||c.includes("madrid")||c.includes("barcelona")||c.includes("valencia")||c.includes("spain")||c.includes("espa\xf1a"))?c.includes("canary")||c.includes("canarias")||c.includes("islands")?{message:"Yes! We ship to the Canary Islands. Delivery takes 4-6 business days and shipping is \u20ac12.99. You won't pay VAT, but customs may apply local IGIC (around 7%)."}:{message:"Yes! We ship nationwide across Spain. Standard delivery (2-4 days) is \u20ac4.99, free on orders over \u20ac50. Express next-day delivery available for \u20ac9.99. Orders placed before 2pm ship same day!"}:c.includes("shipping")||c.includes("cost")||c.includes("env\xedo")||c.includes("gastos")||c.includes("free")?{message:"Free shipping on orders over \u20ac50. Standard delivery (2-4 days) is \u20ac4.99, and Express (next day) is \u20ac9.99. Orders placed before 2pm ship same day!"}:c.includes("return")||c.includes("refund")||c.includes("devolv")||c.includes("change")||c.includes("size")||c.includes("wrong")?{message:"Returns are easy! You have 30 days to return any item for free. We'll email you a prepaid return label within 5 minutes. Refunds are processed in 2-3 business days after we receive the item."}:c.includes("pay")||c.includes("credit")||c.includes("paypal")||c.includes("payment")||c.includes("card")?{message:"We accept Visa, Mastercard, American Express, PayPal, Apple Pay, and Google Pay. All payments are secure and encrypted. You can also pay in 3 installments with Klarna!"}:c.includes("stock")||c.includes("available")||c.includes("color")||c.includes("disponib")?{message:"Most items are in stock and ship within 24 hours! If something specific is out of stock, we restock weekly. Want me to notify you when a particular item is back?"}:c.includes("hours")||c.includes("contact")||c.includes("schedule")||c.includes("phone")||c.includes("horario")?{message:"Our support team is available Mon-Fri 9am-7pm and Sat 10am-2pm. You can also email us 24/7 at support@yourstore.com or call +34 900 123 456. Average response time: under 2 hours!"}:c.includes("discount")||c.includes("coupon")||c.includes("promo")||c.includes("code")||c.includes("descuento")||c.includes("offer")?{message:"Great timing! Use code WELCOME10 for 10% off your first order. We also have a loyalty program where you earn 1 point per \u20ac1 spent. 100 points = \u20ac5 discount!"}:c.includes("warranty")||c.includes("guarantee")||c.includes("garant\xeda")||c.includes("defect")?{message:"All products come with a 2-year manufacturer warranty. If anything breaks, we'll replace it for free. We also offer a 100% satisfaction guarantee - if you're not happy, return it anytime within 30 days."}:c.includes("account")||c.includes("login")||c.includes("password")||c.includes("reset")||c.includes("cuenta")?{message:"Having trouble logging in? I can send you a password reset link right now. Just confirm your email address and check your inbox in the next 2 minutes. Still stuck? Our tech team is here to help!"}:c.includes("tax")||c.includes("vat")||c.includes("customs")||c.includes("export")||c.includes("import")||c.includes("legal")?{message:"That's a specialized question that needs expert handling. I'm focused on the 80% of questions that are repetitive \u2014 like tracking, returns, and shipping. For complex queries like this, I'd connect you with a real person who can help.",suggestions:["Where is my order?","Return policy?","Shipping costs?"]}:{message:"I'm built to answer customer questions like shipping, returns, and order tracking \u2014 the things that usually steal hours every day. Want to try one?",suggestions:["Where is my order?","How much is shipping?","Can I return this?"]}}generateRandomOrderNumber(){return Math.floor(1e4+9e4*Math.random()).toString()}getTomorrowDate(){const i=new Date;return i.setDate(i.getDate()+1),i.toLocaleDateString("en-US",{month:"short",day:"numeric"})}useQuickQuestion(i){this.state.userQuestion=i,this.trackEvent("quick_question_selected",{question:i}),this.askQuestion()}showPricing(){this.state.showPricingModal=!0,this.trackEvent("pricing_modal_viewed",{step:3,beta_pricing:!0})}handlePricingClick(){this.trackEvent("pricing_clicked",{plan:"beta",price:0,price_anchor:49,currency:"EUR",step:3,beta_pricing:!0}),this.state.showPricingModal=!1,this.state.showEmailCapture=!0}closePricingModal(){this.trackEvent("pricing_dismissed",{step:3}),this.state.showPricingModal=!1}submitEmail(){this.state.userEmail.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.state.userEmail.trim())?(this.trackEvent("email_submitted",{email:this.state.userEmail.trim(),plan:"beta",price:0,price_anchor:49,currency:"EUR",intent:"early_access",step:3,beta_pricing:!0}),this.state.emailSubmitted=!0,this.state.error=null,setTimeout(()=>{this.state.showEmailCapture=!1,this.state.feedbackMessage="\u{1f389} Thanks! We'll send you free beta access in 48h."},1500),this.trackEvent("wizard_completed",{step:3,completed:!0,email_captured:!0,pricing_accepted:!0})):this.state.error="Please enter a valid email"}closeEmailCapture(){this.trackEvent("email_capture_dismissed",{step:3}),this.state.showEmailCapture=!1}showCode(){this.state.showEmbedCode=!0,this.trackEvent("embed_code_viewed",{step:3})}copyEmbedCode(){const i=this.getEmbedCode();navigator.clipboard.writeText(i).then(()=>{this.state.embedCodeCopied=!0,this.trackEvent("embed_code_copied",{code_length:i.length}),setTimeout(()=>{this.state.embedCodeCopied=!1},3e3)})}getEmbedCode(){return"\x3c!-- Inbox Zero Widget --\x3e\n<script>\n  (function() {\n    window.InboxZeroConfig = {\n      tenantId: 'YOUR_TENANT_ID',\n      color: '#4F46E5',\n      position: 'bottom-right'\n    };\n    var script = document.createElement('script');\n    script.src = 'https://cdn.inboxzero.app/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  })();\n<\/script>"}activateChat(){this.trackEvent("activate_clicked",{from_step:this.state.currentStep}),alert("\u{1f389} \xa1Genial! Te redirigiremos al panel de configuraci\xf3n...")}submitFeedback(i){this.state.feedbackAnswer=i;const c={module:this.moduleKey,answer:i,timestamp:Date.now(),steps_completed:this.state.currentStep,simulation_viewed:this.state.simulationViewed,interactive_used:this.state.hasTriedInteractive};this.trackingService.track("wizard_feedback_answered",c),"yes"===i?(this.state.feedbackMessage="\xa1Excelente! \u{1f389} Te avisaremos cuando est\xe9 disponible.",this.state.feedbackSubmitted=!0):this.state.feedbackMessage="partial"===i?"Gracias por tu feedback. \xbfQu\xe9 mejorar\xedas?":"\xbfQu\xe9 te falt\xf3? Tu feedback es muy valioso."}submitComment(){this.state.feedbackComment.trim()&&(this.trackingService.track("wizard_feedback_comment_submitted",{module:this.moduleKey,answer:this.state.feedbackAnswer,comment_length:this.state.feedbackComment.length,comment:this.state.feedbackComment}),this.state.feedbackSubmitted=!0,this.state.feedbackMessage="\xa1Gracias! Tu opini\xf3n nos ayuda a mejorar.")}trackEvent(i,c={}){this.trackingService.track(i,{...c,module:this.moduleKey,moduleName:this.moduleName,timestamp:Date.now()})}scrollToBottom(){setTimeout(()=>{const i=document.querySelector(".chat-messages");i&&(i.scrollTop=i.scrollHeight)},100)}get canContinueStep1(){return this.state.problemUnderstanding}get canContinueStep2(){return this.state.simulationCompleted&&this.state.hasTriedInteractive}setupAbandonmentTracking(){window.addEventListener("beforeunload",()=>{this.trackAbandonmentIfIncomplete()})}trackAbandonmentIfIncomplete(){this.state.emailSubmitted||this.state.feedbackSubmitted||this.trackEvent("wizard_abandoned",{step:this.state.currentStep,step_name:this.getStepName(this.state.currentStep),problem_acknowledged:this.state.problemUnderstanding,simulation_completed:this.state.simulationCompleted,simulation_viewed:this.state.simulationViewed,interactive_used:this.state.hasTriedInteractive,interactive_mode_activated:this.state.isInteractiveMode,questions_asked:Math.floor(this.state.interactiveMessages.length/2),pricing_viewed:this.state.showPricingModal,email_capture_shown:this.state.showEmailCapture,module:this.moduleKey,source:this.isInternalAccess?"admin":"preview"})}getStepName(i){return{1:"problem_understanding",2:"simulation_and_interactive",3:"pricing_and_conversion"}[i]||"unknown"}get canContinueStep3(){return this.state.hasTriedInteractive}goBackToHub(){this.router.navigate(["/"])}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(st.Ix),e.rXU(Wi.b),e.rXU(Ii),e.rXU(st.nX))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-smart-chat-wizard"]],decls:17,vars:9,consts:[[1,"smart-chat-wizard"],[1,"wizard-header"],[1,"container"],[1,"wizard-title"],[1,"bi","bi-inbox-fill"],[1,"wizard-subtitle"],[1,"wizard-container"],["class","coming-soon-banner",4,"ngIf"],["class","progress-indicator",4,"ngIf"],["class","wizard-step",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"coming-soon-banner"],[1,"coming-soon-icon"],[1,"bi","bi-clock-history"],[1,"coming-soon-title"],[1,"coming-soon-message"],[1,"coming-soon-hint"],[1,"btn-back-home",3,"click"],[1,"bi","bi-arrow-left"],[1,"progress-indicator"],[1,"progress-steps"],[1,"progress-step"],[1,"step-circle"],[1,"step-label"],[1,"progress-line"],[1,"wizard-step"],[1,"step-content"],[1,"step-title"],[1,"step-description"],[1,"problem-showcase"],[1,"inbox-simulation"],[1,"inbox-header"],[1,"bi","bi-envelope-fill"],[1,"repeated-questions"],["class","question-item",4,"ngFor","ngForOf"],[1,"inbox-footer"],[1,"bi","bi-exclamation-triangle-fill"],[1,"problem-impact"],[1,"impact-stat"],[1,"stat-value"],[1,"stat-label"],[1,"step-actions"],[1,"action-hint"],[1,"bi","bi-lightbulb-fill"],[1,"btn","btn-primary","btn-large",3,"disabled","click"],[1,"question-item"],[1,"question-text"],[1,"bi","bi-chat-dots-fill"],[1,"question-count"],[1,"count-badge"],[1,"count-label"],[4,"ngIf"],[1,"chat-simulation-container"],[1,"chat-widget"],[1,"chat-header"],[1,"chat-status"],[1,"status-dot"],[1,"bi","bi-x-lg"],[1,"chat-messages"],["class","message",3,"user-message","bot-message",4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],[1,"chat-input"],["type","text","placeholder","Write a message...","disabled",""],["disabled",""],[1,"bi","bi-send-fill"],[1,"simulation-explanation"],[1,"explanation-card"],[1,"bi","bi-lightning-charge-fill","wow-icon"],[1,"explanation-list"],[1,"bi","bi-check-circle-fill"],[1,"time-saved"],[1,"time-value"],[1,"time-label"],["class","simulation-actions",4,"ngIf"],[1,"message"],[1,"message-bubble"],[1,"message-text"],[1,"message-time"],[1,"typing-indicator"],[1,"simulation-actions"],[1,"btn","btn-outline",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-hand-index-thumb-fill"],[1,"interactive-chat-container"],[1,"chat-widget","interactive"],["class","message bot-message",4,"ngIf"],["type","text","placeholder","Write your question...","autofocus","",3,"ngModel","disabled","ngModelChange","keyup.enter"],[3,"disabled","click"],[1,"quick-questions"],["class","quick-question-btn",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],["class","step-hint",4,"ngIf"],[1,"message","bot-message"],["class","suggested-questions",4,"ngIf"],[1,"suggested-questions"],["class","suggestion-chip","type","button",3,"click",4,"ngFor","ngForOf"],["type","button",1,"suggestion-chip",3,"click"],[1,"message-bubble","loading-bubble"],[1,"loading-stage-indicator"],[1,"loading-icon"],[1,"bi","bi-stars"],[1,"loading-text"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"loading-dots"],[1,"quick-question-btn",3,"click"],[1,"bi","bi-lightning-fill"],[1,"step-hint"],[1,"bi","bi-info-circle-fill"],[1,"success-hero"],[1,"bi","bi-check-circle-fill","success-icon"],[1,"benefits-grid"],[1,"benefit-card"],[1,"bi","bi-clock-fill"],[1,"bi","bi-shield-check-fill"],[1,"bi","bi-palette-fill"],[1,"cta-section"],[1,"beta-badge"],[1,"bi","bi-gift-fill"],[1,"btn","btn-primary","btn-large","btn-glow",3,"click"],[1,"bi","bi-rocket-takeoff-fill"],[1,"cta-subtitle"],[1,"price-anchor"],["class","feedback-section",4,"ngIf"],["class","feedback-comment",4,"ngIf"],["class","feedback-success",4,"ngIf"],[1,"feedback-section"],[1,"feedback-buttons"],[1,"feedback-btn",3,"click"],[1,"bi","bi-hand-thumbs-up-fill"],[1,"bi","bi-question-circle-fill"],[1,"bi","bi-hand-thumbs-down-fill"],[1,"feedback-comment"],["placeholder","Tell us what you would improve...","rows","3",3,"ngModel","ngModelChange"],[1,"feedback-success"],[1,"modal-overlay",3,"click"],[1,"modal-container","pricing-modal",3,"click"],[1,"modal-close",3,"click"],[1,"modal-header"],[1,"pricing-card","featured","beta"],[1,"pricing-badge","beta-badge"],[1,"pricing-plan-name"],[1,"pricing-amount","beta-pricing"],[1,"original-price"],[1,"currency"],[1,"price"],[1,"period"],[1,"beta-price"],[1,"pricing-features"],[1,"bi","bi-star-fill","text-warning"],[1,"btn","btn-primary","btn-large","btn-block",3,"click"],[1,"pricing-guarantee"],[1,"bi","bi-shield-check"],[1,"modal-container","email-modal",3,"click"],[1,"bi","bi-envelope-heart-fill","email-icon"],[1,"email-form"],["type","email","placeholder","your@email.com","autofocus","",1,"email-input",3,"ngModel","ngModelChange","keyup.enter"],["class","email-error",4,"ngIf"],[1,"btn","btn-primary","btn-large","btn-block",3,"disabled","click"],["class","bi bi-send-fill",4,"ngIf"],["class","bi bi-check-circle-fill",4,"ngIf"],[1,"email-guarantee"],[1,"bi","bi-lock-fill"],[1,"email-error"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),e.nrm(4,"i",4),e.EFF(5),e.k0s(),e.j41(6,"p",5),e.EFF(7),e.k0s()()(),e.j41(8,"main",6)(9,"div",2),e.DNE(10,Fd,14,1,"div",7),e.DNE(11,Ad,19,14,"div",8),e.DNE(12,La,40,4,"section",9),e.DNE(13,nu,4,3,"section",9),e.DNE(14,zd,45,5,"section",9),e.DNE(15,Gd,52,1,"div",10),e.DNE(16,iu,23,10,"div",10),e.k0s()()()),2&c&&(e.R7$(5),e.SpI(" ",d.moduleName,""),e.R7$(2),e.JRh(d.moduleTagline),e.R7$(3),e.Y8G("ngIf",d.isBlocked),e.R7$(1),e.Y8G("ngIf",!d.isBlocked&&d.state.currentStep<3),e.R7$(1),e.Y8G("ngIf",!d.isBlocked&&1===d.state.currentStep),e.R7$(1),e.Y8G("ngIf",!d.isBlocked&&2===d.state.currentStep),e.R7$(1),e.Y8G("ngIf",!d.isBlocked&&3===d.state.currentStep),e.R7$(1),e.Y8G("ngIf",d.state.showPricingModal),e.R7$(1),e.Y8G("ngIf",d.state.showEmailCapture))},dependencies:[C.Sq,C.bT,C.ux,C.e1,Je.me,Je.BC,Je.vS,C.vh],data:{animation:[oe("fadeInUp",[Re(":enter",[se({opacity:0,transform:"translateY(20px)"}),me("500ms ease-out",se({opacity:1,transform:"translateY(0)"}))])]),oe("messageSlideIn",[Re(":enter",[se({opacity:0,transform:"translateX(-20px)"}),me("300ms ease-out",se({opacity:1,transform:"translateX(0)"}))])])]}})}}return u})(),ou=(()=>{class u{constructor(i){this.http=i,this.apiUrl=`${or.c.URL_SERVICE}mvp-hub`}getMvps(i=!1,c="all"){const d={};return i&&(d.includeComingSoon="true"),"all"!==c&&(d.type=c),this.http.get(`${this.apiUrl}/modules`,{params:d})}getMvpDetails(i){return this.http.get(`${this.apiUrl}/modules/${i}`)}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(ni.Qq))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),_h=(()=>{class u{constructor(i){this.http=i,this.apiUrl=`${or.c.URL_SERVICE}mvp-analytics`}getAllMvps(i="30d"){return this.http.get(`${this.apiUrl}/all`,{params:{period:i}})}getMvpDetail(i,c="30d"){return this.http.get(`${this.apiUrl}/${i}`,{params:{period:c}})}getHealthScoreColor(i){return i>=80?"success":i>=60?"warning":"danger"}getStatusBadge(i){switch(i){case"create_module":return{class:"badge-success",icon:"\u2705",label:"Listo para M\xf3dulo"};case"continue":return{class:"badge-primary",icon:"\u23f8\ufe0f",label:"Continuar Validaci\xf3n"};case"archive":return{class:"badge-danger",icon:"\u{1f5c4}\ufe0f",label:"Archivar"};default:return{class:"badge-warning",icon:"\u26a0\ufe0f",label:"Datos Insuficientes"}}}getRecommendationIcon(i){switch(i){case"create_module":return"\u{1f680}";case"continue":return"\u23f8\ufe0f";case"archive":return"\u{1f5c4}\ufe0f";default:return"\u23f3"}}static{this.\u0275fac=function(c){return new(c||u)(e.KVO(ni.Qq))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function Wd(u,l){if(1&u&&(e.j41(0,"div",27)(1,"div",28),e.nrm(2,"span",29),e.j41(3,"span",30),e.EFF(4,"System active"),e.k0s()(),e.j41(5,"div",31),e.nrm(6,"i",32),e.j41(7,"span"),e.EFF(8),e.k0s()()()),2&u){const i=e.XpG();e.R7$(8),e.JRh(i.getTimeSinceLastActivity())}}function Xd(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",33)(1,"div",34)(2,"div",35),e.nrm(3,"i",36),e.k0s(),e.j41(4,"div",37)(5,"span",38),e.EFF(6),e.k0s(),e.j41(7,"span",39),e.EFF(8,"Active tenant"),e.k0s()()(),e.j41(9,"button",40),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.goToDashboard())}),e.nrm(10,"i",41),e.j41(11,"span"),e.EFF(12,"My Dashboard"),e.k0s()()()}if(2&u){const i=e.XpG();e.R7$(6),e.JRh(i.currentTenant.name)}}function qc(u,l){1&u&&(e.j41(0,"div",42),e.nrm(1,"div",43),e.j41(2,"div",44),e.nrm(3,"i",45)(4,"span",46)(5,"span",47),e.k0s(),e.j41(6,"h3",48),e.EFF(7,"Loading experiments"),e.k0s(),e.j41(8,"p",49),e.EFF(9,"Connecting to the lab..."),e.k0s(),e.j41(10,"div",50),e.nrm(11,"span",51)(12,"span",51)(13,"span",51),e.k0s()())}function vh(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",52),e.nrm(1,"div",53),e.j41(2,"div",54),e.nrm(3,"i",55)(4,"span",56),e.k0s(),e.j41(5,"h3",57),e.EFF(6,"Something went wrong"),e.k0s(),e.j41(7,"p",58),e.EFF(8),e.k0s(),e.j41(9,"button",59),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.retryLoad())}),e.nrm(10,"i",60),e.j41(11,"span"),e.EFF(12,"Retry"),e.k0s()(),e.j41(13,"p",61),e.EFF(14,"If the problem persists, "),e.j41(15,"a",62),e.EFF(16,"contact support"),e.k0s()()()}if(2&u){const i=e.XpG();e.R7$(8),e.JRh(i.error)}}function yh(u,l){if(1&u&&(e.j41(0,"div",125)(1,"span",126),e.EFF(2),e.k0s()()),2&u){const i=e.XpG().$implicit,c=e.XpG(3);e.R7$(1),e.HbH(c.getSpecialBadge(i).class),e.R7$(1),e.SpI(" ",c.getSpecialBadge(i).label," ")}}function Qc(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",107)(1,"div",108)(2,"div",109)(3,"h4",110),e.EFF(4),e.k0s(),e.j41(5,"span",111),e.EFF(6,"Experiment in validation"),e.k0s()(),e.j41(7,"div",112),e.EFF(8),e.k0s()(),e.DNE(9,yh,3,3,"div",113),e.j41(10,"div",114)(11,"span",115),e.nrm(12,"i",116),e.EFF(13),e.k0s()(),e.j41(14,"div",117),e.nrm(15,"i",98),e.j41(16,"p"),e.EFF(17),e.k0s()(),e.j41(18,"div",118)(19,"div",119),e.nrm(20,"i",120),e.j41(21,"span"),e.EFF(22,"Real usage"),e.k0s()(),e.j41(23,"div",119),e.nrm(24,"i",121),e.j41(25,"span"),e.EFF(26,"Completed"),e.k0s()(),e.j41(27,"div",119),e.nrm(28,"i",122),e.j41(29,"span"),e.EFF(30,"Feedback"),e.k0s()()(),e.j41(31,"div",123)(32,"button",124),e.bIt("click",function(){const P=e.eBV(i).$implicit,A=e.XpG(3);return e.Njj(A.handleMvpCta(P))}),e.nrm(33,"i"),e.EFF(34),e.k0s()()()}if(2&u){const i=l.$implicit,c=e.XpG(3);e.AVh("insufficient-data",i.insufficient_data)("ready-to-try",c.isReadyToTry(i)),e.R7$(4),e.JRh(i.module_name),e.R7$(3),e.HbH("badge-"+c.getPublicHealthLevel(i.health_score)),e.R7$(1),e.SpI(" ",c.getPublicHealthLabel(i.health_score)," "),e.R7$(1),e.Y8G("ngIf",c.getSpecialBadge(i)),e.R7$(2),e.HbH(c.getPublicStatusClass(i)),e.R7$(2),e.SpI(" ",c.getPublicStatus(i)," "),e.R7$(4),e.JRh(c.getPublicMessage(i)),e.R7$(2),e.AVh("active",i.total_sessions>0),e.R7$(4),e.AVh("active",i.wizard_completions>0),e.R7$(4),e.AVh("active",i.total_feedback>0),e.R7$(5),e.AVh("btn-ready",c.isReadyToTry(i))("btn-notify",!c.isReadyToTry(i)),e.Y8G("disabled",i.insufficient_data),e.R7$(1),e.HbH(c.getCtaIcon(i)),e.R7$(1),e.SpI(" ",c.getCtaText(i)," ")}}function bh(u,l){1&u&&(e.j41(0,"div",127),e.nrm(1,"i",128),e.j41(2,"p"),e.EFF(3,"We're preparing new experiments"),e.k0s(),e.j41(4,"small"),e.EFF(5,"Come back soon to see what we're validating"),e.k0s()())}function Ch(u,l){if(1&u){const i=e.RV6();e.j41(0,"section",99)(1,"div",100)(2,"h3"),e.EFF(3,"Experiments in Validation"),e.k0s(),e.j41(4,"p",101),e.EFF(5,"We're testing these ideas with real users"),e.k0s(),e.j41(6,"div",102)(7,"button",103),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.changePeriod("7d"))}),e.EFF(8," 7 days "),e.k0s(),e.j41(9,"button",103),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.changePeriod("30d"))}),e.EFF(10," 30 days "),e.k0s(),e.j41(11,"button",103),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.changePeriod("90d"))}),e.EFF(12," 90 days "),e.k0s(),e.j41(13,"button",103),e.bIt("click",function(){e.eBV(i);const d=e.XpG(2);return e.Njj(d.changePeriod("all"))}),e.EFF(14," All "),e.k0s()()(),e.j41(15,"div",104),e.DNE(16,Qc,35,27,"div",105),e.k0s(),e.DNE(17,bh,6,0,"div",106),e.k0s()}if(2&u){const i=e.XpG(2);e.R7$(7),e.AVh("active","7d"===i.selectedPeriod),e.R7$(2),e.AVh("active","30d"===i.selectedPeriod),e.R7$(2),e.AVh("active","90d"===i.selectedPeriod),e.R7$(2),e.AVh("active","all"===i.selectedPeriod),e.R7$(3),e.Y8G("ngForOf",i.mvpAnalytics),e.R7$(1),e.Y8G("ngIf",0===i.mvpAnalytics.length)}}function Eh(u,l){if(1&u){const i=e.RV6();e.j41(0,"section",63)(1,"div",64),e.nrm(2,"div",65),e.j41(3,"div",66),e.nrm(4,"i",67)(5,"span",68),e.k0s(),e.j41(6,"h2",69),e.EFF(7,"We're validating experiments"),e.k0s(),e.j41(8,"p",70),e.EFF(9," Tools appear here only when they show "),e.j41(10,"strong"),e.EFF(11,"real usage and retention signals"),e.k0s(),e.EFF(12,"."),e.nrm(13,"br"),e.EFF(14," We don't publish demos. Only what works. "),e.k0s(),e.j41(15,"div",71),e.nrm(16,"span",72),e.j41(17,"span"),e.EFF(18,"Validation mode active"),e.k0s()()(),e.j41(19,"div",73)(20,"div",74)(21,"h3"),e.EFF(22,"How it works"),e.k0s(),e.j41(23,"p",75),e.EFF(24,"Our data-driven validation process"),e.k0s()(),e.j41(25,"div",76)(26,"div",77)(27,"div",78),e.EFF(28,"01"),e.k0s(),e.j41(29,"div",79),e.nrm(30,"i",80),e.k0s(),e.j41(31,"h4",81),e.EFF(32,"We experiment"),e.k0s(),e.j41(33,"p",82),e.EFF(34,"We test ideas with real users"),e.k0s(),e.nrm(35,"div",83),e.k0s(),e.j41(36,"div",77)(37,"div",78),e.EFF(38,"02"),e.k0s(),e.j41(39,"div",79),e.nrm(40,"i",84),e.k0s(),e.j41(41,"h4",81),e.EFF(42,"We measure"),e.k0s(),e.j41(43,"p",82),e.EFF(44,"Real usage, retention and market signals before creating tenants"),e.k0s(),e.nrm(45,"div",83),e.k0s(),e.j41(46,"div",77)(47,"div",78),e.EFF(48,"03"),e.k0s(),e.j41(49,"div",79),e.nrm(50,"i",85),e.k0s(),e.j41(51,"h4",81),e.EFF(52,"We publish"),e.k0s(),e.j41(53,"p",82),e.EFF(54,"Only what shows traction"),e.k0s(),e.nrm(55,"div",83),e.k0s()()(),e.DNE(56,Ch,18,10,"section",86),e.j41(57,"div",87),e.nrm(58,"div",88),e.j41(59,"div",89),e.nrm(60,"i",90)(61,"span",91)(62,"span",92),e.k0s(),e.j41(63,"h3",93),e.EFF(64,"Want access when an experiment is ready?"),e.k0s(),e.j41(65,"p",94),e.EFF(66," We'll let you know when we have something with real usage signals ready to try "),e.k0s(),e.j41(67,"button",95),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.requestEarlyAccess())}),e.nrm(68,"i",96),e.j41(69,"span"),e.EFF(70,"Notify me when something is ready"),e.k0s()(),e.j41(71,"div",97),e.nrm(72,"i",98),e.j41(73,"span"),e.EFF(74,"Not a public beta, just early validation signal"),e.k0s()()()()}if(2&u){const i=e.XpG();e.R7$(56),e.Y8G("ngIf",i.hasMvpData)}}function wh(u,l){if(1&u){const i=e.RV6();e.j41(0,"div",129),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeEarlyAccessModal())}),e.j41(1,"div",130),e.bIt("click",function(d){return d.stopPropagation()}),e.j41(2,"div",131)(3,"div",132),e.nrm(4,"i",121),e.k0s(),e.j41(5,"button",133),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeEarlyAccessModal())}),e.nrm(6,"i",134),e.k0s()(),e.j41(7,"div",135)(8,"h3",136),e.EFF(9,"Thanks for your interest!"),e.k0s(),e.j41(10,"p",137),e.EFF(11," We'll let you know when we have an experiment ready to try. "),e.k0s(),e.j41(12,"p",138),e.EFF(13," For now we're 100% focused on validation with real users. We only publish what shows traction. "),e.k0s()(),e.j41(14,"div",139)(15,"button",140),e.bIt("click",function(){e.eBV(i);const d=e.XpG();return e.Njj(d.closeEarlyAccessModal())}),e.EFF(16," Got it "),e.k0s()()()()}}const Kd=[{path:"",component:(()=>{class u{constructor(i,c,d,P){this.router=i,this.saasService=c,this.mvpHubService=d,this.mvpAnalyticsService=P,this.isAuthenticated=!1,this.currentTenant=null,this.mvps=[],this.isLoading=!0,this.error="",this.systemActive=!0,this.showEarlyAccessModal=!1,this.mvpAnalytics=[],this.selectedPeriod="30d",this.hasMvpData=!1}ngOnInit(){this.lastActivityTime=new Date(Date.now()-45*Math.random()*60*1e3),this.isAuthenticated=this.saasService.isAuthenticated(),this.isAuthenticated&&(this.currentTenant=this.saasService.getCurrentTenant()),this.loadActiveMvps(),this.loadMvpAnalytics()}loadActiveMvps(){this.isLoading=!0,this.error="",this.mvpHubService.getMvps(!1,"all").subscribe({next:i=>{i.success?(this.mvps=i.mvps,or.c.production||console.log(`\u2705 ${i.count} MVP(s) disponibles`)):this.error=i.message||"No se pudieron cargar los MVPs",this.isLoading=!1},error:i=>{console.error("\u274c Error loading MVPs:",i),this.error="Error al conectar con el servidor. Por favor intenta m\xe1s tarde.",this.isLoading=!1}})}goToPreview(i){"coming-soon"!==i.status&&i.previewRoute&&this.router.navigate([i.previewRoute])}retryLoad(){this.loadActiveMvps()}goToLogin(){this.router.navigate(["/login"])}goToRegister(){this.router.navigate(["/register"])}goToDashboard(){this.currentTenant?.module_key&&this.router.navigate([`/${this.currentTenant.module_key}`])}getTimeSinceLastActivity(){if(!this.lastActivityTime)return"hace un momento";const c=(new Date).getTime()-this.lastActivityTime.getTime(),d=Math.floor(c/6e4);if(d<1)return"hace un momento";if(1===d)return"hace 1 minuto";if(d<60)return`hace ${d} minutos`;const P=Math.floor(d/60);return 1===P?"hace 1 hora":P<24?`hace ${P} horas`:"hace m\xe1s de 1 d\xeda"}requestEarlyAccess(){console.log("\u{1f514} Usuario solicit\xf3 notificaci\xf3n de acceso anticipado"),this.showEarlyAccessModal=!0}closeEarlyAccessModal(){this.showEarlyAccessModal=!1}loadMvpAnalytics(){this.mvpAnalyticsService.getAllMvps(this.selectedPeriod).subscribe({next:i=>{i.success&&i.mvps.length>0?(this.mvpAnalytics=i.mvps.sort((c,d)=>{const P=this.isReadyToTry(c)?1:0,A=this.isReadyToTry(d)?1:0;return P!==A?A-P:c.health_score!==d.health_score?d.health_score-c.health_score:d.total_sessions-c.total_sessions}),this.hasMvpData=!0,or.c.production||console.log(`\u{1f4ca} ${i.mvps.length} MVP(s) con analytics disponibles`)):(this.mvpAnalytics=[],this.hasMvpData=!1)},error:i=>{404===i.status||or.c.production?(this.mvpAnalytics=[],this.hasMvpData=!1):(console.error("\u274c Error analytics:",i.message||i.status),this.mvpAnalytics=[],this.hasMvpData=!1)}})}changePeriod(i){this.selectedPeriod=i,this.loadMvpAnalytics()}goToMvpDetails(i){this.router.navigate(["/preview",i])}getHealthScoreClass(i){return this.mvpAnalyticsService.getHealthScoreColor(i)}getStatusBadge(i){return this.mvpAnalyticsService.getStatusBadge(i)}getRecommendationIcon(i){return this.mvpAnalyticsService.getRecommendationIcon(i)}getPublicHealthLevel(i){return i>=70?"high":i>=40?"medium":"low"}getPublicHealthLabel(i){const c=this.getPublicHealthLevel(i);return"high"===c?"Alto":"medium"===c?"Medio":"Bajo"}getPublicStatus(i){return i.insufficient_data?"Recolectando datos":i.health_score>=70?"En validaci\xf3n avanzada":i.health_score>=40?"En validaci\xf3n":"Fase temprana"}getPublicStatusClass(i){return i.insufficient_data?"status-collecting":i.health_score>=70?"status-advanced":i.health_score>=40?"status-validating":"status-early"}getPublicMessage(i){return i.insufficient_data?"Necesitamos m\xe1s datos antes de publicar este experimento":i.total_sessions>=50&&i.wizard_completions>=10?"Experimento muy usado - Validaci\xf3n avanzada con tracci\xf3n demostrable":i.total_sessions>=30&&i.health_score>=70?"Popular esta semana - Se\xf1ales positivas de uso y retenci\xf3n":i.health_score>=70&&i.wizard_completions>=5?"Este experimento muestra se\xf1ales positivas de validaci\xf3n":i.health_score>=40&&i.total_sessions>=15?"Experimento en proceso de validaci\xf3n con usuarios reales":"Fase inicial de pruebas y recolecci\xf3n de feedback"}isReadyToTry(i){return i.health_score>=70&&i.total_sessions>=20&&i.wizard_completions>=5&&!i.insufficient_data}getSpecialBadge(i){return i.total_sessions>=50&&i.wizard_completions>=10?{show:!0,label:"\u{1f525} Popular",class:"badge-popular"}:i.health_score>=80&&i.total_sessions>=30?{show:!0,label:"\u2728 Alta demanda",class:"badge-high-demand"}:this.isReadyToTry(i)?{show:!0,label:"\u2705 Listo para probar",class:"badge-ready"}:null}getCtaText(i){return this.isReadyToTry(i)?"Probar ahora":i.insufficient_data?"Muy pronto":"Avisarme cuando est\xe9 listo"}getCtaIcon(i){return this.isReadyToTry(i)?"bi-play-circle":i.insufficient_data?"bi-clock":"bi-bell"}handleMvpCta(i){this.isReadyToTry(i)?this.router.navigate(["/preview",i.module_key]):this.requestEarlyAccess()}static{this.\u0275fac=function(c){return new(c||u)(e.rXU(st.Ix),e.rXU(ri),e.rXU(ou),e.rXU(_h))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-mvps-hub"]],decls:42,vars:6,consts:[[1,"mvps-hub","labs-mode"],[1,"hub-header-enhanced"],[1,"header-backdrop"],[1,"container"],[1,"header-content-enhanced"],[1,"branding-enhanced"],[1,"brand-icon-enhanced"],[1,"bi","bi-gear-fill"],[1,"icon-pulse"],[1,"brand-text-enhanced"],[1,"brand-title-enhanced"],[1,"title-primary"],[1,"title-secondary"],[1,"brand-tagline-enhanced"],["class","system-status-enhanced",4,"ngIf"],["class","user-actions-enhanced",4,"ngIf"],[1,"hub-main"],["class","loading-state-enhanced",4,"ngIf"],["class","error-state-enhanced",4,"ngIf"],["class","labs-landing",4,"ngIf"],[1,"hub-footer"],[1,"footer-content"],[1,"footer-text"],["href","https://lujandev.com","target","_blank"],[1,"footer-links"],["href","#",1,"footer-link"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"system-status-enhanced"],[1,"status-badge-live"],[1,"status-dot"],[1,"status-text"],[1,"status-detail-enhanced"],[1,"bi","bi-clock-history"],[1,"user-actions-enhanced"],[1,"user-info-enhanced"],[1,"user-avatar"],[1,"bi","bi-person-circle"],[1,"user-details"],[1,"user-name"],[1,"user-role"],[1,"btn-dashboard-enhanced",3,"click"],[1,"bi","bi-speedometer2"],[1,"loading-state-enhanced"],[1,"loading-backdrop"],[1,"loading-icon-container"],[1,"bi","bi-gear-fill","loading-icon"],[1,"loading-ring"],[1,"loading-ring-2"],[1,"loading-title"],[1,"loading-description"],[1,"loading-dots"],[1,"dot"],[1,"error-state-enhanced"],[1,"error-backdrop"],[1,"error-icon-container"],[1,"bi","bi-exclamation-triangle-fill"],[1,"error-pulse"],[1,"error-title"],[1,"error-message"],[1,"btn-retry-enhanced",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"error-help"],["href","#",1,"error-link"],[1,"labs-landing"],[1,"labs-status-enhanced"],[1,"status-backdrop"],[1,"status-icon-enhanced"],[1,"bi","bi-bar-chart"],[1,"icon-glow"],[1,"status-title-enhanced"],[1,"status-description-enhanced"],[1,"status-badge-enhanced"],[1,"badge-dot"],[1,"labs-process-enhanced"],[1,"process-header-enhanced"],[1,"process-subtitle"],[1,"process-steps-enhanced"],[1,"step-card-enhanced"],[1,"step-number"],[1,"step-icon-enhanced"],[1,"bi","bi-code-slash"],[1,"step-title"],[1,"step-description"],[1,"step-bar"],[1,"bi","bi-graph-up"],[1,"bi","bi-rocket-takeoff"],["class","mvp-analytics-dashboard",4,"ngIf"],[1,"labs-cta-enhanced"],[1,"cta-backdrop"],[1,"cta-icon-enhanced"],[1,"bi","bi-bell-fill"],[1,"icon-ring"],[1,"icon-ring-2"],[1,"cta-title-enhanced"],[1,"cta-description-enhanced"],[1,"btn-notify-enhanced",3,"click"],[1,"bi","bi-envelope-heart"],[1,"cta-note-enhanced"],[1,"bi","bi-info-circle"],[1,"mvp-analytics-dashboard"],[1,"dashboard-header"],[1,"dashboard-subtitle"],[1,"period-selector"],[3,"click"],[1,"mvp-analytics-grid"],["class","mvp-analytics-card",3,"insufficient-data","ready-to-try",4,"ngFor","ngForOf"],["class","empty-analytics",4,"ngIf"],[1,"mvp-analytics-card"],[1,"card-header"],[1,"mvp-info"],[1,"mvp-name"],[1,"mvp-slug"],[1,"health-score"],["class","special-badge-section",4,"ngIf"],[1,"status-section"],[1,"status-badge"],[1,"bi","bi-circle-fill"],[1,"public-message"],[1,"validation-indicators"],[1,"indicator-item"],[1,"bi","bi-eye"],[1,"bi","bi-check-circle"],[1,"bi","bi-chat-left-heart"],[1,"card-footer"],[1,"btn-mvp-cta",3,"disabled","click"],[1,"special-badge-section"],[1,"special-badge"],[1,"empty-analytics"],[1,"bi","bi-inbox"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-icon"],["aria-label","Close",1,"modal-close",3,"click"],[1,"bi","bi-x-lg"],[1,"modal-body"],[1,"modal-title"],[1,"modal-message"],[1,"modal-note"],[1,"modal-footer"],[1,"btn-modal-primary",3,"click"]],template:function(c,d){1&c&&(e.j41(0,"div",0)(1,"header",1),e.nrm(2,"div",2),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.nrm(7,"i",7)(8,"span",8),e.k0s(),e.j41(9,"div",9)(10,"h1",10)(11,"span",11),e.EFF(12,"LujanDev"),e.k0s(),e.j41(13,"span",12),e.EFF(14,"Labs"),e.k0s()(),e.j41(15,"p",13),e.EFF(16," Building micro-SaaS based on "),e.j41(17,"strong"),e.EFF(18,"real usage"),e.k0s(),e.EFF(19,", not ideas "),e.k0s(),e.DNE(20,Wd,9,1,"div",14),e.k0s()(),e.DNE(21,Xd,13,1,"div",15),e.k0s()()(),e.j41(22,"main",16)(23,"div",3),e.DNE(24,qc,14,0,"div",17),e.DNE(25,vh,17,1,"div",18),e.DNE(26,Eh,75,1,"section",19),e.k0s()(),e.j41(27,"footer",20)(28,"div",3)(29,"div",21)(30,"p",22),e.EFF(31," MVP Hub \xb7 Validation phase \xb7 "),e.j41(32,"a",23),e.EFF(33,"lujandev.com"),e.k0s()(),e.j41(34,"div",24)(35,"a",25),e.EFF(36,"Documentation"),e.k0s(),e.j41(37,"a",25),e.EFF(38,"Support"),e.k0s(),e.j41(39,"a",25),e.EFF(40,"Service status"),e.k0s()()()()(),e.DNE(41,wh,17,0,"div",26),e.k0s()),2&c&&(e.R7$(20),e.Y8G("ngIf",!d.isLoading),e.R7$(1),e.Y8G("ngIf",d.isAuthenticated&&d.currentTenant),e.R7$(3),e.Y8G("ngIf",d.isLoading),e.R7$(1),e.Y8G("ngIf",!d.isLoading&&d.error),e.R7$(1),e.Y8G("ngIf",!d.isLoading&&!d.error),e.R7$(15),e.Y8G("ngIf",d.showEarlyAccessModal))},dependencies:[C.Sq,C.bT],styles:[".mvps-hub[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background:#ffffff}"]})}}return u})()},{path:"login",component:Hs},{path:"register",component:Pr},{path:"select-app",component:wa},{path:"upgrade",component:Oc},{path:"upgrade/success",component:Js},{path:"preview/productclip",component:Td,data:{moduleKey:"productclip",title:"ProductClip - Preview",description:"Transform product photos into scroll-stopping video clips"}},{path:"preview/inbox-zero",component:mh,data:{moduleKey:"inbox-zero",title:"Inbox Zero - Preview",description:"Turn repetitive customer questions into zero-second responses"}},{path:"preview/:moduleKey",component:md},{path:"app",component:Mc,canActivate:[y],children:[{path:"mailflow",loadChildren:()=>F.e(290).then(F.bind(F,3290)).then(u=>u.MailflowModule)},{path:"smart-chat",loadChildren:()=>F.e(971).then(F.bind(F,1971)).then(u=>u.SmartChatModule)},{path:":moduleKey",children:[{path:"",component:Rl},{path:"account",component:fo}]},{path:":moduleKey",redirectTo:"app/:moduleKey",pathMatch:"full"}]}];let Ga=(()=>{class u{static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({imports:[st.iI.forRoot(Kd),st.iI]})}}return u})(),Ha=(()=>{class u{constructor(){this.title="app-saas"}static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-root"]],decls:1,vars:0,template:function(c,d){1&c&&e.nrm(0,"router-outlet")},dependencies:[st.n3]})}}return u})(),su=(()=>{class u{static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({imports:[C.MD,st.iI,Je.X1,Je.YN]})}}return u})(),au=(()=>{class u{static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275mod=e.$C({type:u,bootstrap:[Ha]})}static{this.\u0275inj=e.G2t({imports:[m.Bb,va,C.MD,ni.q1,Je.X1,Je.YN,Ga,su]})}}return u})();m.sG().bootstrapModule(au).catch(u=>console.error(u))},4412:(rt,_e,F)=>{F.d(_e,{t:()=>e});var m=F(1413);class e extends m.B{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const J=super._subscribe(ce);return!J.closed&&ce.next(this._value),J}getValue(){const{hasError:ce,thrownError:J,_value:oe}=this;if(ce)throw J;return this._throwIfClosed(),oe}next(ce){super.next(this._value=ce)}}},1985:(rt,_e,F)=>{F.d(_e,{c:()=>ie});var m=F(7707),e=F(8359),pe=F(3494),ce=F(1203),J=F(1026),oe=F(8071),me=F(9786);let ie=(()=>{class Ce{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const He=new Ce;return He.source=this,He.operator=xe,He}subscribe(xe,He,jt){const St=function ee(Ce){return Ce&&Ce instanceof m.vU||function se(Ce){return Ce&&(0,oe.T)(Ce.next)&&(0,oe.T)(Ce.error)&&(0,oe.T)(Ce.complete)}(Ce)&&(0,e.Uv)(Ce)}(xe)?xe:new m.Ms(xe,He,jt);return(0,me.Y)(()=>{const{operator:Vt,source:Lt}=this;St.add(Vt?Vt.call(St,Lt):Lt?this._subscribe(St):this._trySubscribe(St))}),St}_trySubscribe(xe){try{return this._subscribe(xe)}catch(He){xe.error(He)}}forEach(xe,He){return new(He=re(He))((jt,St)=>{const Vt=new m.Ms({next:Lt=>{try{xe(Lt)}catch(Qt){St(Qt),Vt.unsubscribe()}},error:St,complete:jt});this.subscribe(Vt)})}_subscribe(xe){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(xe)}[pe.s](){return this}pipe(...xe){return(0,ce.m)(xe)(this)}toPromise(xe){return new(xe=re(xe))((He,jt)=>{let St;this.subscribe(Vt=>St=Vt,Vt=>jt(Vt),()=>He(St))})}}return Ce.create=Re=>new Ce(Re),Ce})();function re(Ce){var Re;return null!==(Re=Ce??J.$.Promise)&&void 0!==Re?Re:Promise}},1413:(rt,_e,F)=>{F.d(_e,{B:()=>me});var m=F(1985),e=F(8359);const ce=(0,F(1853).L)(re=>function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=F(7908),oe=F(9786);let me=(()=>{class re extends m.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const Ce=new ie(this,this);return Ce.operator=ee,Ce}_throwIfClosed(){if(this.closed)throw new ce}next(ee){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(ee)}})}error(ee){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(ee)}})}complete(){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:Ce,isStopped:Re,observers:xe}=this;return Ce||Re?e.Kn:(this.currentObservers=null,xe.push(ee),new e.yU(()=>{this.currentObservers=null,(0,J.o)(xe,ee)}))}_checkFinalizedStatuses(ee){const{hasError:Ce,thrownError:Re,isStopped:xe}=this;Ce?ee.error(Re):xe&&ee.complete()}asObservable(){const ee=new m.c;return ee.source=this,ee}}return re.create=(se,ee)=>new ie(se,ee),re})();class ie extends me{constructor(se,ee){super(),this.destination=se,this.source=ee}next(se){var ee,Ce;null===(Ce=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===Ce||Ce.call(ee,se)}error(se){var ee,Ce;null===(Ce=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===Ce||Ce.call(ee,se)}complete(){var se,ee;null===(ee=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===ee||ee.call(se)}_subscribe(se){var ee,Ce;return null!==(Ce=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(se))&&void 0!==Ce?Ce:e.Kn}}},7707:(rt,_e,F)=>{F.d(_e,{Ms:()=>jt,vU:()=>Ce});var m=F(8071),e=F(8359),pe=F(1026),ce=F(5334),J=F(5343);const oe=re("C",void 0,void 0);function re(ve,Se,je){return{kind:ve,value:Se,error:je}}var se=F(9270),ee=F(9786);class Ce extends e.yU{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,e.Uv)(Se)&&Se.add(this)):this.destination=Qt}static create(Se,je,tt){return new jt(Se,je,tt)}next(Se){this.isStopped?Lt(function ie(ve){return re("N",ve,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Lt(function me(ve){return re("E",void 0,ve)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Lt(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function xe(ve,Se){return Re.call(ve,Se)}class He{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:je}=this;if(je.next)try{je.next(Se)}catch(tt){St(tt)}}error(Se){const{partialObserver:je}=this;if(je.error)try{je.error(Se)}catch(tt){St(tt)}else St(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(je){St(je)}}}class jt extends Ce{constructor(Se,je,tt){let ke;if(super(),(0,m.T)(Se)||!Se)ke={next:Se??void 0,error:je??void 0,complete:tt??void 0};else{let Oe;this&&pe.$.useDeprecatedNextContext?(Oe=Object.create(Se),Oe.unsubscribe=()=>this.unsubscribe(),ke={next:Se.next&&xe(Se.next,Oe),error:Se.error&&xe(Se.error,Oe),complete:Se.complete&&xe(Se.complete,Oe)}):ke=Se}this.destination=new He(ke)}}function St(ve){pe.$.useDeprecatedSynchronousErrorHandling?(0,ee.l)(ve):(0,ce.m)(ve)}function Lt(ve,Se){const{onStoppedNotification:je}=pe.$;je&&se.f.setTimeout(()=>je(ve,Se))}const Qt={closed:!0,next:J.l,error:function Vt(ve){throw ve},complete:J.l}},8359:(rt,_e,F)=>{F.d(_e,{Kn:()=>oe,yU:()=>J,Uv:()=>me});var m=F(8071);const pe=(0,F(1853).L)(re=>function(ee){re(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((Ce,Re)=>`${Re+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ce=F(7908);class J{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const xe of ee)xe.remove(this);else ee.remove(this);const{initialTeardown:Ce}=this;if((0,m.T)(Ce))try{Ce()}catch(xe){se=xe instanceof pe?xe.errors:[xe]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const xe of Re)try{ie(xe)}catch(He){se=se??[],He instanceof pe?se=[...se,...He.errors]:se.push(He)}}if(se)throw new pe(se)}}add(se){var ee;if(se&&se!==this)if(this.closed)ie(se);else{if(se instanceof J){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(se)}}_hasParent(se){const{_parentage:ee}=this;return ee===se||Array.isArray(ee)&&ee.includes(se)}_addParent(se){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(se),ee):ee?[ee,se]:se}_removeParent(se){const{_parentage:ee}=this;ee===se?this._parentage=null:Array.isArray(ee)&&(0,ce.o)(ee,se)}remove(se){const{_finalizers:ee}=this;ee&&(0,ce.o)(ee,se),se instanceof J&&se._removeParent(this)}}J.EMPTY=(()=>{const re=new J;return re.closed=!0,re})();const oe=J.EMPTY;function me(re){return re instanceof J||re&&"closed"in re&&(0,m.T)(re.remove)&&(0,m.T)(re.add)&&(0,m.T)(re.unsubscribe)}function ie(re){(0,m.T)(re)?re():re.unsubscribe()}},1026:(rt,_e,F)=>{F.d(_e,{$:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(rt,_e,F)=>{F.d(_e,{w:()=>e});const e=new(F(1985).c)(J=>J.complete())},6648:(rt,_e,F)=>{F.d(_e,{H:()=>tt});var m=F(8750),e=F(5225),pe=F(9974),ce=F(4360);function J(ke,Oe=0){return(0,pe.N)((Ee,nt)=>{Ee.subscribe((0,ce._)(nt,Gt=>(0,e.N)(nt,ke,()=>nt.next(Gt),Oe),()=>(0,e.N)(nt,ke,()=>nt.complete(),Oe),Gt=>(0,e.N)(nt,ke,()=>nt.error(Gt),Oe)))})}function oe(ke,Oe=0){return(0,pe.N)((Ee,nt)=>{nt.add(ke.schedule(()=>Ee.subscribe(nt),Oe))})}var re=F(1985),ee=F(4761),Ce=F(8071);function xe(ke,Oe){if(!ke)throw new Error("Iterable cannot be null");return new re.c(Ee=>{(0,e.N)(Ee,Oe,()=>{const nt=ke[Symbol.asyncIterator]();(0,e.N)(Ee,Oe,()=>{nt.next().then(Gt=>{Gt.done?Ee.complete():Ee.next(Gt.value)})},0,!0)})})}var He=F(5055),jt=F(9858),St=F(7441),Vt=F(5397),Lt=F(7953),Qt=F(591),ve=F(5196);function tt(ke,Oe){return Oe?function je(ke,Oe){if(null!=ke){if((0,He.l)(ke))return function me(ke,Oe){return(0,m.Tg)(ke).pipe(oe(Oe),J(Oe))}(ke,Oe);if((0,St.X)(ke))return function se(ke,Oe){return new re.c(Ee=>{let nt=0;return Oe.schedule(function(){nt===ke.length?Ee.complete():(Ee.next(ke[nt++]),Ee.closed||this.schedule())})})}(ke,Oe);if((0,jt.y)(ke))return function ie(ke,Oe){return(0,m.Tg)(ke).pipe(oe(Oe),J(Oe))}(ke,Oe);if((0,Lt.T)(ke))return xe(ke,Oe);if((0,Vt.x)(ke))return function Re(ke,Oe){return new re.c(Ee=>{let nt;return(0,e.N)(Ee,Oe,()=>{nt=ke[ee.l](),(0,e.N)(Ee,Oe,()=>{let Gt,Mn;try{({value:Gt,done:Mn}=nt.next())}catch(Hn){return void Ee.error(Hn)}Mn?Ee.complete():Ee.next(Gt)},0,!0)}),()=>(0,Ce.T)(nt?.return)&&nt.return()})}(ke,Oe);if((0,ve.U)(ke))return function Se(ke,Oe){return xe((0,ve.C)(ke),Oe)}(ke,Oe)}throw(0,Qt.L)(ke)}(ke,Oe):(0,m.Tg)(ke)}},8750:(rt,_e,F)=>{F.d(_e,{Tg:()=>Re});var m=F(1635),e=F(7441),pe=F(9858),ce=F(1985),J=F(5055),oe=F(7953),me=F(591),ie=F(5397),re=F(5196),se=F(8071),ee=F(5334),Ce=F(3494);function Re(ve){if(ve instanceof ce.c)return ve;if(null!=ve){if((0,J.l)(ve))return function xe(ve){return new ce.c(Se=>{const je=ve[Ce.s]();if((0,se.T)(je.subscribe))return je.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,e.X)(ve))return function He(ve){return new ce.c(Se=>{for(let je=0;je<ve.length&&!Se.closed;je++)Se.next(ve[je]);Se.complete()})}(ve);if((0,pe.y)(ve))return function jt(ve){return new ce.c(Se=>{ve.then(je=>{Se.closed||(Se.next(je),Se.complete())},je=>Se.error(je)).then(null,ee.m)})}(ve);if((0,oe.T)(ve))return Vt(ve);if((0,ie.x)(ve))return function St(ve){return new ce.c(Se=>{for(const je of ve)if(Se.next(je),Se.closed)return;Se.complete()})}(ve);if((0,re.U)(ve))return function Lt(ve){return Vt((0,re.C)(ve))}(ve)}throw(0,me.L)(ve)}function Vt(ve){return new ce.c(Se=>{(function Qt(ve,Se){var je,tt,ke,Oe;return(0,m.sH)(this,void 0,void 0,function*(){try{for(je=(0,m.xN)(ve);!(tt=yield je.next()).done;)if(Se.next(tt.value),Se.closed)return}catch(Ee){ke={error:Ee}}finally{try{tt&&!tt.done&&(Oe=je.return)&&(yield Oe.call(je))}finally{if(ke)throw ke.error}}Se.complete()})})(ve,Se).catch(je=>Se.error(je))})}},7673:(rt,_e,F)=>{F.d(_e,{of:()=>pe});var m=F(9326),e=F(6648);function pe(...ce){const J=(0,m.lI)(ce);return(0,e.H)(ce,J)}},8810:(rt,_e,F)=>{F.d(_e,{$:()=>pe});var m=F(1985),e=F(8071);function pe(ce,J){const oe=(0,e.T)(ce)?ce:()=>ce,me=ie=>ie.error(oe());return new m.c(J?ie=>J.schedule(me,0,ie):me)}},4360:(rt,_e,F)=>{F.d(_e,{_:()=>e});var m=F(7707);function e(ce,J,oe,me,ie){return new pe(ce,J,oe,me,ie)}class pe extends m.vU{constructor(J,oe,me,ie,re,se){super(J),this.onFinalize=re,this.shouldUnsubscribe=se,this._next=oe?function(ee){try{oe(ee)}catch(Ce){J.error(Ce)}}:super._next,this._error=ie?function(ee){try{ie(ee)}catch(Ce){J.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ee){J.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},9437:(rt,_e,F)=>{F.d(_e,{W:()=>ce});var m=F(8750),e=F(4360),pe=F(9974);function ce(J){return(0,pe.N)((oe,me)=>{let se,ie=null,re=!1;ie=oe.subscribe((0,e._)(me,void 0,void 0,ee=>{se=(0,m.Tg)(J(ee,ce(J)(oe))),ie?(ie.unsubscribe(),ie=null,se.subscribe(me)):re=!0})),re&&(ie.unsubscribe(),ie=null,se.subscribe(me))})}},274:(rt,_e,F)=>{F.d(_e,{H:()=>pe});var m=F(1397),e=F(8071);function pe(ce,J){return(0,e.T)(J)?(0,m.Z)(ce,J,1):(0,m.Z)(ce,1)}},5964:(rt,_e,F)=>{F.d(_e,{p:()=>pe});var m=F(9974),e=F(4360);function pe(ce,J){return(0,m.N)((oe,me)=>{let ie=0;oe.subscribe((0,e._)(me,re=>ce.call(J,re,ie++)&&me.next(re)))})}},980:(rt,_e,F)=>{F.d(_e,{j:()=>e});var m=F(9974);function e(pe){return(0,m.N)((ce,J)=>{try{ce.subscribe(J)}finally{J.add(pe)}})}},6354:(rt,_e,F)=>{F.d(_e,{T:()=>pe});var m=F(9974),e=F(4360);function pe(ce,J){return(0,m.N)((oe,me)=>{let ie=0;oe.subscribe((0,e._)(me,re=>{me.next(ce.call(J,re,ie++))}))})}},6365:(rt,_e,F)=>{F.d(_e,{U:()=>pe});var m=F(1397),e=F(3669);function pe(ce=1/0){return(0,m.Z)(e.D,ce)}},1397:(rt,_e,F)=>{F.d(_e,{Z:()=>ie});var m=F(6354),e=F(8750),pe=F(9974),ce=F(5225),J=F(4360),me=F(8071);function ie(re,se,ee=1/0){return(0,me.T)(se)?ie((Ce,Re)=>(0,m.T)((xe,He)=>se(Ce,xe,Re,He))((0,e.Tg)(re(Ce,Re))),ee):("number"==typeof se&&(ee=se),(0,pe.N)((Ce,Re)=>function oe(re,se,ee,Ce,Re,xe,He,jt){const St=[];let Vt=0,Lt=0,Qt=!1;const ve=()=>{Qt&&!St.length&&!Vt&&se.complete()},Se=tt=>Vt<Ce?je(tt):St.push(tt),je=tt=>{xe&&se.next(tt),Vt++;let ke=!1;(0,e.Tg)(ee(tt,Lt++)).subscribe((0,J._)(se,Oe=>{Re?.(Oe),xe?Se(Oe):se.next(Oe)},()=>{ke=!0},void 0,()=>{if(ke)try{for(Vt--;St.length&&Vt<Ce;){const Oe=St.shift();He?(0,ce.N)(se,He,()=>je(Oe)):je(Oe)}ve()}catch(Oe){se.error(Oe)}}))};return re.subscribe((0,J._)(se,Se,()=>{Qt=!0,ve()})),()=>{jt?.()}}(Ce,Re,re,ee)))}},5558:(rt,_e,F)=>{F.d(_e,{n:()=>ce});var m=F(8750),e=F(9974),pe=F(4360);function ce(J,oe){return(0,e.N)((me,ie)=>{let re=null,se=0,ee=!1;const Ce=()=>ee&&!re&&ie.complete();me.subscribe((0,pe._)(ie,Re=>{re?.unsubscribe();let xe=0;const He=se++;(0,m.Tg)(J(Re,He)).subscribe(re=(0,pe._)(ie,jt=>ie.next(oe?oe(Re,jt,He,xe++):jt),()=>{re=null,Ce()}))},()=>{ee=!0,Ce()}))})}},6697:(rt,_e,F)=>{F.d(_e,{s:()=>ce});var m=F(983),e=F(9974),pe=F(4360);function ce(J){return J<=0?()=>m.w:(0,e.N)((oe,me)=>{let ie=0;oe.subscribe((0,pe._)(me,re=>{++ie<=J&&(me.next(re),J<=ie&&me.complete())}))})}},6977:(rt,_e,F)=>{F.d(_e,{Q:()=>J});var m=F(9974),e=F(4360),pe=F(8750),ce=F(5343);function J(oe){return(0,m.N)((me,ie)=>{(0,pe.Tg)(oe).subscribe((0,e._)(ie,()=>ie.complete(),ce.l)),!ie.closed&&me.subscribe(ie)})}},8141:(rt,_e,F)=>{F.d(_e,{M:()=>J});var m=F(8071),e=F(9974),pe=F(4360),ce=F(3669);function J(oe,me,ie){const re=(0,m.T)(oe)||me||ie?{next:oe,error:me,complete:ie}:oe;return re?(0,e.N)((se,ee)=>{var Ce;null===(Ce=re.subscribe)||void 0===Ce||Ce.call(re);let Re=!0;se.subscribe((0,pe._)(ee,xe=>{var He;null===(He=re.next)||void 0===He||He.call(re,xe),ee.next(xe)},()=>{var xe;Re=!1,null===(xe=re.complete)||void 0===xe||xe.call(re),ee.complete()},xe=>{var He;Re=!1,null===(He=re.error)||void 0===He||He.call(re,xe),ee.error(xe)},()=>{var xe,He;Re&&(null===(xe=re.unsubscribe)||void 0===xe||xe.call(re)),null===(He=re.finalize)||void 0===He||He.call(re)}))}):ce.D}},9270:(rt,_e,F)=>{F.d(_e,{f:()=>m});const m={setTimeout(e,pe,...ce){const{delegate:J}=m;return J?.setTimeout?J.setTimeout(e,pe,...ce):setTimeout(e,pe,...ce)},clearTimeout(e){const{delegate:pe}=m;return(pe?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(rt,_e,F)=>{F.d(_e,{l:()=>e});const e=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(rt,_e,F)=>{F.d(_e,{s:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(rt,_e,F)=>{F.d(_e,{R0:()=>oe,lI:()=>J,ms:()=>ce});var m=F(8071),e=F(9470);function pe(me){return me[me.length-1]}function ce(me){return(0,m.T)(pe(me))?me.pop():void 0}function J(me){return(0,e.m)(pe(me))?me.pop():void 0}function oe(me,ie){return"number"==typeof pe(me)?me.pop():ie}},3073:(rt,_e,F)=>{F.d(_e,{D:()=>J});const{isArray:m}=Array,{getPrototypeOf:e,prototype:pe,keys:ce}=Object;function J(me){if(1===me.length){const ie=me[0];if(m(ie))return{args:ie,keys:null};if(function oe(me){return me&&"object"==typeof me&&e(me)===pe}(ie)){const re=ce(ie);return{args:re.map(se=>ie[se]),keys:re}}}return{args:me,keys:null}}},7908:(rt,_e,F)=>{function m(e,pe){if(e){const ce=e.indexOf(pe);0<=ce&&e.splice(ce,1)}}F.d(_e,{o:()=>m})},1853:(rt,_e,F)=>{function m(e){const ce=e(J=>{Error.call(J),J.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}F.d(_e,{L:()=>m})},8496:(rt,_e,F)=>{function m(e,pe){return e.reduce((ce,J,oe)=>(ce[J]=pe[oe],ce),{})}F.d(_e,{e:()=>m})},9786:(rt,_e,F)=>{F.d(_e,{Y:()=>pe,l:()=>ce});var m=F(1026);let e=null;function pe(J){if(m.$.useDeprecatedSynchronousErrorHandling){const oe=!e;if(oe&&(e={errorThrown:!1,error:null}),J(),oe){const{errorThrown:me,error:ie}=e;if(e=null,me)throw ie}}else J()}function ce(J){m.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=J)}},5225:(rt,_e,F)=>{function m(e,pe,ce,J=0,oe=!1){const me=pe.schedule(function(){ce(),oe?e.add(this.schedule(null,J)):this.unsubscribe()},J);if(e.add(me),!oe)return me}F.d(_e,{N:()=>m})},3669:(rt,_e,F)=>{function m(e){return e}F.d(_e,{D:()=>m})},7441:(rt,_e,F)=>{F.d(_e,{X:()=>m});const m=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(rt,_e,F)=>{F.d(_e,{T:()=>e});var m=F(8071);function e(pe){return Symbol.asyncIterator&&(0,m.T)(pe?.[Symbol.asyncIterator])}},8071:(rt,_e,F)=>{function m(e){return"function"==typeof e}F.d(_e,{T:()=>m})},5055:(rt,_e,F)=>{F.d(_e,{l:()=>pe});var m=F(3494),e=F(8071);function pe(ce){return(0,e.T)(ce[m.s])}},5397:(rt,_e,F)=>{F.d(_e,{x:()=>pe});var m=F(4761),e=F(8071);function pe(ce){return(0,e.T)(ce?.[m.l])}},9858:(rt,_e,F)=>{F.d(_e,{y:()=>e});var m=F(8071);function e(pe){return(0,m.T)(pe?.then)}},5196:(rt,_e,F)=>{F.d(_e,{C:()=>pe,U:()=>ce});var m=F(1635),e=F(8071);function pe(J){return(0,m.AQ)(this,arguments,function*(){const me=J.getReader();try{for(;;){const{value:ie,done:re}=yield(0,m.N3)(me.read());if(re)return yield(0,m.N3)(void 0);yield yield(0,m.N3)(ie)}}finally{me.releaseLock()}})}function ce(J){return(0,e.T)(J?.getReader)}},9470:(rt,_e,F)=>{F.d(_e,{m:()=>e});var m=F(8071);function e(pe){return pe&&(0,m.T)(pe.schedule)}},9974:(rt,_e,F)=>{F.d(_e,{N:()=>pe,S:()=>e});var m=F(8071);function e(ce){return(0,m.T)(ce?.lift)}function pe(ce){return J=>{if(e(J))return J.lift(function(oe){try{return ce(oe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(rt,_e,F)=>{F.d(_e,{I:()=>ce});var m=F(6354);const{isArray:e}=Array;function ce(J){return(0,m.T)(oe=>function pe(J,oe){return e(oe)?J(...oe):J(oe)}(J,oe))}},5343:(rt,_e,F)=>{function m(){}F.d(_e,{l:()=>m})},1203:(rt,_e,F)=>{F.d(_e,{F:()=>e,m:()=>pe});var m=F(3669);function e(...ce){return pe(ce)}function pe(ce){return 0===ce.length?m.D:1===ce.length?ce[0]:function(oe){return ce.reduce((me,ie)=>ie(me),oe)}}},5334:(rt,_e,F)=>{F.d(_e,{m:()=>pe});var m=F(1026),e=F(9270);function pe(ce){e.f.setTimeout(()=>{const{onUnhandledError:J}=m.$;if(!J)throw ce;J(ce)})}},591:(rt,_e,F)=>{function m(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(_e,{L:()=>m})},177:(rt,_e,F)=>{F.d(_e,{AJ:()=>Di,MD:()=>to,N0:()=>fi,P9:()=>Fn,PV:()=>bo,QT:()=>pe,Sm:()=>He,Sq:()=>qn,VF:()=>J,Vy:()=>mt,Xr:()=>Sn,YU:()=>$t,ZD:()=>ce,_b:()=>ci,aZ:()=>St,bT:()=>Vr,e1:()=>$r,fw:()=>jt,hb:()=>Re,hj:()=>ie,qQ:()=>oe,ux:()=>Qn,vh:()=>li});var m=F(540);let e=null;function pe(){return e}function ce(_){e||(e=_)}class J{}const oe=new m.nKC("DocumentToken");let me=(()=>{class _{historyGo(E){throw new Error("Not implemented")}static{this.\u0275fac=function(O){return new(O||_)}}static{this.\u0275prov=m.jDH({token:_,factory:function(){return(0,m.WQX)(re)},providedIn:"platform"})}}return _})();const ie=new m.nKC("Location Initialized");let re=(()=>{class _ extends me{constructor(){super(),this._doc=(0,m.WQX)(oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pe().getBaseHref(this._doc)}onPopState(E){const O=pe().getGlobalEventTarget(this._doc,"window");return O.addEventListener("popstate",E,!1),()=>O.removeEventListener("popstate",E)}onHashChange(E){const O=pe().getGlobalEventTarget(this._doc,"window");return O.addEventListener("hashchange",E,!1),()=>O.removeEventListener("hashchange",E)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(E){this._location.pathname=E}pushState(E,O,j){this._history.pushState(E,O,j)}replaceState(E,O,j){this._history.replaceState(E,O,j)}forward(){this._history.forward()}back(){this._history.back()}historyGo(E=0){this._history.go(E)}getState(){return this._history.state}static{this.\u0275fac=function(O){return new(O||_)}}static{this.\u0275prov=m.jDH({token:_,factory:function(){return new _},providedIn:"platform"})}}return _})();function se(_,I){if(0==_.length)return I;if(0==I.length)return _;let E=0;return _.endsWith("/")&&E++,I.startsWith("/")&&E++,2==E?_+I.substring(1):1==E?_+I:_+"/"+I}function ee(_){const I=_.match(/#|\?|$/),E=I&&I.index||_.length;return _.slice(0,E-("/"===_[E-1]?1:0))+_.slice(E)}function Ce(_){return _&&"?"!==_[0]?"?"+_:_}let Re=(()=>{class _{historyGo(E){throw new Error("Not implemented")}static{this.\u0275fac=function(O){return new(O||_)}}static{this.\u0275prov=m.jDH({token:_,factory:function(){return(0,m.WQX)(He)},providedIn:"root"})}}return _})();const xe=new m.nKC("appBaseHref");let He=(()=>{class _ extends Re{constructor(E,O){super(),this._platformLocation=E,this._removeListenerFns=[],this._baseHref=O??this._platformLocation.getBaseHrefFromDOM()??(0,m.WQX)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(E){this._removeListenerFns.push(this._platformLocation.onPopState(E),this._platformLocation.onHashChange(E))}getBaseHref(){return this._baseHref}prepareExternalUrl(E){return se(this._baseHref,E)}path(E=!1){const O=this._platformLocation.pathname+Ce(this._platformLocation.search),j=this._platformLocation.hash;return j&&E?`${O}${j}`:O}pushState(E,O,j,ne){const ge=this.prepareExternalUrl(j+Ce(ne));this._platformLocation.pushState(E,O,ge)}replaceState(E,O,j,ne){const ge=this.prepareExternalUrl(j+Ce(ne));this._platformLocation.replaceState(E,O,ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(E=0){this._platformLocation.historyGo?.(E)}static{this.\u0275fac=function(O){return new(O||_)(m.KVO(me),m.KVO(xe,8))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})(),jt=(()=>{class _ extends Re{constructor(E,O){super(),this._platformLocation=E,this._baseHref="",this._removeListenerFns=[],null!=O&&(this._baseHref=O)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(E){this._removeListenerFns.push(this._platformLocation.onPopState(E),this._platformLocation.onHashChange(E))}getBaseHref(){return this._baseHref}path(E=!1){let O=this._platformLocation.hash;return null==O&&(O="#"),O.length>0?O.substring(1):O}prepareExternalUrl(E){const O=se(this._baseHref,E);return O.length>0?"#"+O:O}pushState(E,O,j,ne){let ge=this.prepareExternalUrl(j+Ce(ne));0==ge.length&&(ge=this._platformLocation.pathname),this._platformLocation.pushState(E,O,ge)}replaceState(E,O,j,ne){let ge=this.prepareExternalUrl(j+Ce(ne));0==ge.length&&(ge=this._platformLocation.pathname),this._platformLocation.replaceState(E,O,ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(E=0){this._platformLocation.historyGo?.(E)}static{this.\u0275fac=function(O){return new(O||_)(m.KVO(me),m.KVO(xe,8))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac})}}return _})(),St=(()=>{class _{constructor(E){this._subject=new m.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=E;const O=this._locationStrategy.getBaseHref();this._basePath=function ve(_){if(new RegExp("^(https?:)?//").test(_)){const[,E]=_.split(/\/\/[^\/]+/);return E}return _}(ee(Qt(O))),this._locationStrategy.onPopState(j=>{this._subject.emit({url:this.path(!0),pop:!0,state:j.state,type:j.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(E=!1){return this.normalize(this._locationStrategy.path(E))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(E,O=""){return this.path()==this.normalize(E+Ce(O))}normalize(E){return _.stripTrailingSlash(function Lt(_,I){if(!_||!I.startsWith(_))return I;const E=I.substring(_.length);return""===E||["/",";","?","#"].includes(E[0])?E:I}(this._basePath,Qt(E)))}prepareExternalUrl(E){return E&&"/"!==E[0]&&(E="/"+E),this._locationStrategy.prepareExternalUrl(E)}go(E,O="",j=null){this._locationStrategy.pushState(j,"",E,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(E+Ce(O)),j)}replaceState(E,O="",j=null){this._locationStrategy.replaceState(j,"",E,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(E+Ce(O)),j)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(E=0){this._locationStrategy.historyGo?.(E)}onUrlChange(E){return this._urlChangeListeners.push(E),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(O=>{this._notifyUrlChangeListeners(O.url,O.state)})),()=>{const O=this._urlChangeListeners.indexOf(E);this._urlChangeListeners.splice(O,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(E="",O){this._urlChangeListeners.forEach(j=>j(E,O))}subscribe(E,O,j){return this._subject.subscribe({next:E,error:O,complete:j})}static{this.normalizeQueryParams=Ce}static{this.joinWithSlash=se}static{this.stripTrailingSlash=ee}static{this.\u0275fac=function(O){return new(O||_)(m.KVO(Re))}}static{this.\u0275prov=m.jDH({token:_,factory:function(){return function Vt(){return new St((0,m.KVO)(Re))}()},providedIn:"root"})}}return _})();function Qt(_){return _.replace(/\/index.html$/,"")}var ke=function(_){return _[_.Format=0]="Format",_[_.Standalone=1]="Standalone",_}(ke||{}),Oe=function(_){return _[_.Narrow=0]="Narrow",_[_.Abbreviated=1]="Abbreviated",_[_.Wide=2]="Wide",_[_.Short=3]="Short",_}(Oe||{}),Ee=function(_){return _[_.Short=0]="Short",_[_.Medium=1]="Medium",_[_.Long=2]="Long",_[_.Full=3]="Full",_}(Ee||{}),nt=function(_){return _[_.Decimal=0]="Decimal",_[_.Group=1]="Group",_[_.List=2]="List",_[_.PercentSign=3]="PercentSign",_[_.PlusSign=4]="PlusSign",_[_.MinusSign=5]="MinusSign",_[_.Exponential=6]="Exponential",_[_.SuperscriptingExponent=7]="SuperscriptingExponent",_[_.PerMille=8]="PerMille",_[_.Infinity=9]="Infinity",_[_.NaN=10]="NaN",_[_.TimeSeparator=11]="TimeSeparator",_[_.CurrencyDecimal=12]="CurrencyDecimal",_[_.CurrencyGroup=13]="CurrencyGroup",_}(nt||{});function Kr(_,I){return _t((0,m.H5H)(_)[m.KH2.DateFormat],I)}function Y(_,I){return _t((0,m.H5H)(_)[m.KH2.TimeFormat],I)}function Z(_,I){return _t((0,m.H5H)(_)[m.KH2.DateTimeFormat],I)}function Q(_,I){const E=(0,m.H5H)(_),O=E[m.KH2.NumberSymbols][I];if(typeof O>"u"){if(I===nt.CurrencyDecimal)return E[m.KH2.NumberSymbols][nt.Decimal];if(I===nt.CurrencyGroup)return E[m.KH2.NumberSymbols][nt.Group]}return O}function at(_){if(!_[m.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${_[m.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _t(_,I){for(let E=I;E>-1;E--)if(typeof _[E]<"u")return _[E];throw new Error("Locale data API: locale data undefined")}function _n(_){const[I,E]=_.split(":");return{hours:+I,minutes:+E}}const Un=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yr={},Ft=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vr=function(_){return _[_.Short=0]="Short",_[_.ShortGMT=1]="ShortGMT",_[_.Long=2]="Long",_[_.Extended=3]="Extended",_}(vr||{}),dt=function(_){return _[_.FullYear=0]="FullYear",_[_.Month=1]="Month",_[_.Date=2]="Date",_[_.Hours=3]="Hours",_[_.Minutes=4]="Minutes",_[_.Seconds=5]="Seconds",_[_.FractionalSeconds=6]="FractionalSeconds",_[_.Day=7]="Day",_}(dt||{}),it=function(_){return _[_.DayPeriods=0]="DayPeriods",_[_.Days=1]="Days",_[_.Months=2]="Months",_[_.Eras=3]="Eras",_}(it||{});function Ir(_,I,E,O){let j=function le(_){if(V(_))return _;if("number"==typeof _&&!isNaN(_))return new Date(_);if("string"==typeof _){if(_=_.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_)){const[j,ne=1,ge=1]=_.split("-").map(qe=>+qe);return Wn(j,ne-1,ge)}const E=parseFloat(_);if(!isNaN(_-E))return new Date(E);let O;if(O=_.match(Un))return function X(_){const I=new Date(0);let E=0,O=0;const j=_[8]?I.setUTCFullYear:I.setFullYear,ne=_[8]?I.setUTCHours:I.setHours;_[9]&&(E=Number(_[9]+_[10]),O=Number(_[9]+_[11])),j.call(I,Number(_[1]),Number(_[2])-1,Number(_[3]));const ge=Number(_[4]||0)-E,qe=Number(_[5]||0)-O,un=Number(_[6]||0),dn=Math.floor(1e3*parseFloat("0."+(_[7]||0)));return ne.call(I,ge,qe,un,dn),I}(O)}const I=new Date(_);if(!V(I))throw new Error(`Unable to convert "${_}" into a date`);return I}(_);I=vn(E,I)||I;let qe,ge=[];for(;I;){if(qe=Ft.exec(I),!qe){ge.push(I);break}{ge=ge.concat(qe.slice(1));const Wt=ge.pop();if(!Wt)break;I=Wt}}let un=j.getTimezoneOffset();O&&(un=Xn(O,un),j=function fr(_,I,E){const O=E?-1:1,j=_.getTimezoneOffset();return function Jr(_,I){return(_=new Date(_.getTime())).setMinutes(_.getMinutes()+I),_}(_,O*(Xn(I,j)-j))}(j,O,!0));let dn="";return ge.forEach(Wt=>{const Ot=function rr(_){if(vt[_])return vt[_];let I;switch(_){case"G":case"GG":case"GGG":I=ze(it.Eras,Oe.Abbreviated);break;case"GGGG":I=ze(it.Eras,Oe.Wide);break;case"GGGGG":I=ze(it.Eras,Oe.Narrow);break;case"y":I=en(dt.FullYear,1,0,!1,!0);break;case"yy":I=en(dt.FullYear,2,0,!0,!0);break;case"yyy":I=en(dt.FullYear,3,0,!1,!0);break;case"yyyy":I=en(dt.FullYear,4,0,!1,!0);break;case"Y":I=yr(1);break;case"YY":I=yr(2,!0);break;case"YYY":I=yr(3);break;case"YYYY":I=yr(4);break;case"M":case"L":I=en(dt.Month,1,1);break;case"MM":case"LL":I=en(dt.Month,2,1);break;case"MMM":I=ze(it.Months,Oe.Abbreviated);break;case"MMMM":I=ze(it.Months,Oe.Wide);break;case"MMMMM":I=ze(it.Months,Oe.Narrow);break;case"LLL":I=ze(it.Months,Oe.Abbreviated,ke.Standalone);break;case"LLLL":I=ze(it.Months,Oe.Wide,ke.Standalone);break;case"LLLLL":I=ze(it.Months,Oe.Narrow,ke.Standalone);break;case"w":I=_o(1);break;case"ww":I=_o(2);break;case"W":I=_o(1,!0);break;case"d":I=en(dt.Date,1);break;case"dd":I=en(dt.Date,2);break;case"c":case"cc":I=en(dt.Day,1);break;case"ccc":I=ze(it.Days,Oe.Abbreviated,ke.Standalone);break;case"cccc":I=ze(it.Days,Oe.Wide,ke.Standalone);break;case"ccccc":I=ze(it.Days,Oe.Narrow,ke.Standalone);break;case"cccccc":I=ze(it.Days,Oe.Short,ke.Standalone);break;case"E":case"EE":case"EEE":I=ze(it.Days,Oe.Abbreviated);break;case"EEEE":I=ze(it.Days,Oe.Wide);break;case"EEEEE":I=ze(it.Days,Oe.Narrow);break;case"EEEEEE":I=ze(it.Days,Oe.Short);break;case"a":case"aa":case"aaa":I=ze(it.DayPeriods,Oe.Abbreviated);break;case"aaaa":I=ze(it.DayPeriods,Oe.Wide);break;case"aaaaa":I=ze(it.DayPeriods,Oe.Narrow);break;case"b":case"bb":case"bbb":I=ze(it.DayPeriods,Oe.Abbreviated,ke.Standalone,!0);break;case"bbbb":I=ze(it.DayPeriods,Oe.Wide,ke.Standalone,!0);break;case"bbbbb":I=ze(it.DayPeriods,Oe.Narrow,ke.Standalone,!0);break;case"B":case"BB":case"BBB":I=ze(it.DayPeriods,Oe.Abbreviated,ke.Format,!0);break;case"BBBB":I=ze(it.DayPeriods,Oe.Wide,ke.Format,!0);break;case"BBBBB":I=ze(it.DayPeriods,Oe.Narrow,ke.Format,!0);break;case"h":I=en(dt.Hours,1,-12);break;case"hh":I=en(dt.Hours,2,-12);break;case"H":I=en(dt.Hours,1);break;case"HH":I=en(dt.Hours,2);break;case"m":I=en(dt.Minutes,1);break;case"mm":I=en(dt.Minutes,2);break;case"s":I=en(dt.Seconds,1);break;case"ss":I=en(dt.Seconds,2);break;case"S":I=en(dt.FractionalSeconds,1);break;case"SS":I=en(dt.FractionalSeconds,2);break;case"SSS":I=en(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":I=Qr(vr.Short);break;case"ZZZZZ":I=Qr(vr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":I=Qr(vr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":I=Qr(vr.Long);break;default:return null}return vt[_]=I,I}(Wt);dn+=Ot?Ot(j,E,un):"''"===Wt?"'":Wt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),dn}function Wn(_,I,E){const O=new Date(0);return O.setFullYear(_,I,E),O.setHours(0,0,0),O}function vn(_,I){const E=function Mn(_){return(0,m.H5H)(_)[m.KH2.LocaleId]}(_);if(Yr[E]=Yr[E]||{},Yr[E][I])return Yr[E][I];let O="";switch(I){case"shortDate":O=Kr(_,Ee.Short);break;case"mediumDate":O=Kr(_,Ee.Medium);break;case"longDate":O=Kr(_,Ee.Long);break;case"fullDate":O=Kr(_,Ee.Full);break;case"shortTime":O=Y(_,Ee.Short);break;case"mediumTime":O=Y(_,Ee.Medium);break;case"longTime":O=Y(_,Ee.Long);break;case"fullTime":O=Y(_,Ee.Full);break;case"short":const j=vn(_,"shortTime"),ne=vn(_,"shortDate");O=on(Z(_,Ee.Short),[j,ne]);break;case"medium":const ge=vn(_,"mediumTime"),qe=vn(_,"mediumDate");O=on(Z(_,Ee.Medium),[ge,qe]);break;case"long":const un=vn(_,"longTime"),dn=vn(_,"longDate");O=on(Z(_,Ee.Long),[un,dn]);break;case"full":const Wt=vn(_,"fullTime"),Ot=vn(_,"fullDate");O=on(Z(_,Ee.Full),[Wt,Ot])}return O&&(Yr[E][I]=O),O}function on(_,I){return I&&(_=_.replace(/\{([^}]+)}/g,function(E,O){return null!=I&&O in I?I[O]:E})),_}function pn(_,I,E="-",O,j){let ne="";(_<0||j&&_<=0)&&(j?_=1-_:(_=-_,ne=E));let ge=String(_);for(;ge.length<I;)ge="0"+ge;return O&&(ge=ge.slice(ge.length-I)),ne+ge}function en(_,I,E=0,O=!1,j=!1){return function(ne,ge){let qe=function Yi(_,I){switch(_){case dt.FullYear:return I.getFullYear();case dt.Month:return I.getMonth();case dt.Date:return I.getDate();case dt.Hours:return I.getHours();case dt.Minutes:return I.getMinutes();case dt.Seconds:return I.getSeconds();case dt.FractionalSeconds:return I.getMilliseconds();case dt.Day:return I.getDay();default:throw new Error(`Unknown DateType value "${_}".`)}}(_,ne);if((E>0||qe>-E)&&(qe+=E),_===dt.Hours)0===qe&&-12===E&&(qe=12);else if(_===dt.FractionalSeconds)return function bi(_,I){return pn(_,3).substring(0,I)}(qe,I);const un=Q(ge,nt.MinusSign);return pn(qe,I,un,O,j)}}function ze(_,I,E=ke.Format,O=!1){return function(j,ne){return function qr(_,I,E,O,j,ne){switch(E){case it.Months:return function rn(_,I,E){const O=(0,m.H5H)(_),ne=_t([O[m.KH2.MonthsFormat],O[m.KH2.MonthsStandalone]],I);return _t(ne,E)}(I,j,O)[_.getMonth()];case it.Days:return function Te(_,I,E){const O=(0,m.H5H)(_),ne=_t([O[m.KH2.DaysFormat],O[m.KH2.DaysStandalone]],I);return _t(ne,E)}(I,j,O)[_.getDay()];case it.DayPeriods:const ge=_.getHours(),qe=_.getMinutes();if(ne){const dn=function Rt(_){const I=(0,m.H5H)(_);return at(I),(I[m.KH2.ExtraData][2]||[]).map(O=>"string"==typeof O?_n(O):[_n(O[0]),_n(O[1])])}(I),Wt=function Jt(_,I,E){const O=(0,m.H5H)(_);at(O);const ne=_t([O[m.KH2.ExtraData][0],O[m.KH2.ExtraData][1]],I)||[];return _t(ne,E)||[]}(I,j,O),Ot=dn.findIndex(an=>{if(Array.isArray(an)){const[nn,Ln]=an,xi=ge>=nn.hours&&qe>=nn.minutes,ii=ge<Ln.hours||ge===Ln.hours&&qe<Ln.minutes;if(nn.hours<Ln.hours){if(xi&&ii)return!0}else if(xi||ii)return!0}else if(an.hours===ge&&an.minutes===qe)return!0;return!1});if(-1!==Ot)return Wt[Ot]}return function Hn(_,I,E){const O=(0,m.H5H)(_),ne=_t([O[m.KH2.DayPeriodsFormat],O[m.KH2.DayPeriodsStandalone]],I);return _t(ne,E)}(I,j,O)[ge<12?0:1];case it.Eras:return function Ve(_,I){return _t((0,m.H5H)(_)[m.KH2.Eras],I)}(I,O)[_.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${E}`)}}(j,ne,_,I,E,O)}}function Qr(_){return function(I,E,O){const j=-1*O,ne=Q(E,nt.MinusSign),ge=j>0?Math.floor(j/60):Math.ceil(j/60);switch(_){case vr.Short:return(j>=0?"+":"")+pn(ge,2,ne)+pn(Math.abs(j%60),2,ne);case vr.ShortGMT:return"GMT"+(j>=0?"+":"")+pn(ge,1,ne);case vr.Long:return"GMT"+(j>=0?"+":"")+pn(ge,2,ne)+":"+pn(Math.abs(j%60),2,ne);case vr.Extended:return 0===O?"Z":(j>=0?"+":"")+pn(ge,2,ne)+":"+pn(Math.abs(j%60),2,ne);default:throw new Error(`Unknown zone width "${_}"`)}}}const Dn=0,dr=4;function xt(_){return Wn(_.getFullYear(),_.getMonth(),_.getDate()+(dr-_.getDay()))}function _o(_,I=!1){return function(E,O){let j;if(I){const ne=new Date(E.getFullYear(),E.getMonth(),1).getDay()-1,ge=E.getDate();j=1+Math.floor((ge+ne)/7)}else{const ne=xt(E),ge=function Mt(_){const I=Wn(_,Dn,1).getDay();return Wn(_,0,1+(I<=dr?dr:dr+7)-I)}(ne.getFullYear()),qe=ne.getTime()-ge.getTime();j=1+Math.round(qe/6048e5)}return pn(j,_,Q(O,nt.MinusSign))}}function yr(_,I=!1){return function(E,O){return pn(xt(E).getFullYear(),_,Q(O,nt.MinusSign),I)}}const vt={};function Xn(_,I){_=_.replace(/:/g,"");const E=Date.parse("Jan 01, 1970 00:00:00 "+_)/6e4;return isNaN(E)?I:E}function V(_){return _ instanceof Date&&!isNaN(_.valueOf())}function ci(_,I){I=encodeURIComponent(I);for(const E of _.split(";")){const O=E.indexOf("="),[j,ne]=-1==O?[E,""]:[E.slice(0,O),E.slice(O+1)];if(j.trim()===I)return decodeURIComponent(ne)}return null}const pr=/\s+/,ct=[];let $t=(()=>{class _{constructor(E,O,j,ne){this._iterableDiffers=E,this._keyValueDiffers=O,this._ngEl=j,this._renderer=ne,this.initialClasses=ct,this.stateMap=new Map}set klass(E){this.initialClasses=null!=E?E.trim().split(pr):ct}set ngClass(E){this.rawClass="string"==typeof E?E.trim().split(pr):E}ngDoCheck(){for(const O of this.initialClasses)this._updateState(O,!0);const E=this.rawClass;if(Array.isArray(E)||E instanceof Set)for(const O of E)this._updateState(O,!0);else if(null!=E)for(const O of Object.keys(E))this._updateState(O,!!E[O]);this._applyStateDiff()}_updateState(E,O){const j=this.stateMap.get(E);void 0!==j?(j.enabled!==O&&(j.changed=!0,j.enabled=O),j.touched=!0):this.stateMap.set(E,{enabled:O,changed:!0,touched:!0})}_applyStateDiff(){for(const E of this.stateMap){const O=E[0],j=E[1];j.changed?(this._toggleClass(O,j.enabled),j.changed=!1):j.touched||(j.enabled&&this._toggleClass(O,!1),this.stateMap.delete(O)),j.touched=!1}}_toggleClass(E,O){(E=E.trim()).length>0&&E.split(pr).forEach(j=>{O?this._renderer.addClass(this._ngEl.nativeElement,j):this._renderer.removeClass(this._ngEl.nativeElement,j)})}static{this.\u0275fac=function(O){return new(O||_)(m.rXU(m._q3),m.rXU(m.MKu),m.rXU(m.aKT),m.rXU(m.sFG))}}static{this.\u0275dir=m.FsC({type:_,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return _})();class gt{constructor(I,E,O,j){this.$implicit=I,this.ngForOf=E,this.index=O,this.count=j}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class _{set ngForOf(E){this._ngForOf=E,this._ngForOfDirty=!0}set ngForTrackBy(E){this._trackByFn=E}get ngForTrackBy(){return this._trackByFn}constructor(E,O,j){this._viewContainer=E,this._template=O,this._differs=j,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(E){E&&(this._template=E)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const E=this._ngForOf;!this._differ&&E&&(this._differ=this._differs.find(E).create(this.ngForTrackBy))}if(this._differ){const E=this._differ.diff(this._ngForOf);E&&this._applyChanges(E)}}_applyChanges(E){const O=this._viewContainer;E.forEachOperation((j,ne,ge)=>{if(null==j.previousIndex)O.createEmbeddedView(this._template,new gt(j.item,this._ngForOf,-1,-1),null===ge?void 0:ge);else if(null==ge)O.remove(null===ne?void 0:ne);else if(null!==ne){const qe=O.get(ne);O.move(qe,ge),Ci(qe,j)}});for(let j=0,ne=O.length;j<ne;j++){const qe=O.get(j).context;qe.index=j,qe.count=ne,qe.ngForOf=this._ngForOf}E.forEachIdentityChange(j=>{Ci(O.get(j.currentIndex),j)})}static ngTemplateContextGuard(E,O){return!0}static{this.\u0275fac=function(O){return new(O||_)(m.rXU(m.c1b),m.rXU(m.C4Q),m.rXU(m._q3))}}static{this.\u0275dir=m.FsC({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return _})();function Ci(_,I){_.context.$implicit=I.item}let Vr=(()=>{class _{constructor(E,O){this._viewContainer=E,this._context=new Cr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=O}set ngIf(E){this._context.$implicit=this._context.ngIf=E,this._updateView()}set ngIfThen(E){Lr("ngIfThen",E),this._thenTemplateRef=E,this._thenViewRef=null,this._updateView()}set ngIfElse(E){Lr("ngIfElse",E),this._elseTemplateRef=E,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(E,O){return!0}static{this.\u0275fac=function(O){return new(O||_)(m.rXU(m.c1b),m.rXU(m.C4Q))}}static{this.\u0275dir=m.FsC({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return _})();class Cr{constructor(){this.$implicit=null,this.ngIf=null}}function Lr(_,I){if(I&&!I.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,m.Tbb)(I)}'.`)}class qi{constructor(I,E){this._viewContainerRef=I,this._templateRef=E,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(I){I&&!this._created?this.create():!I&&this._created&&this.destroy()}}let Qn=(()=>{class _{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(E){this._ngSwitch=E,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(E){this._defaultViews.push(E)}_matchCase(E){const O=E==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||O,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),O}_updateDefaultCases(E){if(this._defaultViews.length>0&&E!==this._defaultUsed){this._defaultUsed=E;for(const O of this._defaultViews)O.enforceState(E)}}static{this.\u0275fac=function(O){return new(O||_)}}static{this.\u0275dir=m.FsC({type:_,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return _})(),$r=(()=>{class _{constructor(E,O,j){this.ngSwitch=j,j._addCase(),this._view=new qi(E,O)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(O){return new(O||_)(m.rXU(m.c1b),m.rXU(m.C4Q),m.rXU(Qn,9))}}static{this.\u0275dir=m.FsC({type:_,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return _})();function Bn(_,I){return new m.wOt(2100,!1)}const wi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let bo=(()=>{class _{transform(E){if(null==E)return null;if("string"!=typeof E)throw Bn();return E.replace(wi,O=>O[0].toUpperCase()+O.slice(1).toLowerCase())}static{this.\u0275fac=function(O){return new(O||_)}}static{this.\u0275pipe=m.EJ8({name:"titlecase",type:_,pure:!0,standalone:!0})}}return _})();const rs=new m.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),vs=new m.nKC("DATE_PIPE_DEFAULT_OPTIONS");let li=(()=>{class _{constructor(E,O,j){this.locale=E,this.defaultTimezone=O,this.defaultOptions=j}transform(E,O,j,ne){if(null==E||""===E||E!=E)return null;try{return Ir(E,O??this.defaultOptions?.dateFormat??"mediumDate",ne||this.locale,j??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ge){throw Bn()}}static{this.\u0275fac=function(O){return new(O||_)(m.rXU(m.xe9,16),m.rXU(rs,24),m.rXU(vs,24))}}static{this.\u0275pipe=m.EJ8({name:"date",type:_,pure:!0,standalone:!0})}}return _})(),Fn=(()=>{class _{transform(E,O,j){if(null==E)return null;if(!this.supports(E))throw Bn();return E.slice(O,j)}supports(E){return"string"==typeof E||Array.isArray(E)}static{this.\u0275fac=function(O){return new(O||_)}}static{this.\u0275pipe=m.EJ8({name:"slice",type:_,pure:!1,standalone:!0})}}return _})(),to=(()=>{class _{static{this.\u0275fac=function(O){return new(O||_)}}static{this.\u0275mod=m.$C({type:_})}static{this.\u0275inj=m.G2t({})}}return _})();const Di="browser",no="server";function mt(_){return _===no}let Sn=(()=>{class _{static{this.\u0275prov=(0,m.jDH)({token:_,providedIn:"root",factory:()=>new kr((0,m.KVO)(oe),window)})}}return _})();class kr{constructor(I,E){this.document=I,this.window=E,this.offset=()=>[0,0]}setOffset(I){this.offset=Array.isArray(I)?()=>I:I}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(I){this.supportsScrolling()&&this.window.scrollTo(I[0],I[1])}scrollToAnchor(I){if(!this.supportsScrolling())return;const E=function hn(_,I){const E=_.getElementById(I)||_.getElementsByName(I)[0];if(E)return E;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const O=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let j=O.currentNode;for(;j;){const ne=j.shadowRoot;if(ne){const ge=ne.getElementById(I)||ne.querySelector(`[name="${I}"]`);if(ge)return ge}j=O.nextNode()}}return null}(this.document,I);E&&(this.scrollToElement(E),E.focus())}setHistoryScrollRestoration(I){this.supportsScrolling()&&(this.window.history.scrollRestoration=I)}scrollToElement(I){const E=I.getBoundingClientRect(),O=E.left+this.window.pageXOffset,j=E.top+this.window.pageYOffset,ne=this.offset();this.window.scrollTo(O-ne[0],j-ne[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fi{}},1626:(rt,_e,F)=>{F.d(_e,{Lr:()=>Re,Qq:()=>$n,q1:()=>G});var m=F(540),e=F(7673),pe=F(6648),ce=F(1985),J=F(274),oe=F(5964),me=F(6354),ie=F(980),re=F(5558),se=F(177);class ee{}class Ce{}class Re{constructor(L){this.normalizedNames=new Map,this.lazyUpdate=null,L?"string"==typeof L?this.lazyInit=()=>{this.headers=new Map,L.split("\n").forEach(B=>{const de=B.indexOf(":");if(de>0){const De=B.slice(0,de),Le=De.toLowerCase(),Ie=B.slice(de+1).trim();this.maybeSetNormalizedName(De,Le),this.headers.has(Le)?this.headers.get(Le).push(Ie):this.headers.set(Le,[Ie])}})}:typeof Headers<"u"&&L instanceof Headers?(this.headers=new Map,L.forEach((B,de)=>{this.setHeaderEntries(de,B)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(L).forEach(([B,de])=>{this.setHeaderEntries(B,de)})}:this.headers=new Map}has(L){return this.init(),this.headers.has(L.toLowerCase())}get(L){this.init();const B=this.headers.get(L.toLowerCase());return B&&B.length>0?B[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(L){return this.init(),this.headers.get(L.toLowerCase())||null}append(L,B){return this.clone({name:L,value:B,op:"a"})}set(L,B){return this.clone({name:L,value:B,op:"s"})}delete(L,B){return this.clone({name:L,value:B,op:"d"})}maybeSetNormalizedName(L,B){this.normalizedNames.has(B)||this.normalizedNames.set(B,L)}init(){this.lazyInit&&(this.lazyInit instanceof Re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(L=>this.applyUpdate(L)),this.lazyUpdate=null))}copyFrom(L){L.init(),Array.from(L.headers.keys()).forEach(B=>{this.headers.set(B,L.headers.get(B)),this.normalizedNames.set(B,L.normalizedNames.get(B))})}clone(L){const B=new Re;return B.lazyInit=this.lazyInit&&this.lazyInit instanceof Re?this.lazyInit:this,B.lazyUpdate=(this.lazyUpdate||[]).concat([L]),B}applyUpdate(L){const B=L.name.toLowerCase();switch(L.op){case"a":case"s":let de=L.value;if("string"==typeof de&&(de=[de]),0===de.length)return;this.maybeSetNormalizedName(L.name,B);const De=("a"===L.op?this.headers.get(B):void 0)||[];De.push(...de),this.headers.set(B,De);break;case"d":const Le=L.value;if(Le){let Ie=this.headers.get(B);if(!Ie)return;Ie=Ie.filter(Ht=>-1===Le.indexOf(Ht)),0===Ie.length?(this.headers.delete(B),this.normalizedNames.delete(B)):this.headers.set(B,Ie)}else this.headers.delete(B),this.normalizedNames.delete(B)}}setHeaderEntries(L,B){const de=(Array.isArray(B)?B:[B]).map(Le=>Le.toString()),De=L.toLowerCase();this.headers.set(De,de),this.maybeSetNormalizedName(L,De)}forEach(L){this.init(),Array.from(this.normalizedNames.keys()).forEach(B=>L(this.normalizedNames.get(B),this.headers.get(B)))}}class He{encodeKey(L){return Lt(L)}encodeValue(L){return Lt(L)}decodeKey(L){return decodeURIComponent(L)}decodeValue(L){return decodeURIComponent(L)}}const St=/%(\d[a-f0-9])/gi,Vt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lt(W){return encodeURIComponent(W).replace(St,(L,B)=>Vt[B]??L)}function Qt(W){return`${W}`}class ve{constructor(L={}){if(this.updates=null,this.cloneFrom=null,this.encoder=L.encoder||new He,L.fromString){if(L.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jt(W,L){const B=new Map;return W.length>0&&W.replace(/^\?/,"").split("&").forEach(De=>{const Le=De.indexOf("="),[Ie,Ht]=-1==Le?[L.decodeKey(De),""]:[L.decodeKey(De.slice(0,Le)),L.decodeValue(De.slice(Le+1))],Ae=B.get(Ie)||[];Ae.push(Ht),B.set(Ie,Ae)}),B}(L.fromString,this.encoder)}else L.fromObject?(this.map=new Map,Object.keys(L.fromObject).forEach(B=>{const de=L.fromObject[B],De=Array.isArray(de)?de.map(Qt):[Qt(de)];this.map.set(B,De)})):this.map=null}has(L){return this.init(),this.map.has(L)}get(L){this.init();const B=this.map.get(L);return B?B[0]:null}getAll(L){return this.init(),this.map.get(L)||null}keys(){return this.init(),Array.from(this.map.keys())}append(L,B){return this.clone({param:L,value:B,op:"a"})}appendAll(L){const B=[];return Object.keys(L).forEach(de=>{const De=L[de];Array.isArray(De)?De.forEach(Le=>{B.push({param:de,value:Le,op:"a"})}):B.push({param:de,value:De,op:"a"})}),this.clone(B)}set(L,B){return this.clone({param:L,value:B,op:"s"})}delete(L,B){return this.clone({param:L,value:B,op:"d"})}toString(){return this.init(),this.keys().map(L=>{const B=this.encoder.encodeKey(L);return this.map.get(L).map(de=>B+"="+this.encoder.encodeValue(de)).join("&")}).filter(L=>""!==L).join("&")}clone(L){const B=new ve({encoder:this.encoder});return B.cloneFrom=this.cloneFrom||this,B.updates=(this.updates||[]).concat(L),B}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(L=>this.map.set(L,this.cloneFrom.map.get(L))),this.updates.forEach(L=>{switch(L.op){case"a":case"s":const B=("a"===L.op?this.map.get(L.param):void 0)||[];B.push(Qt(L.value)),this.map.set(L.param,B);break;case"d":if(void 0===L.value){this.map.delete(L.param);break}{let de=this.map.get(L.param)||[];const De=de.indexOf(Qt(L.value));-1!==De&&de.splice(De,1),de.length>0?this.map.set(L.param,de):this.map.delete(L.param)}}}),this.cloneFrom=this.updates=null)}}class je{constructor(){this.map=new Map}set(L,B){return this.map.set(L,B),this}get(L){return this.map.has(L)||this.map.set(L,L.defaultValue()),this.map.get(L)}delete(L){return this.map.delete(L),this}has(L){return this.map.has(L)}keys(){return this.map.keys()}}function ke(W){return typeof ArrayBuffer<"u"&&W instanceof ArrayBuffer}function Oe(W){return typeof Blob<"u"&&W instanceof Blob}function Ee(W){return typeof FormData<"u"&&W instanceof FormData}class Gt{constructor(L,B,de,De){let Le;if(this.url=B,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=L.toUpperCase(),function tt(W){switch(W){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||De?(this.body=void 0!==de?de:null,Le=De):Le=de,Le&&(this.reportProgress=!!Le.reportProgress,this.withCredentials=!!Le.withCredentials,Le.responseType&&(this.responseType=Le.responseType),Le.headers&&(this.headers=Le.headers),Le.context&&(this.context=Le.context),Le.params&&(this.params=Le.params)),this.headers||(this.headers=new Re),this.context||(this.context=new je),this.params){const Ie=this.params.toString();if(0===Ie.length)this.urlWithParams=B;else{const Ht=B.indexOf("?");this.urlWithParams=B+(-1===Ht?"?":Ht<B.length-1?"&":"")+Ie}}else this.params=new ve,this.urlWithParams=B}serializeBody(){return null===this.body?null:ke(this.body)||Oe(this.body)||Ee(this.body)||function nt(W){return typeof URLSearchParams<"u"&&W instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ee(this.body)?null:Oe(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(L={}){const B=L.method||this.method,de=L.url||this.url,De=L.responseType||this.responseType,Le=void 0!==L.body?L.body:this.body,Ie=void 0!==L.withCredentials?L.withCredentials:this.withCredentials,Ht=void 0!==L.reportProgress?L.reportProgress:this.reportProgress;let Ae=L.headers||this.headers,fn=L.params||this.params;const Tn=L.context??this.context;return void 0!==L.setHeaders&&(Ae=Object.keys(L.setHeaders).reduce((yn,ir)=>yn.set(ir,L.setHeaders[ir]),Ae)),L.setParams&&(fn=Object.keys(L.setParams).reduce((yn,ir)=>yn.set(ir,L.setParams[ir]),fn)),new Gt(B,de,Le,{params:fn,headers:Ae,context:Tn,reportProgress:Ht,responseType:De,withCredentials:Ie})}}var Mn=function(W){return W[W.Sent=0]="Sent",W[W.UploadProgress=1]="UploadProgress",W[W.ResponseHeader=2]="ResponseHeader",W[W.DownloadProgress=3]="DownloadProgress",W[W.Response=4]="Response",W[W.User=5]="User",W}(Mn||{});class Hn{constructor(L,B=200,de="OK"){this.headers=L.headers||new Re,this.status=void 0!==L.status?L.status:B,this.statusText=L.statusText||de,this.url=L.url||null,this.ok=this.status>=200&&this.status<300}}class Te extends Hn{constructor(L={}){super(L),this.type=Mn.ResponseHeader}clone(L={}){return new Te({headers:L.headers||this.headers,status:void 0!==L.status?L.status:this.status,statusText:L.statusText||this.statusText,url:L.url||this.url||void 0})}}class rn extends Hn{constructor(L={}){super(L),this.type=Mn.Response,this.body=void 0!==L.body?L.body:null}clone(L={}){return new rn({body:void 0!==L.body?L.body:this.body,headers:L.headers||this.headers,status:void 0!==L.status?L.status:this.status,statusText:L.statusText||this.statusText,url:L.url||this.url||void 0})}}class Ve extends Hn{constructor(L){super(L,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${L.url||"(unknown url)"}`:`Http failure response for ${L.url||"(unknown url)"}: ${L.status} ${L.statusText}`,this.error=L.error||null}}function ut(W,L){return{body:L,headers:W.headers,context:W.context,observe:W.observe,params:W.params,reportProgress:W.reportProgress,responseType:W.responseType,withCredentials:W.withCredentials}}let $n=(()=>{class W{constructor(B){this.handler=B}request(B,de,De={}){let Le;if(B instanceof Gt)Le=B;else{let Ae,fn;Ae=De.headers instanceof Re?De.headers:new Re(De.headers),De.params&&(fn=De.params instanceof ve?De.params:new ve({fromObject:De.params})),Le=new Gt(B,de,void 0!==De.body?De.body:null,{headers:Ae,context:De.context,params:fn,reportProgress:De.reportProgress,responseType:De.responseType||"json",withCredentials:De.withCredentials})}const Ie=(0,e.of)(Le).pipe((0,J.H)(Ae=>this.handler.handle(Ae)));if(B instanceof Gt||"events"===De.observe)return Ie;const Ht=Ie.pipe((0,oe.p)(Ae=>Ae instanceof rn));switch(De.observe||"body"){case"body":switch(Le.responseType){case"arraybuffer":return Ht.pipe((0,me.T)(Ae=>{if(null!==Ae.body&&!(Ae.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ae.body}));case"blob":return Ht.pipe((0,me.T)(Ae=>{if(null!==Ae.body&&!(Ae.body instanceof Blob))throw new Error("Response is not a Blob.");return Ae.body}));case"text":return Ht.pipe((0,me.T)(Ae=>{if(null!==Ae.body&&"string"!=typeof Ae.body)throw new Error("Response is not a string.");return Ae.body}));default:return Ht.pipe((0,me.T)(Ae=>Ae.body))}case"response":return Ht;default:throw new Error(`Unreachable: unhandled observe type ${De.observe}}`)}}delete(B,de={}){return this.request("DELETE",B,de)}get(B,de={}){return this.request("GET",B,de)}head(B,de={}){return this.request("HEAD",B,de)}jsonp(B,de){return this.request("JSONP",B,{params:(new ve).append(de,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(B,de={}){return this.request("OPTIONS",B,de)}patch(B,de,De={}){return this.request("PATCH",B,ut(De,de))}post(B,de,De={}){return this.request("POST",B,ut(De,de))}put(B,de,De={}){return this.request("PUT",B,ut(De,de))}static{this.\u0275fac=function(de){return new(de||W)(m.KVO(ee))}}static{this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac})}}return W})();function We(W,L){return L(W)}function lt(W,L){return(B,de)=>L.intercept(B,{handle:De=>W(De,de)})}const at=new m.nKC(""),Rt=new m.nKC(""),Jt=new m.nKC("");function ur(){let W=null;return(L,B)=>{null===W&&(W=((0,m.WQX)(at,{optional:!0})??[]).reduceRight(lt,We));const de=(0,m.WQX)(m.$K3),De=de.add();return W(L,B).pipe((0,ie.j)(()=>de.remove(De)))}}let _t=(()=>{class W extends ee{constructor(B,de){super(),this.backend=B,this.injector=de,this.chain=null,this.pendingTasks=(0,m.WQX)(m.$K3)}handle(B){if(null===this.chain){const De=Array.from(new Set([...this.injector.get(Rt),...this.injector.get(Jt,[])]));this.chain=De.reduceRight((Le,Ie)=>function Kt(W,L,B){return(de,De)=>B.runInContext(()=>L(de,Le=>W(Le,De)))}(Le,Ie,this.injector),We)}const de=this.pendingTasks.add();return this.chain(B,De=>this.backend.handle(De)).pipe((0,ie.j)(()=>this.pendingTasks.remove(de)))}static{this.\u0275fac=function(de){return new(de||W)(m.KVO(Ce),m.KVO(m.uvJ))}}static{this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac})}}return W})();const Wn=/^\)\]\}',?\n/;let on=(()=>{class W{constructor(B){this.xhrFactory=B}handle(B){if("JSONP"===B.method)throw new m.wOt(-2800,!1);const de=this.xhrFactory;return(de.\u0275loadImpl?(0,pe.H)(de.\u0275loadImpl()):(0,e.of)(null)).pipe((0,re.n)(()=>new ce.c(Le=>{const Ie=de.build();if(Ie.open(B.method,B.urlWithParams),B.withCredentials&&(Ie.withCredentials=!0),B.headers.forEach((ct,$t)=>Ie.setRequestHeader(ct,$t.join(","))),B.headers.has("Accept")||Ie.setRequestHeader("Accept","application/json, text/plain, */*"),!B.headers.has("Content-Type")){const ct=B.detectContentTypeHeader();null!==ct&&Ie.setRequestHeader("Content-Type",ct)}if(B.responseType){const ct=B.responseType.toLowerCase();Ie.responseType="json"!==ct?ct:"text"}const Ht=B.serializeBody();let Ae=null;const fn=()=>{if(null!==Ae)return Ae;const ct=Ie.statusText||"OK",$t=new Re(Ie.getAllResponseHeaders()),Pn=function vn(W){return"responseURL"in W&&W.responseURL?W.responseURL:/^X-Request-URL:/m.test(W.getAllResponseHeaders())?W.getResponseHeader("X-Request-URL"):null}(Ie)||B.url;return Ae=new Te({headers:$t,status:Ie.status,statusText:ct,url:Pn}),Ae},Tn=()=>{let{headers:ct,status:$t,statusText:Pn,url:Yn}=fn(),gt=null;204!==$t&&(gt=typeof Ie.response>"u"?Ie.responseText:Ie.response),0===$t&&($t=gt?200:0);let qn=$t>=200&&$t<300;if("json"===B.responseType&&"string"==typeof gt){const Ci=gt;gt=gt.replace(Wn,"");try{gt=""!==gt?JSON.parse(gt):null}catch(Ei){gt=Ci,qn&&(qn=!1,gt={error:Ei,text:gt})}}qn?(Le.next(new rn({body:gt,headers:ct,status:$t,statusText:Pn,url:Yn||void 0})),Le.complete()):Le.error(new Ve({error:gt,headers:ct,status:$t,statusText:Pn,url:Yn||void 0}))},yn=ct=>{const{url:$t}=fn(),Pn=new Ve({error:ct,status:Ie.status||0,statusText:Ie.statusText||"Unknown Error",url:$t||void 0});Le.error(Pn)};let ir=!1;const ci=ct=>{ir||(Le.next(fn()),ir=!0);let $t={type:Mn.DownloadProgress,loaded:ct.loaded};ct.lengthComputable&&($t.total=ct.total),"text"===B.responseType&&Ie.responseText&&($t.partialText=Ie.responseText),Le.next($t)},pr=ct=>{let $t={type:Mn.UploadProgress,loaded:ct.loaded};ct.lengthComputable&&($t.total=ct.total),Le.next($t)};return Ie.addEventListener("load",Tn),Ie.addEventListener("error",yn),Ie.addEventListener("timeout",yn),Ie.addEventListener("abort",yn),B.reportProgress&&(Ie.addEventListener("progress",ci),null!==Ht&&Ie.upload&&Ie.upload.addEventListener("progress",pr)),Ie.send(Ht),Le.next({type:Mn.Sent}),()=>{Ie.removeEventListener("error",yn),Ie.removeEventListener("abort",yn),Ie.removeEventListener("load",Tn),Ie.removeEventListener("timeout",yn),B.reportProgress&&(Ie.removeEventListener("progress",ci),null!==Ht&&Ie.upload&&Ie.upload.removeEventListener("progress",pr)),Ie.readyState!==Ie.DONE&&Ie.abort()}})))}static{this.\u0275fac=function(de){return new(de||W)(m.KVO(se.N0))}}static{this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac})}}return W})();const pn=new m.nKC("XSRF_ENABLED"),en=new m.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ze=new m.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class qr{}let Qr=(()=>{class W{constructor(B,de,De){this.doc=B,this.platform=de,this.cookieName=De,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const B=this.doc.cookie||"";return B!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,se._b)(B,this.cookieName),this.lastCookieString=B),this.lastToken}static{this.\u0275fac=function(de){return new(de||W)(m.KVO(se.qQ),m.KVO(m.Agw),m.KVO(en))}}static{this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac})}}return W})();function Dn(W,L){const B=W.url.toLowerCase();if(!(0,m.WQX)(pn)||"GET"===W.method||"HEAD"===W.method||B.startsWith("http://")||B.startsWith("https://"))return L(W);const de=(0,m.WQX)(qr).getToken(),De=(0,m.WQX)(ze);return null!=de&&!W.headers.has(De)&&(W=W.clone({headers:W.headers.set(De,de)})),L(W)}var Mt=function(W){return W[W.Interceptors=0]="Interceptors",W[W.LegacyInterceptors=1]="LegacyInterceptors",W[W.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",W[W.NoXsrfProtection=3]="NoXsrfProtection",W[W.JsonpSupport=4]="JsonpSupport",W[W.RequestsMadeViaParent=5]="RequestsMadeViaParent",W[W.Fetch=6]="Fetch",W}(Mt||{});function xt(W,L){return{\u0275kind:W,\u0275providers:L}}function _o(...W){const L=[$n,on,_t,{provide:ee,useExisting:_t},{provide:Ce,useExisting:on},{provide:Rt,useValue:Dn,multi:!0},{provide:pn,useValue:!0},{provide:qr,useClass:Qr}];for(const B of W)L.push(...B.\u0275providers);return(0,m.EmA)(L)}const vt=new m.nKC("LEGACY_INTERCEPTOR_FN");let G=(()=>{class W{static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275mod=m.$C({type:W})}static{this.\u0275inj=m.G2t({providers:[_o(xt(Mt.LegacyInterceptors,[{provide:vt,useFactory:ur},{provide:Rt,useExisting:vt,multi:!0}]))]})}}return W})()},540:(rt,_e,F)=>{F.d(_e,{bc$:()=>B1,iLQ:()=>zp,sZ2:()=>rg,hnV:()=>ay,Hbi:()=>tD,o8S:()=>yc,BIS:()=>z1,gRc:()=>$M,Ql9:()=>sM,Ocv:()=>rM,Z63:()=>sl,aKT:()=>ll,uvJ:()=>qo,zcH:()=>Us,bkB:()=>Qo,$GK:()=>ze,nKC:()=>vt,zZn:()=>ko,_q3:()=>Yp,MKu:()=>qp,xe9:()=>td,Co$:()=>rv,Vns:()=>ga,NEm:()=>TM,SKi:()=>jr,Xx1:()=>$a,Agw:()=>yf,PLl:()=>ig,sFG:()=>o0,_9s:()=>ug,czy:()=>A,kdw:()=>Ua,C4Q:()=>Sl,NYb:()=>OM,giA:()=>gy,RxE:()=>dg,c1b:()=>Zu,gXe:()=>Pn,L39:()=>fD,Ol2:()=>ov,w6W:()=>KE,oH4:()=>yy,Rfq:()=>Oe,WQX:()=>Ae,QuC:()=>zr,EmA:()=>ff,fpN:()=>eD,HJs:()=>hD,O8t:()=>ii,H3F:()=>cy,H8p:()=>gf,$K3:()=>ly,KH2:()=>gc,wOt:()=>Te,WHO:()=>py,e01:()=>hy,H5H:()=>mp,mq5:()=>O_,JZv:()=>xt,LfX:()=>Ir,plB:()=>Fp,jNT:()=>op,zjR:()=>km,TL$:()=>u1,Tbb:()=>je,Vt3:()=>Kf,GFd:()=>um,OA$:()=>Xs,Jv_:()=>nv,aNF:()=>sv,R7$:()=>Rg,BMQ:()=>qf,HbH:()=>t_,AVh:()=>dp,wni:()=>$v,VBU:()=>li,FsC:()=>Mi,jDH:()=>Ft,G2t:()=>dt,$C:()=>ui,EJ8:()=>Eo,rXU:()=>nc,nrm:()=>ip,bVm:()=>Bu,qex:()=>Uu,k0s:()=>$u,j41:()=>Lu,RV6:()=>xm,xGo:()=>Yl,KVO:()=>Ie,kS0:()=>Hc,QTQ:()=>jg,bIt:()=>sp,lsd:()=>Uv,joV:()=>jl,qSk:()=>Nl,XpG:()=>Nm,nI1:()=>wv,bMT:()=>Mv,i5U:()=>Dv,brH:()=>Pv,SdG:()=>Vm,NAR:()=>jm,Y8G:()=>np,Mz_:()=>zu,lJ4:()=>pv,eq3:()=>hv,l_i:()=>gv,sMw:()=>mv,ziG:()=>_v,mGM:()=>Vv,sdS:()=>Pm,Njj:()=>Oa,eBV:()=>Sa,npT:()=>Xh,B4B:()=>uf,n$t:()=>Yh,muq:()=>m_,xc7:()=>up,DNE:()=>wm,EFF:()=>c_,JRh:()=>pp,SpI:()=>Wu,Lme:()=>hp,E5c:()=>gp,GBs:()=>Lv});var m=F(1413),e=F(8359),pe=F(1985),ce=F(6365),J=F(8750),oe=F(983),me=F(9326),ie=F(6648),se=F(4412),ee=F(7673),Ce=F(7707),Re=F(9974);function xe(t={}){const{connector:n=(()=>new m.B),resetOnError:r=!0,resetOnComplete:o=!0,resetOnRefCountZero:s=!0}=t;return a=>{let f,g,v,w=0,x=!1,R=!1;const z=()=>{g?.unsubscribe(),g=void 0},H=()=>{z(),f=v=void 0,x=R=!1},fe=()=>{const Me=f;H(),Me?.unsubscribe()};return(0,Re.N)((Me,Be)=>{w++,!R&&!x&&z();const et=v=v??n();Be.add(()=>{w--,0===w&&!R&&!x&&(g=He(fe,s))}),et.subscribe(Be),!f&&w>0&&(f=new Ce.Ms({next:ye=>et.next(ye),error:ye=>{R=!0,z(),g=He(H,r,ye),et.error(ye)},complete:()=>{x=!0,z(),g=He(H,o),et.complete()}}),(0,J.Tg)(Me).subscribe(f))})(a)}}function He(t,n,...r){if(!0===n)return void t();if(!1===n)return;const o=new Ce.Ms({next:()=>{o.unsubscribe(),t()}});return(0,J.Tg)(n(...r)).subscribe(o)}var jt=F(5558),St=F(3669),Vt=F(4360);function Qt(t,n){return t===n}function ve(t){for(let n in t)if(t[n]===ve)return n;throw Error("Could not find renamed property on target object.")}function Se(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function je(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(je).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function tt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ke=ve({__forward_ref__:ve});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return je(this())},t}function Ee(t){return nt(t)?t():t}function nt(t){return"function"==typeof t&&t.hasOwnProperty(ke)&&t.__forward_ref__===Oe}function Gt(t){return t&&!!t.\u0275providers}const Hn="https://g.co/ng/security#xss";class Te extends Error{constructor(n,r){super(function rn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,r)),this.code=n}}function Ve(t){return"string"==typeof t?t:null==t?"":String(t)}function Z(t,n){throw new Te(-201,!1)}function Yt(t,n){null==t&&function Ye(t,n,r,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${r} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function it(t){return Wn(t,pn)||Wn(t,en)}function Ir(t){return null!==it(t)}function Wn(t,n){return t.hasOwnProperty(n)?t[n]:null}function on(t){return t&&(t.hasOwnProperty(bi)||t.hasOwnProperty(Yi))?t[bi]:null}const pn=ve({\u0275prov:ve}),bi=ve({\u0275inj:ve}),en=ve({ngInjectableDef:ve}),Yi=ve({ngInjectorDef:ve});var ze=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ze||{});let qr;function Dn(t){const n=qr;return qr=t,n}function dr(t,n,r){const o=it(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&ze.Optional?null:void 0!==n?n:void Z(je(t))}const xt=globalThis;class vt{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ft({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Dt={},Nt="__NG_DI_FLAG__",tn="ngTempTokenPath",br=/\n/gm,L="__source";let B;function De(t){const n=B;return B=t,n}function Le(t,n=ze.Default){if(void 0===B)throw new Te(-203,!1);return null===B?dr(t,void 0,n):B.get(t,n&ze.Optional?null:void 0,n)}function Ie(t,n=ze.Default){return(function Qr(){return qr}()||Le)(Ee(t),n)}function Ae(t,n=ze.Default){return Ie(t,fn(n))}function fn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tn(t){const n=[];for(let r=0;r<t.length;r++){const o=Ee(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Te(900,!1);let s,a=ze.Default;for(let f=0;f<o.length;f++){const g=o[f],v=ir(g);"number"==typeof v?-1===v?s=g.token:a|=v:s=g}n.push(Ie(s,a))}else n.push(Ie(o))}return n}function yn(t,n){return t[Nt]=n,t.prototype[Nt]=n,t}function ir(t){return t[Nt]}function ct(t){return{toString:t}.toString()}var $t=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($t||{}),Pn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pn||{});const Yn={},gt=[],qn=ve({\u0275cmp:ve}),Ci=ve({\u0275dir:ve}),Ei=ve({\u0275pipe:ve}),Vr=ve({\u0275mod:ve}),Cr=ve({\u0275fac:ve}),Lr=ve({__NG_ELEMENT_ID__:ve}),qi=ve({__NG_ENV_ID__:ve});function Qn(t,n,r){let o=t.length;for(;;){const s=t.indexOf(n,r);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const a=n.length;if(s+a===o||t.charCodeAt(s+a)<=32)return s}r=s+1}}function $r(t,n,r){let o=0;for(;o<r.length;){const s=r[o];if("number"==typeof s){if(0!==s)break;o++;const a=r[o++],f=r[o++],g=r[o++];t.setAttribute(n,f,g,a)}else{const a=s,f=r[++o];Qi(a)?t.setProperty(n,a,f):t.setAttribute(n,a,f),o++}}return o}function Li(t){return 3===t||4===t||6===t}function Qi(t){return 64===t.charCodeAt(0)}function Jn(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:0===r||Er(t,r,s,null,-1===r||2===r?n[++o]:null)}}return t}function Er(t,n,r,o,s){let a=0,f=t.length;if(-1===n)f=-1;else for(;a<t.length;){const g=t[a++];if("number"==typeof g){if(g===n){f=-1;break}if(g>n){f=a-1;break}}}for(;a<t.length;){const g=t[a];if("number"==typeof g)break;if(g===r){if(null===o)return void(null!==s&&(t[a+1]=s));if(o===t[a+1])return void(t[a+2]=s)}a++,null!==o&&a++,null!==s&&a++}-1!==f&&(t.splice(f,0,n),a=f+1),t.splice(a++,0,r),null!==o&&t.splice(a++,0,o),null!==s&&t.splice(a++,0,s)}const $i="ng-template";function Ur(t,n,r){let o=0,s=!0;for(;o<t.length;){let a=t[o++];if("string"==typeof a&&s){const f=t[o++];if(r&&"class"===a&&-1!==Qn(f.toLowerCase(),n,0))return!0}else{if(1===a){for(;o<t.length&&"string"==typeof(a=t[o++]);)if(a.toLowerCase()===n)return!0;return!1}"number"==typeof a&&(s=!1)}}return!1}function Ji(t){return 4===t.type&&t.value!==$i}function Bn(t,n,r){return n===(4!==t.type||r?t.value:$i)}function vo(t,n,r){let o=4;const s=t.attrs||[],a=function Zi(t){for(let n=0;n<t.length;n++)if(Li(t[n]))return n;return t.length}(s);let f=!1;for(let g=0;g<n.length;g++){const v=n[g];if("number"!=typeof v){if(!f)if(4&o){if(o=2|1&o,""!==v&&!Bn(t,v,r)||""===v&&1===n.length){if(wr(o))return!1;f=!0}}else{const w=8&o?v:n[++g];if(8&o&&null!==t.attrs){if(!Ur(t.attrs,w,r)){if(wr(o))return!1;f=!0}continue}const R=ns(8&o?"class":v,s,Ji(t),r);if(-1===R){if(wr(o))return!1;f=!0;continue}if(""!==w){let z;z=R>a?"":s[R+1].toLowerCase();const H=8&o?z:null;if(H&&-1!==Qn(H,w,0)||2&o&&w!==z){if(wr(o))return!1;f=!0}}}}else{if(!f&&!wr(o)&&!wr(v))return!1;if(f&&wr(v))continue;f=!1,o=v|1&o}}return wr(o)||f}function wr(t){return 0==(1&t)}function ns(t,n,r,o){if(null===n)return-1;let s=0;if(o||!r){let a=!1;for(;s<n.length;){const f=n[s];if(f===t)return s;if(3===f||6===f)a=!0;else{if(1===f||2===f){let g=n[++s];for(;"string"==typeof g;)g=n[++s];continue}if(4===f)break;if(0===f){s+=4;continue}}s+=a?1:2}return-1}return function wi(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function Br(t,n,r=!1){for(let o=0;o<n.length;o++)if(vo(t,n[o],r))return!0;return!1}function bo(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let s=0;s<t.length;s++)if(t[s]!==o[s])continue e;return!0}}return!1}function Ao(t,n){return t?":not("+n.trim()+")":n}function Ro(t){let n=t[0],r=1,o=2,s="",a=!1;for(;r<t.length;){let f=t[r];if("string"==typeof f)if(2&o){const g=t[++r];s+="["+f+(g.length>0?'="'+g+'"':"")+"]"}else 8&o?s+="."+f:4&o&&(s+=" "+f);else""!==s&&!wr(f)&&(n+=Ao(a,s),s=""),o=f,a=a||!wr(o);r++}return""!==s&&(n+=Ao(a,s)),n}function li(t){return ct(()=>{const n=xr(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$t.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pn.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""};to(r);const o=t.dependencies;return r.directiveDefs=Di(o,!1),r.pipeDefs=Di(o,!0),r.id=function wo(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const s of r)n=Math.imul(31,n)+s.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(r),r})}function Zr(t){return ft(t)||bn(t)}function No(t){return null!==t}function ui(t){return ct(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eo(t,n){if(null==t)return Yn;const r={};for(const o in t)if(t.hasOwnProperty(o)){let s=t[o],a=s;Array.isArray(s)&&(a=s[1],s=s[0]),r[s]=o,n&&(n[s]=a)}return r}function Mi(t){return ct(()=>{const n=xr(t);return to(n),n})}function Eo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ft(t){return t[qn]||null}function bn(t){return t[Ci]||null}function En(t){return t[Ei]||null}function zr(t){const n=ft(t)||bn(t)||En(t);return null!==n&&n.standalone}function Fn(t,n){const r=t[Vr]||null;if(!r&&!0===n)throw new Error(`Type ${je(t)} does not have '\u0275mod' property.`);return r}function xr(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Yn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eo(t.inputs,n),outputs:eo(t.outputs)}}function to(t){t.features?.forEach(n=>n(t))}function Di(t,n){if(!t)return null;const r=n?En:Zr;return()=>("function"==typeof t?t():t).map(o=>r(o)).filter(No)}const ln=0,Ne=1,mt=2,sn=3,Zn=4,ro=5,Sn=6,kr=7,hn=8,er=9,fi=10,ot=11,Gr=12,Mo=13,ei=14,gn=15,Rn=16,hr=17,Nn=18,Pi=19,is=20,ti=21,Hr=22,Ui=23,io=24,wt=25,Si=1,Mr=2,Tr=7,Dr=9,zn=11;function In(t){return Array.isArray(t)&&"object"==typeof t[Si]}function jn(t){return Array.isArray(t)&&!0===t[Si]}function oo(t){return 0!=(4&t.flags)}function Fr(t){return t.componentOffset>-1}function qt(t){return 1==(1&t.flags)}function gr(t){return!!t.template}function jo(t){return 0!=(512&t[mt])}function so(t,n){return t.hasOwnProperty(Cr)?t[Cr]:null}let st=null,co=!1;function nr(t){const n=st;return st=t,n}const or={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function as(t){if(!$o(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Hs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Cs(t){t.dirty=!0,function bs(t){if(void 0===t.liveConsumerNode)return;const n=co;co=!0;try{for(const r of t.liveConsumerNode)r.dirty||Cs(r)}finally{co=n}}(t),t.consumerMarkedDirty?.(t)}function Es(t){return t&&(t.nextProducerIndex=0),nr(t)}function ws(t,n){if(nr(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if($o(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)Wi(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Hs(t){Po(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==r.version||(as(r),o!==r.version))return!0}return!1}function Vn(t){if(Po(t),$o(t))for(let n=0;n<t.producerNode.length;n++)Wi(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wi(t,n){if(function Ws(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Po(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)Wi(t.producerNode[o],t.producerIndexOfThis[o]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],s=t.liveConsumerNode[n];Po(s),s.producerIndexOfThis[o]=n}}function $o(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Po(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let j=null;function ii(t){const n=nr(null);try{return t()}finally{nr(n)}}const Pr=()=>{},gi=(()=>({...or,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Pr}))();class uo{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Xs(){return ba}function ba(t){return t.type.prototype.ngOnChanges&&(t.setInput=Mc),Ms}function Ms(){const t=Uo(this),n=t?.current;if(n){const r=t.previous;if(r===Yn)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Mc(t,n,r,o){const s=this.declaredInputs[r],a=Uo(t)||function Ea(t,n){return t[Ca]=n}(t,{previous:Yn,current:null}),f=a.current||(a.current={}),g=a.previous,v=g[s];f[s]=new uo(v&&v.currentValue,n,g===Yn),t[o]=n}Xs.ngInherit=!0;const Ca="__ngSimpleChanges__";function Uo(t){return t[Ca]||null}const ki=function(t,n,r){},wa="svg";function mn(t){for(;Array.isArray(t);)t=t[ln];return t}function So(t,n){return mn(n[t])}function Rr(t,n){return mn(n[t.index])}function Ys(t,n){return t.data[n]}function ls(t,n){return t[n]}function oi(t,n){const r=n[t];return In(r)?r:r[ln]}function Oo(t,n){return null==n?null:t[n]}function Qs(t){t[hr]=0}function Xi(t){1024&t[mt]||(t[mt]|=1024,Oc(t,1))}function Da(t){1024&t[mt]&&(t[mt]&=-1025,Oc(t,-1))}function Oc(t,n){let r=t[sn];if(null===r)return;r[ro]+=n;let o=r;for(r=r[sn];null!==r&&(1===n&&1===o[ro]||-1===n&&0===o[ro]);)r[ro]+=n,o=r,r=r[sn]}const yt={lFrame:Fi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zs(){return yt.bindingsEnabled}function Bo(){return null!==yt.skipHydrationRootTNode}function be(){return yt.lFrame.lView}function Ut(){return yt.lFrame.tView}function Sa(t){return yt.lFrame.contextLView=t,t[hn]}function Oa(t){return yt.lFrame.contextLView=null,t}function sr(){let t=Ia();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ia(){return yt.lFrame.currentTNode}function Ti(t,n){const r=yt.lFrame;r.currentTNode=t,r.isParent=n}function ea(){return yt.lFrame.isParent}function Ps(){yt.lFrame.isParent=!1}function Nr(){const t=yt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function fo(){return yt.lFrame.bindingIndex}function Io(){return yt.lFrame.bindingIndex++}function h(t){const n=yt.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function b(t,n){const r=yt.lFrame;r.bindingIndex=r.bindingRootIndex=t,k(n)}function k(t){yt.lFrame.currentDirectiveIndex=t}function te(){return yt.lFrame.currentQueryIndex}function q(t){yt.lFrame.currentQueryIndex=t}function $e(t){const n=t[Ne];return 2===n.type?n.declTNode:1===n.type?t[Sn]:null}function Et(t,n,r){if(r&ze.SkipSelf){let s=n,a=t;for(;!(s=s.parent,null!==s||r&ze.Host||(s=$e(a),null===s||(a=a[ei],10&s.type))););if(null===s)return!1;n=s,t=a}const o=yt.lFrame=Bt();return o.currentTNode=n,o.lView=t,!0}function Zt(t){const n=Bt(),r=t[Ne];yt.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Bt(){const t=yt.lFrame,n=null===t?null:t.child;return null===n?Fi(t):n}function Fi(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function zo(){const t=yt.lFrame;return yt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Go=zo;function ds(){const t=zo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wr(){return yt.lFrame.selectedIndex}function fs(t){yt.lFrame.selectedIndex=t}function An(){const t=yt.lFrame;return Ys(t.tView,t.selectedIndex)}function Nl(){yt.lFrame.currentNamespace=wa}function jl(){!function ld(){yt.lFrame.currentNamespace=null}()}let Ll=!0;function xa(){return Ll}function Wo(t){Ll=t}function ka(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const a=t.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:g,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:x}=a;f&&(t.contentHooks??=[]).push(-r,f),g&&((t.contentHooks??=[]).push(r,g),(t.contentCheckHooks??=[]).push(r,g)),v&&(t.viewHooks??=[]).push(-r,v),w&&((t.viewHooks??=[]).push(r,w),(t.viewCheckHooks??=[]).push(r,w)),null!=x&&(t.destroyHooks??=[]).push(r,x)}}function Ta(t,n,r){$l(t,n,3,r)}function Fa(t,n,r,o){(3&t[mt])===r&&$l(t,n,r,o)}function jc(t,n){let r=t[mt];(3&r)===n&&(r&=8191,r+=1,t[mt]=r)}function $l(t,n,r,o){const a=o??-1,f=n.length-1;let g=0;for(let v=void 0!==o?65535&t[hr]:0;v<f;v++)if("number"==typeof n[v+1]){if(g=n[v],null!=o&&g>=o)break}else n[v]<0&&(t[hr]+=65536),(g<a||-1==a)&&(dd(t,r,n,v),t[hr]=(4294901760&t[hr])+v+2),v++}function Ul(t,n){ki(4,t,n);const r=nr(null);try{n.call(t)}finally{nr(r),ki(5,t,n)}}function dd(t,n,r,o){const s=r[o]<0,a=r[o+1],g=t[s?-r[o]:r[o]];s?t[mt]>>13<t[hr]>>16&&(3&t[mt])===n&&(t[mt]+=8192,Ul(g,a)):Ul(g,a)}const Ss=-1;class ta{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function Lc(t){return t!==Ss}function na(t){return 32767&t}function ra(t,n){let r=function gd(t){return t>>16}(t),o=n;for(;r>0;)o=o[ei],r--;return o}let $c=!0;function Aa(t){const n=$c;return $c=t,n}const Bl=255,zl=5;let md=0;const Ai={};function Ra(t,n){const r=ia(t,n);if(-1!==r)return r;const o=n[Ne];o.firstCreatePass&&(t.injectorIndex=n.length,Uc(o.data,t),Uc(n,null),Uc(o.blueprint,null));const s=Na(t,n),a=t.injectorIndex;if(Lc(s)){const f=na(s),g=ra(s,n),v=g[Ne].data;for(let w=0;w<8;w++)n[a+w]=g[f+w]|v[f+w]}return n[a+8]=s,a}function Uc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ia(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Na(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,s=n;for(;null!==s;){if(o=ql(s),null===o)return Ss;if(r++,s=s[ei],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ss}function Bc(t,n,r){!function Os(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Lr)&&(o=r[Lr]),null==o&&(o=r[Lr]=md++);const s=o&Bl;n.data[t+(s>>zl)]|=1<<s}(t,n,r)}function Is(t,n,r){if(r&ze.Optional||void 0!==t)return t;Z()}function Hl(t,n,r,o){if(r&ze.Optional&&void 0===o&&(o=null),!(r&(ze.Self|ze.Host))){const s=t[er],a=Dn(void 0);try{return s?s.get(n,o,r&ze.Optional):dr(n,o,r&ze.Optional)}finally{Dn(a)}}return Is(o,0,r)}function zc(t,n,r,o=ze.Default,s){if(null!==t){if(2048&n[mt]&&!(o&ze.Self)){const f=function Cd(t,n,r,o,s){let a=t,f=n;for(;null!==a&&null!==f&&2048&f[mt]&&!(512&f[mt]);){const g=Wl(a,f,r,o|ze.Self,Ai);if(g!==Ai)return g;let v=a.parent;if(!v){const w=f[is];if(w){const x=w.get(r,Ai,o);if(x!==Ai)return x}v=ql(f),f=f[ei]}a=v}return s}(t,n,r,o,Ai);if(f!==Ai)return f}const a=Wl(t,n,r,o,Ai);if(a!==Ai)return a}return Hl(n,r,o,s)}function Wl(t,n,r,o,s){const a=function vd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Lr)?t[Lr]:void 0;return"number"==typeof n?n>=0?n&Bl:bd:n}(r);if("function"==typeof a){if(!Et(n,t,o))return o&ze.Host?Is(s,0,o):Hl(n,r,o,s);try{let f;if(f=a(o),null!=f||o&ze.Optional)return f;Z()}finally{Go()}}else if("number"==typeof a){let f=null,g=ia(t,n),v=Ss,w=o&ze.Host?n[gn][Sn]:null;for((-1===g||o&ze.SkipSelf)&&(v=-1===g?Na(t,n):n[g+8],v!==Ss&&Kl(o,!1)?(f=n[Ne],g=na(v),n=ra(v,n)):g=-1);-1!==g;){const x=n[Ne];if(Xl(a,g,x.data)){const R=_d(g,n,r,f,o,w);if(R!==Ai)return R}v=n[g+8],v!==Ss&&Kl(o,n[Ne].data[g+8]===w)&&Xl(a,g,n)?(f=x,g=na(v),n=ra(v,n)):g=-1}}return s}function _d(t,n,r,o,s,a){const f=n[Ne],g=f.data[t+8],x=ja(g,f,r,null==o?Fr(g)&&$c:o!=f&&0!=(3&g.type),s&ze.Host&&a===g);return null!==x?ps(n,f,x,g):Ai}function ja(t,n,r,o,s){const a=t.providerIndexes,f=n.data,g=1048575&a,v=t.directiveStart,x=a>>20,z=s?g+x:t.directiveEnd;for(let H=o?g:g+x;H<z;H++){const fe=f[H];if(H<v&&r===fe||H>=v&&fe.type===r)return H}if(s){const H=f[v];if(H&&gr(H)&&H.type===r)return v}return null}function ps(t,n,r,o){let s=t[r];const a=n.data;if(function fd(t){return t instanceof ta}(s)){const f=s;f.resolving&&function $n(t,n){const r=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Te(-200,`Circular dependency in DI detected for ${t}${r}`)}(function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ve(t)}(a[r]));const g=Aa(f.canSeeViewProviders);f.resolving=!0;const w=f.injectImpl?Dn(f.injectImpl):null;Et(t,o,ze.Default);try{s=t[r]=f.factory(void 0,a,t,o),n.firstCreatePass&&r>=o.directiveStart&&function ud(t,n,r){const{ngOnChanges:o,ngOnInit:s,ngDoCheck:a}=n.type.prototype;if(o){const f=ba(n);(r.preOrderHooks??=[]).push(t,f),(r.preOrderCheckHooks??=[]).push(t,f)}s&&(r.preOrderHooks??=[]).push(0-t,s),a&&((r.preOrderHooks??=[]).push(t,a),(r.preOrderCheckHooks??=[]).push(t,a))}(r,a[r],n)}finally{null!==w&&Dn(w),Aa(g),f.resolving=!1,Go()}}return s}function Xl(t,n,r){return!!(r[n+(t>>zl)]&1<<t)}function Kl(t,n){return!(t&ze.Self||t&ze.Host&&n)}class Xr{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return zc(this._tNode,this._lView,n,fn(o),r)}}function bd(){return new Xr(sr(),be())}function Yl(t){return ct(()=>{const n=t.prototype.constructor,r=n[Cr]||Gc(n),o=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==o;){const a=s[Cr]||Gc(s);if(a&&a!==r)return a;s=Object.getPrototypeOf(s)}return a=>new a})}function Gc(t){return nt(t)?()=>{const n=Gc(Ee(t));return n&&n()}:so(t)}function ql(t){const n=t[Ne],r=n.type;return 2===r?n.declTNode:1===r?t[Sn]:null}function Hc(t){return function Gl(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let s=0;for(;s<o;){const a=r[s];if(Li(a))break;if(0===a)s+=2;else if("number"==typeof a)for(s++;s<o&&"string"==typeof r[s];)s++;else{if(a===n)return r[s+1];s+=2}}}return null}(sr(),t)}const ks="__parameters__";function Fs(t,n,r){return ct(()=>{const o=function Wc(t){return function(...r){if(t){const o=t(...r);for(const s in o)this[s]=o[s]}}}(n);function s(...a){if(this instanceof s)return o.apply(this,a),this;const f=new s(...a);return g.annotation=f,g;function g(v,w,x){const R=v.hasOwnProperty(ks)?v[ks]:Object.defineProperty(v,ks,{value:[]})[ks];for(;R.length<=x;)R.push(null);return(R[x]=R[x]||[]).push(f),v}}return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function Rs(t,n){t.forEach(r=>Array.isArray(r)?Rs(r,n):n(r))}function Jl(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Va(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function aa(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}function mi(t,n,r){let o=Ns(t,n);return o>=0?t[1|o]=r:(o=~o,function Od(t,n,r,o){let s=t.length;if(s==n)t.push(r,o);else if(1===s)t.push(o,t[0]),t[0]=r;else{for(s--,t.push(t[s-1],t[s]);s>n;)t[s]=t[s-2],s--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function Xc(t,n){const r=Ns(t,n);if(r>=0)return t[1|r]}function Ns(t,n){return function Zl(t,n,r){let o=0,s=t.length>>r;for(;s!==o;){const a=o+(s-o>>1),f=t[a<<r];if(n===f)return a<<r;f>n?s=a:o=a+1}return~(s<<r)}(t,n,1)}const $a=yn(Fs("Optional"),8),Ua=yn(Fs("SkipSelf"),4);function d(t){return 128==(128&t.flags)}var A=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(A||{});const $=/^>|^->|<!--|-->|--!>|<!-$/g,K=/(<|>)/g,ue="\u200b$1\u200b";const Ge=new Map;let zt=0;const Xo="__ngContext__";function wn(t,n){In(n)?(t[Xo]=n[Pi],function pt(t){Ge.set(t[Pi],t)}(n)):t[Xo]=n}let bt;function Xt(t,n){return bt(t,n)}function si(t){const n=t[sn];return jn(n)?n[sn]:n}function kn(t){return lu(t[Gr])}function el(t){return lu(t[Zn])}function lu(t){for(;null!==t&&!jn(t);)t=t[Zn];return t}function Gn(t,n,r,o,s){if(null!=o){let a,f=!1;jn(o)?a=o:In(o)&&(f=!0,o=o[ln]);const g=mn(o);0===t&&null!==r?null==s?Ph(n,r,g):ua(n,r,g,s||null,!0):1===t&&null!==r?ua(n,r,g,s||null,!0):2===t?function pu(t,n,r){const o=du(t,n);o&&function t1(t,n,r,o){t.removeChild(n,r,o)}(t,o,n,r)}(n,g,f):3===t&&n.destroyNode(g),null!=a&&function i1(t,n,r,o,s){const a=r[Tr];a!==mn(r)&&Gn(n,t,o,a,s);for(let g=zn;g<r.length;g++){const v=r[g];nl(v[Ne],v,t,n,o,a)}}(n,t,a,r,s)}}function Vs(t,n){return t.createComment(function Ue(t){return t.replace($,n=>n.replace(K,ue))}(n))}function Ls(t,n,r){return t.createElement(n,r)}function Mh(t,n){const r=t[Dr],o=r.indexOf(n);Da(n),r.splice(o,1)}function uu(t,n){if(t.length<=zn)return;const r=zn+n,o=t[r];if(o){const s=o[Rn];null!==s&&s!==t&&Mh(s,o),n>0&&(t[r-1][Zn]=o[Zn]);const a=Va(t,zn+n);!function Xy(t,n){nl(t,n,n[ot],2,null,null),n[ln]=null,n[Sn]=null}(o[Ne],o);const f=a[Nn];null!==f&&f.detachView(a[Ne]),o[sn]=null,o[Zn]=null,o[mt]&=-129}return o}function Yd(t,n){if(!(256&n[mt])){const r=n[ot];n[Ui]&&Vn(n[Ui]),n[io]&&Vn(n[io]),r.destroyNode&&nl(t,n,r,3,null,null),function qy(t){let n=t[Gr];if(!n)return qd(t[Ne],t);for(;n;){let r=null;if(In(n))r=n[Gr];else{const o=n[zn];o&&(r=o)}if(!r){for(;n&&!n[Zn]&&n!==t;)In(n)&&qd(n[Ne],n),n=n[sn];null===n&&(n=t),In(n)&&qd(n[Ne],n),r=n&&n[Zn]}n=r}}(n)}}function qd(t,n){if(!(256&n[mt])){n[mt]&=-129,n[mt]|=256,function e1(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const s=n[r[o]];if(!(s instanceof ta)){const a=r[o+1];if(Array.isArray(a))for(let f=0;f<a.length;f+=2){const g=s[a[f]],v=a[f+1];ki(4,g,v);try{v.call(g)}finally{ki(5,g,v)}}else{ki(4,s,a);try{a.call(s)}finally{ki(5,s,a)}}}}}(t,n),function Zy(t,n){const r=t.cleanup,o=n[kr];if(null!==r)for(let a=0;a<r.length-1;a+=2)if("string"==typeof r[a]){const f=r[a+3];f>=0?o[f]():o[-f].unsubscribe(),a+=2}else r[a].call(o[r[a+1]]);null!==o&&(n[kr]=null);const s=n[ti];if(null!==s){n[ti]=null;for(let a=0;a<s.length;a++)(0,s[a])()}}(t,n),1===n[Ne].type&&n[ot].destroy();const r=n[Rn];if(null!==r&&jn(n[sn])){r!==n[sn]&&Mh(r,n);const o=n[Nn];null!==o&&o.detachView(t)}!function xn(t){Ge.delete(t[Pi])}(n)}}function Qd(t,n,r){return function Dh(t,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[ln];{const{componentOffset:s}=o;if(s>-1){const{encapsulation:a}=t.data[o.directiveStart+s];if(a===Pn.None||a===Pn.Emulated)return null}return Rr(o,r)}}(t,n.parent,r)}function ua(t,n,r,o,s){t.insertBefore(n,r,o,s)}function Ph(t,n,r){t.appendChild(n,r)}function Sh(t,n,r,o,s){null!==o?ua(t,n,r,o,s):Ph(t,n,r)}function du(t,n){return t.parentNode(n)}function Oh(t,n,r){return xh(t,n,r)}let Jd,hu,nf,gu,xh=function Ih(t,n,r){return 40&t.type?Rr(t,r):null};function fu(t,n,r,o){const s=Qd(t,o,n),a=n[ot],g=Oh(o.parent||n[Sn],o,n);if(null!=s)if(Array.isArray(r))for(let v=0;v<r.length;v++)Sh(a,s,r[v],g,!1);else Sh(a,s,r,g,!1);void 0!==Jd&&Jd(a,o,n,r,s)}function tl(t,n){if(null!==n){const r=n.type;if(3&r)return Rr(n,t);if(4&r)return Zd(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return tl(t,o);{const s=t[n.index];return jn(s)?Zd(-1,s):mn(s)}}if(32&r)return Xt(n,t)()||mn(t[n.index]);{const o=Th(t,n);return null!==o?Array.isArray(o)?o[0]:tl(si(t[gn]),o):tl(t,n.next)}}return null}function Th(t,n){return null!==n?t[gn][Sn].projection[n.projection]:null}function Zd(t,n){const r=zn+t+1;if(r<n.length){const o=n[r],s=o[Ne].firstChild;if(null!==s)return tl(o,s)}return n[Tr]}function ef(t,n,r,o,s,a,f){for(;null!=r;){const g=o[r.index],v=r.type;if(f&&0===n&&(g&&wn(mn(g),o),r.flags|=2),32!=(32&r.flags))if(8&v)ef(t,n,r.child,o,s,a,!1),Gn(n,t,s,g,a);else if(32&v){const w=Xt(r,o);let x;for(;x=w();)Gn(n,t,s,x,a);Gn(n,t,s,g,a)}else 16&v?Ah(t,n,o,r,s,a):Gn(n,t,s,g,a);r=f?r.projectionNext:r.next}}function nl(t,n,r,o,s,a){ef(r,o,t.firstChild,n,s,a,!1)}function Ah(t,n,r,o,s,a){const f=r[gn],v=f[Sn].projection[o.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)Gn(n,t,s,v[w],a);else{let w=v;const x=f[sn];d(o)&&(w.flags|=128),ef(t,n,w,x,s,a,!0)}}function Rh(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function Nh(t,n,r){const{mergedAttrs:o,classes:s,styles:a}=r;null!==o&&$r(t,n,o),null!==s&&Rh(t,n,s),null!==a&&function s1(t,n,r){t.setAttribute(n,"style",r)}(t,n,a)}function Wa(t){return function tf(){if(void 0===hu&&(hu=null,xt.trustedTypes))try{hu=xt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hu}()?.createHTML(t)||t}function u1(t){nf=t}function Xa(){if(void 0!==nf)return nf;if(typeof document<"u")return document;throw new Te(210,!1)}function rf(){if(void 0===gu&&(gu=null,xt.trustedTypes))try{gu=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gu}function jh(t){return rf()?.createHTML(t)||t}function Lh(t){return rf()?.createScriptURL(t)||t}class $h{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hn})`}}function $s(t){return t instanceof $h?t.changingThisBreaksApplicationSecurity:t}function rl(t,n){const r=function m1(t){return t instanceof $h&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Hn})`)}return r===n}class _1{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Wa(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class v1{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Wa(n),r}}const b1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sf(t){return(t=String(t)).match(b1)?t:"unsafe:"+t}function hs(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function il(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Bh=hs("area,br,col,hr,img,wbr"),zh=hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gh=hs("rp,rt"),af=il(Bh,il(zh,hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),il(Gh,hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),il(Gh,zh)),cf=hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hh=il(cf,hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),C1=hs("script,style,template");class E1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let s=this.checkClobberedElement(r,r.nextSibling);if(s){r=s;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!af.hasOwnProperty(r))return this.sanitizedSomething=!0,!C1.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let s=0;s<o.length;s++){const a=o.item(s),f=a.name,g=f.toLowerCase();if(!Hh.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let v=a.value;cf[g]&&(v=sf(v)),this.buf.push(" ",f,'="',Wh(v),'"')}return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();af.hasOwnProperty(r)&&!Bh.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Wh(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const w1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M1=/([^\#-~ |!])/g;function Wh(t){return t.replace(/&/g,"&amp;").replace(w1,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(M1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mu;function lf(t){return"content"in t&&function P1(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ka=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ka||{});function Xh(t){const n=ol();return n?jh(n.sanitize(Ka.HTML,t)||""):rl(t,"HTML")?jh($s(t)):function D1(t,n){let r=null;try{mu=mu||function Uh(t){const n=new v1(t);return function y1(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new _1(n):n}(t);let o=n?String(n):"";r=mu.getInertBodyElement(o);let s=5,a=o;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,o=a,a=r.innerHTML,r=mu.getInertBodyElement(o)}while(o!==a);return Wa((new E1).sanitizeChildren(lf(r)||r))}finally{if(r){const o=lf(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}(Xa(),Ve(t))}function uf(t){const n=ol();return n?n.sanitize(Ka.URL,t)||"":rl(t,"URL")?$s(t):sf(Ve(t))}function Kh(t){const n=ol();if(n)return Lh(n.sanitize(Ka.RESOURCE_URL,t)||"");if(rl(t,"ResourceURL"))return Lh($s(t));throw new Te(904,!1)}function Yh(t,n,r){return function k1(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Kh:uf}(n,r)(t)}function ol(){const t=be();return t&&t[fi].sanitizer}const sl=new vt("ENVIRONMENT_INITIALIZER"),qh=new vt("INJECTOR",-1),Qh=new vt("INJECTOR_DEF_TYPES");class df{get(n,r=Dt){if(r===Dt){const o=new Error(`NullInjectorError: No provider for ${je(n)}!`);throw o.name="NullInjectorError",o}return r}}function ff(t){return{\u0275providers:t}}function T1(...t){return{\u0275providers:Jh(0,t),\u0275fromNgModule:!0}}function Jh(t,...n){const r=[],o=new Set;let s;const a=f=>{r.push(f)};return Rs(n,f=>{const g=f;_u(g,a,[],o)&&(s||=[],s.push(g))}),void 0!==s&&Zh(s,a),r}function Zh(t,n){for(let r=0;r<t.length;r++){const{ngModule:o,providers:s}=t[r];pf(s,a=>{n(a,o)})}}function _u(t,n,r,o){if(!(t=Ee(t)))return!1;let s=null,a=on(t);const f=!a&&ft(t);if(a||f){if(f&&!f.standalone)return!1;s=t}else{const v=t.ngModule;if(a=on(v),!a)return!1;s=v}const g=o.has(s);if(f){if(g)return!1;if(o.add(s),f.dependencies){const v="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const w of v)_u(w,n,r,o)}}else{if(!a)return!1;{if(null!=a.imports&&!g){let w;o.add(s);try{Rs(a.imports,x=>{_u(x,n,r,o)&&(w||=[],w.push(x))})}finally{}void 0!==w&&Zh(w,n)}if(!g){const w=so(s)||(()=>new s);n({provide:s,useFactory:w,deps:gt},s),n({provide:Qh,useValue:s,multi:!0},s),n({provide:sl,useValue:()=>Ie(s),multi:!0},s)}const v=a.providers;if(null!=v&&!g){const w=t;pf(v,x=>{n(x,w)})}}}return s!==t&&void 0!==t.providers}function pf(t,n){for(let r of t)Gt(r)&&(r=r.\u0275providers),Array.isArray(r)?pf(r,n):n(r)}const F1=ve({provide:String,useValue:ve});function hf(t){return null!==t&&"object"==typeof t&&F1 in t}function da(t){return"function"==typeof t}const gf=new vt("Set Injector scope."),vu={},R1={};let mf;function yu(){return void 0===mf&&(mf=new df),mf}class qo{}class Ya extends qo{get destroyed(){return this._destroyed}constructor(n,r,o,s){super(),this.parent=r,this.source=o,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vf(n,f=>this.processProvider(f)),this.records.set(qh,qa(void 0,this)),s.has("environment")&&this.records.set(qo,qa(void 0,this));const a=this.records.get(gf);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Qh.multi,gt,ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=De(this),o=Dn(void 0);try{return n()}finally{De(r),Dn(o)}}get(n,r=Dt,o=ze.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(qi))return n[qi](this);o=fn(o);const a=De(this),f=Dn(void 0);try{if(!(o&ze.SkipSelf)){let v=this.records.get(n);if(void 0===v){const w=function $1(t){return"function"==typeof t||"object"==typeof t&&t instanceof vt}(n)&&it(n);v=w&&this.injectableDefInScope(w)?qa(_f(n),vu):null,this.records.set(n,v)}if(null!=v)return this.hydrate(n,v)}return(o&ze.Self?yu():this.parent).get(n,r=o&ze.Optional&&r===Dt?null:r)}catch(g){if("NullInjectorError"===g.name){if((g[tn]=g[tn]||[]).unshift(je(n)),a)throw g;return function ci(t,n,r,o){const s=t[tn];throw n[L]&&s.unshift(n[L]),t.message=function pr(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let s=je(n);if(Array.isArray(n))s=n.map(je).join(" -> ");else if("object"==typeof n){let a=[];for(let f in n)if(n.hasOwnProperty(f)){let g=n[f];a.push(f+":"+("string"==typeof g?JSON.stringify(g):je(g)))}s=`{${a.join(", ")}}`}return`${r}${o?"("+o+")":""}[${s}]: ${t.replace(br,"\n  ")}`}("\n"+t.message,s,r,o),t.ngTokenPath=s,t[tn]=null,t}(g,n,"R3InjectorError",this.source)}throw g}finally{Dn(f),De(a)}}resolveInjectorInitializers(){const n=De(this),r=Dn(void 0);try{const s=this.get(sl.multi,gt,ze.Self);for(const a of s)a()}finally{De(n),Dn(r)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(je(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(n){let r=da(n=Ee(n))?n:Ee(n&&n.provide);const o=function j1(t){return hf(t)?qa(void 0,t.useValue):qa(ng(t),vu)}(n);if(da(n)||!0!==n.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=qa(void 0,vu,!0),s.factory=()=>Tn(s.multi),this.records.set(r,s)),r=n,s.multi.push(n)}this.records.set(r,o)}hydrate(n,r){return r.value===vu&&(r.value=R1,r.value=r.factory()),"object"==typeof r.value&&r.value&&function L1(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Ee(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function _f(t){const n=it(t),r=null!==n?n.factory:so(t);if(null!==r)return r;if(t instanceof vt)throw new Te(204,!1);if(t instanceof Function)return function N1(t){const n=t.length;if(n>0)throw aa(n,"?"),new Te(204,!1);const r=function vn(t){return t&&(t[pn]||t[en])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Te(204,!1)}function ng(t,n,r){let o;if(da(t)){const s=Ee(t);return so(s)||_f(s)}if(hf(t))o=()=>Ee(t.useValue);else if(function tg(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Tn(t.deps||[]));else if(function eg(t){return!(!t||!t.useExisting)}(t))o=()=>Ie(Ee(t.useExisting));else{const s=Ee(t&&(t.useClass||t.provide));if(!function V1(t){return!!t.deps}(t))return so(s)||_f(s);o=()=>new s(...Tn(t.deps))}return o}function qa(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function vf(t,n){for(const r of t)Array.isArray(r)?vf(r,n):r&&Gt(r)?vf(r.\u0275providers,n):n(r)}const rg=new vt("AppId",{providedIn:"root",factory:()=>U1}),U1="ng",ig=new vt("Platform Initializer"),yf=new vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B1=new vt("AnimationModuleType"),z1=new vt("CSP nonce",{providedIn:"root",factory:()=>Xa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let og=(t,n,r)=>null;function Sf(t,n,r=!1){return og(t,n,r)}class Z1{}class cg{}class t0{resolveComponentFactory(n){throw function e0(t){const n=Error(`No component factory found for ${je(t)}.`);return n.ngComponent=t,n}(n)}}let Du=(()=>{class t{static{this.NULL=new t0}}return t})();function n0(){return Za(sr(),be())}function Za(t,n){return new ll(Rr(t,n))}let ll=(()=>{class t{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=n0}}return t})();function r0(t){return t instanceof ll?t.nativeElement:t}class ug{}let o0=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function s0(){const t=be(),r=oi(sr().index,t);return(In(r)?r:t)[ot]}()}}return t})(),a0=(()=>{class t{static{this.\u0275prov=Ft({token:t,providedIn:"root",factory:()=>null})}}return t})();class dg{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const c0=new dg("16.2.12"),xf={};function gg(t,n=null,r=null,o){const s=mg(t,n,r,o);return s.resolveInjectorInitializers(),s}function mg(t,n=null,r=null,o,s=new Set){const a=[r||gt,T1(t)];return o=o||("object"==typeof t?void 0:je(t)),new Ya(a,n||yu(),o||null,s)}let ko=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Dt}static{this.NULL=new df}static create(r,o){if(Array.isArray(r))return gg({name:""},o,r,"");{const s=r.name??"";return gg({name:s},r.parent,r.providers,s)}}static{this.\u0275prov=Ft({token:t,providedIn:"any",factory:()=>Ie(qh)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Tf(t){return t.ngOriginalError}class Us{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Tf(n);for(;r&&Tf(r);)r=Tf(r);return r||null}}function Ff(t){return n=>{setTimeout(t,void 0,n)}}const Qo=class m0 extends m.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,o){let s=n,a=r||(()=>null),f=o;if(n&&"object"==typeof n){const v=n;s=v.next?.bind(v),a=v.error?.bind(v),f=v.complete?.bind(v)}this.__isAsync&&(a=Ff(a),s&&(s=Ff(s)),f&&(f=Ff(f)));const g=super.subscribe({next:s,error:a,complete:f});return n instanceof e.yU&&n.add(g),g}};function vg(...t){}class jr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qo(!1),this.onMicrotaskEmpty=new Qo(!1),this.onStable=new Qo(!1),this.onError=new Qo(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function _0(){const t="function"==typeof xt.requestAnimationFrame;let n=xt[t?"requestAnimationFrame":"setTimeout"],r=xt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function b0(t){const n=()=>{!function y0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Rf(t),t.isCheckStableRunning=!0,Af(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Rf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,s,a,f,g)=>{if(function E0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(g))return r.invokeTask(s,a,f,g);try{return yg(t),r.invokeTask(s,a,f,g)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||t.shouldCoalesceRunChangeDetection)&&n(),bg(t)}},onInvoke:(r,o,s,a,f,g,v)=>{try{return yg(t),r.invoke(s,a,f,g,v)}finally{t.shouldCoalesceRunChangeDetection&&n(),bg(t)}},onHasTask:(r,o,s,a)=>{r.hasTask(s,a),o===s&&("microTask"==a.change?(t._hasPendingMicrotasks=a.microTask,Rf(t),Af(t)):"macroTask"==a.change&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,s,a)=>(r.handleError(s,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jr.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(jr.isInAngularZone())throw new Te(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,s){const a=this._inner,f=a.scheduleEventTask("NgZoneEvent: "+s,n,v0,vg,vg);try{return a.runTask(f,r,o)}finally{a.cancelTask(f)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const v0={};function Af(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Rf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function yg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bg(t){t._nesting--,Af(t)}class C0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qo,this.onMicrotaskEmpty=new Qo,this.onStable=new Qo,this.onError=new Qo}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,s){return n.apply(r,o)}}const Cg=new vt("",{providedIn:"root",factory:Eg});function Eg(){const t=Ae(jr);let n=!0;return function re(...t){const n=(0,me.lI)(t),r=(0,me.R0)(t,1/0),o=t;return o.length?1===o.length?(0,J.Tg)(o[0]):(0,ce.U)(r)((0,ie.H)(o,n)):oe.w}(new pe.c(s=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{s.next(n),s.complete()})}),new pe.c(s=>{let a;t.runOutsideAngular(()=>{a=t.onStable.subscribe(()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,s.next(!0))})})});const f=t.onUnstable.subscribe(()=>{jr.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{s.next(!1)}))});return()=>{a.unsubscribe(),f.unsubscribe()}}).pipe(xe()))}function gs(t){return t instanceof Function?t():t}let Nf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ft({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ul(t){for(;t;){t[mt]|=64;const n=si(t);if(jo(t)&&!n)return t;t=n}return null}const Sg=new vt("",{providedIn:"root",factory:()=>!1});let Ou=null;function kg(t,n){return t[n]??Ag()}function Tg(t,n){const r=Ag();r.producerNode?.length&&(t[n]=Ou,r.lView=t,Ou=Fg())}const T0={...or,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ul(t.lView)},lView:null};function Fg(){return Object.create(T0)}function Ag(){return Ou??=Fg(),Ou}const Tt={};function Rg(t){Ng(Ut(),be(),Wr()+t,!1)}function Ng(t,n,r,o){if(!o)if(3==(3&n[mt])){const a=t.preOrderCheckHooks;null!==a&&Ta(n,a,r)}else{const a=t.preOrderHooks;null!==a&&Fa(n,a,0,r)}fs(r)}function nc(t,n=ze.Default){const r=be();return null===r?Ie(t,n):zc(sr(),r,Ee(t),n)}function jg(){throw new Error("invalid")}function Iu(t,n,r,o,s,a,f,g,v,w,x){const R=n.blueprint.slice();return R[ln]=s,R[mt]=140|o,(null!==w||t&&2048&t[mt])&&(R[mt]|=2048),Qs(R),R[sn]=R[ei]=t,R[hn]=r,R[fi]=f||t&&t[fi],R[ot]=g||t&&t[ot],R[er]=v||t&&t[er]||null,R[Sn]=a,R[Pi]=function kt(){return zt++}(),R[Hr]=x,R[is]=w,R[gn]=2==n.type?t[gn]:R,R}function rc(t,n,r,o,s){let a=t.data[n];if(null===a)a=function jf(t,n,r,o,s){const a=Ia(),f=ea(),v=t.data[n]=function $0(t,n,r,o,s,a){let f=n?n.injectorIndex:-1,g=0;return Bo()&&(g|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:s,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?a:a&&a.parent,r,n,o,s);return null===t.firstChild&&(t.firstChild=v),null!==a&&(f?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v,v.prev=a)),v}(t,n,r,o,s),function y(){return yt.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=r,a.value=o,a.attrs=s;const f=function us(){const t=yt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();a.injectorIndex=null===f?-1:f.injectorIndex}return Ti(a,!0),a}function dl(t,n,r,o){if(0===r)return-1;const s=n.length;for(let a=0;a<r;a++)n.push(o),t.blueprint.push(o),t.data.push(null);return s}function Vg(t,n,r,o,s){const a=kg(n,Ui),f=Wr(),g=2&o;try{fs(-1),g&&n.length>wt&&Ng(t,n,wt,!1),ki(g?2:0,s);const w=g?a:null,x=Es(w);try{null!==w&&(w.dirty=!1),r(o,s)}finally{ws(w,x)}}finally{g&&null===n[Ui]&&Tg(n,Ui),fs(f),ki(g?3:1,s)}}function Vf(t,n,r){if(oo(n)){const o=nr(null);try{const a=n.directiveEnd;for(let f=n.directiveStart;f<a;f++){const g=t.data[f];g.contentQueries&&g.contentQueries(1,r[f],f)}}finally{nr(o)}}}function Lf(t,n,r){Zs()&&(function X0(t,n,r,o){const s=r.directiveStart,a=r.directiveEnd;Fr(r)&&function eb(t,n,r){const o=Rr(n,t),s=Lg(r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const g=xu(t,Iu(t,s,null,f,o,n,null,t[fi].rendererFactory.createRenderer(o,r),null,null,null));t[n.index]=g}(n,r,t.data[s+r.componentOffset]),t.firstCreatePass||Ra(r,n),wn(o,n);const f=r.initialInputs;for(let g=s;g<a;g++){const v=t.data[g],w=ps(n,t,g,r);wn(w,n),null!==f&&tb(0,g-s,w,v,0,f),gr(v)&&(oi(r.index,n)[hn]=ps(n,t,g,r))}}(t,n,r,Rr(r,n)),64==(64&r.flags)&&Gg(t,n,r))}function $f(t,n,r=Rr){const o=n.localNames;if(null!==o){let s=n.index+1;for(let a=0;a<o.length;a+=2){const f=o[a+1],g=-1===f?r(n,t):t[f];t[s++]=g}}}function Lg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Uf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Uf(t,n,r,o,s,a,f,g,v,w,x){const R=wt+o,z=R+s,H=function A0(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:Tt);return r}(R,z),fe="function"==typeof w?w():w;return H[Ne]={type:t,blueprint:H,template:r,queries:null,viewQuery:g,declTNode:n,data:H.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:v,consts:fe,incompleteFirstPass:!1,ssrId:x}}let $g=t=>null;function Ug(t,n,r,o){for(let s in t)if(t.hasOwnProperty(s)){r=null===r?{}:r;const a=t[s];null===o?Bg(r,n,s,a):o.hasOwnProperty(s)&&Bg(r,n,o[s],a)}return r}function Bg(t,n,r,o){t.hasOwnProperty(r)?t[r].push(n,o):t[r]=[n,o]}function Ki(t,n,r,o,s,a,f,g){const v=Rr(n,r);let x,w=n.inputs;!g&&null!=w&&(x=w[o])?(Wf(t,r,x,o,s),Fr(n)&&function z0(t,n){const r=oi(n,t);16&r[mt]||(r[mt]|=64)}(r,n.index)):3&n.type&&(o=function B0(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),s=null!=f?f(s,n.value||"",o):s,a.setProperty(v,o,s))}function Bf(t,n,r,o){if(Zs()){const s=null===o?null:{"":-1},a=function Y0(t,n){const r=t.directiveRegistry;let o=null,s=null;if(r)for(let a=0;a<r.length;a++){const f=r[a];if(Br(n,f.selectors,!1))if(o||(o=[]),gr(f))if(null!==f.findHostDirectiveDefs){const g=[];s=s||new Map,f.findHostDirectiveDefs(f,g,s),o.unshift(...g,f),zf(t,n,g.length)}else o.unshift(f),zf(t,n,0);else s=s||new Map,f.findHostDirectiveDefs?.(f,o,s),o.push(f)}return null===o?null:[o,s]}(t,r);let f,g;null===a?f=g=null:[f,g]=a,null!==f&&zg(t,n,r,f,s,g),s&&function q0(t,n,r){if(n){const o=t.localNames=[];for(let s=0;s<n.length;s+=2){const a=r[n[s+1]];if(null==a)throw new Te(-301,!1);o.push(n[s],a)}}}(r,o,s)}r.mergedAttrs=Jn(r.mergedAttrs,r.attrs)}function zg(t,n,r,o,s,a){for(let w=0;w<o.length;w++)Bc(Ra(r,n),t,o[w].type);!function J0(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,o.length);for(let w=0;w<o.length;w++){const x=o[w];x.providersResolver&&x.providersResolver(x)}let f=!1,g=!1,v=dl(t,n,o.length,null);for(let w=0;w<o.length;w++){const x=o[w];r.mergedAttrs=Jn(r.mergedAttrs,x.hostAttrs),Z0(t,r,n,v,x),Q0(v,x,s),null!==x.contentQueries&&(r.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(r.flags|=64);const R=x.type.prototype;!f&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),f=!0),!g&&(R.ngOnChanges||R.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),g=!0),v++}!function U0(t,n,r){const s=n.directiveEnd,a=t.data,f=n.attrs,g=[];let v=null,w=null;for(let x=n.directiveStart;x<s;x++){const R=a[x],z=r?r.get(R):null,fe=z?z.outputs:null;v=Ug(R.inputs,x,v,z?z.inputs:null),w=Ug(R.outputs,x,w,fe);const Me=null===v||null===f||Ji(n)?null:nb(v,x,f);g.push(Me)}null!==v&&(v.hasOwnProperty("class")&&(n.flags|=8),v.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=g,n.inputs=v,n.outputs=w}(t,r,a)}function Gg(t,n,r){const o=r.directiveStart,s=r.directiveEnd,a=r.index,f=function M(){return yt.lFrame.currentDirectiveIndex}();try{fs(a);for(let g=o;g<s;g++){const v=t.data[g],w=n[g];k(g),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&K0(v,w)}}finally{fs(-1),k(f)}}function K0(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function zf(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function Q0(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;gr(n)&&(r[""]=t)}}function Z0(t,n,r,o,s){t.data[o]=s;const a=s.factory||(s.factory=so(s.type)),f=new ta(a,gr(s),nc);t.blueprint[o]=f,r[o]=f,function H0(t,n,r,o,s){const a=s.hostBindings;if(a){let f=t.hostBindingOpCodes;null===f&&(f=t.hostBindingOpCodes=[]);const g=~n.index;(function W0(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(f)!=g&&f.push(g),f.push(r,o,a)}}(t,n,o,dl(t,r,s.hostVars,Tt),s)}function Jo(t,n,r,o,s,a){const f=Rr(t,n);!function Gf(t,n,r,o,s,a,f){if(null==a)t.removeAttribute(n,s,r);else{const g=null==f?Ve(a):f(a,o||"",s);t.setAttribute(n,s,g,r)}}(n[ot],f,a,t.value,r,o,s)}function tb(t,n,r,o,s,a){const f=a[n];if(null!==f)for(let g=0;g<f.length;)Hg(o,r,f[g++],f[g++],f[g++])}function Hg(t,n,r,o,s){const a=nr(null);try{const f=t.inputTransforms;null!==f&&f.hasOwnProperty(o)&&(s=f[o].call(n,s)),null!==t.setInput?t.setInput(n,s,r,o):n[o]=s}finally{nr(a)}}function nb(t,n,r){let o=null,s=0;for(;s<r.length;){const a=r[s];if(0!==a)if(5!==a){if("number"==typeof a)break;if(t.hasOwnProperty(a)){null===o&&(o=[]);const f=t[a];for(let g=0;g<f.length;g+=2)if(f[g]===n){o.push(a,f[g+1],r[s+1]);break}}s+=2}else s+=2;else s+=4}return o}function Wg(t,n,r,o){return[t,!0,!1,n,null,0,o,r,null,null,null]}function Xg(t,n){const r=t.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const a=r[o+1];if(-1!==a){const f=t.data[a];q(r[o]),f.contentQueries(2,n[a],a)}}}function xu(t,n){return t[Gr]?t[Mo][Zn]=n:t[Gr]=n,t[Mo]=n,n}function Hf(t,n,r){q(0);const o=nr(null);try{n(t,r)}finally{nr(o)}}function Kg(t){return t[kr]||(t[kr]=[])}function Yg(t){return t.cleanup||(t.cleanup=[])}function Qg(t,n){const r=t[er],o=r?r.get(Us,null):null;o&&o.handleError(n)}function Wf(t,n,r,o,s){for(let a=0;a<r.length;){const f=r[a++],g=r[a++];Hg(t.data[f],n[f],o,g,s)}}function ms(t,n,r){const o=So(n,t);!function vi(t,n,r){t.setValue(n,r)}(t[ot],o,r)}function rb(t,n){const r=oi(n,t),o=r[Ne];!function ib(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(o,r);const s=r[ln];null!==s&&null===r[Hr]&&(r[Hr]=Sf(s,r[er])),Xf(o,r,r[hn])}function Xf(t,n,r){Zt(n);try{const o=t.viewQuery;null!==o&&Hf(1,o,r);const s=t.template;null!==s&&Vg(t,n,s,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xg(t,n),t.staticViewQueries&&Hf(2,t.viewQuery,r);const a=t.components;null!==a&&function ob(t,n){for(let r=0;r<n.length;r++)rb(t,n[r])}(n,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[mt]&=-5,ds()}}let Jg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(r,o,s){const a=typeof Zone>"u"?null:Zone.current,f=function hi(t,n,r){const o=Object.create(gi);r&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const s=f=>{o.cleanupFn=f};return o.ref={notify:()=>Cs(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Hs(o))return;o.hasRun=!0;const f=Es(o);try{o.cleanupFn(),o.cleanupFn=Pr,o.fn(s)}finally{ws(o,f)}},cleanup:()=>o.cleanupFn()},o.ref}(r,w=>{this.all.has(w)&&this.queue.set(w,a)},s);let g;this.all.add(f),f.notify();const v=()=>{f.cleanup(),g?.(),this.all.delete(f),this.queue.delete(f)};return g=o?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[r,o]of this.queue)this.queue.delete(r),o?o.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ft({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ku(t,n,r){let o=r?t.styles:null,s=r?t.classes:null,a=0;if(null!==n)for(let f=0;f<n.length;f++){const g=n[f];"number"==typeof g?a=g:1==a?s=tt(s,g):2==a&&(o=tt(o,g+": "+n[++f]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=s:t.classesWithoutHost=s}function fl(t,n,r,o,s=!1){for(;null!==r;){const a=n[r.index];null!==a&&o.push(mn(a)),jn(a)&&Zg(a,o);const f=r.type;if(8&f)fl(t,n,r.child,o);else if(32&f){const g=Xt(r,n);let v;for(;v=g();)o.push(v)}else if(16&f){const g=Th(n,r);if(Array.isArray(g))o.push(...g);else{const v=si(n[gn]);fl(v[Ne],v,g,o,!0)}}r=s?r.projectionNext:r.next}return o}function Zg(t,n){for(let r=zn;r<t.length;r++){const o=t[r],s=o[Ne].firstChild;null!==s&&fl(o[Ne],o,s,n)}t[Tr]!==t[ln]&&n.push(t[Tr])}function Tu(t,n,r,o=!0){const s=n[fi],a=s.rendererFactory,f=s.afterRenderEventManager;a.begin?.(),f?.begin();try{em(t,n,t.template,r)}catch(v){throw o&&Qg(n,v),v}finally{a.end?.(),s.effectManager?.flush(),f?.end()}}function em(t,n,r,o){const s=n[mt];if(256!=(256&s)){n[fi].effectManager?.flush(),Zt(n);try{Qs(n),function Rc(t){return yt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&Vg(t,n,r,2,o);const f=3==(3&s);if(f){const w=t.preOrderCheckHooks;null!==w&&Ta(n,w,null)}else{const w=t.preOrderHooks;null!==w&&Fa(n,w,0,null),jc(n,0)}if(function cb(t){for(let n=kn(t);null!==n;n=el(n)){if(!n[Mr])continue;const r=n[Dr];for(let o=0;o<r.length;o++){Xi(r[o])}}}(n),tm(n,2),null!==t.contentQueries&&Xg(t,n),f){const w=t.contentCheckHooks;null!==w&&Ta(n,w)}else{const w=t.contentHooks;null!==w&&Fa(n,w,1),jc(n,1)}!function F0(t,n){const r=t.hostBindingOpCodes;if(null===r)return;const o=kg(n,io);try{for(let s=0;s<r.length;s++){const a=r[s];if(a<0)fs(~a);else{const f=a,g=r[++s],v=r[++s];b(g,f),o.dirty=!1;const w=Es(o);try{v(2,n[f])}finally{ws(o,w)}}}}finally{null===n[io]&&Tg(n,io),fs(-1)}}(t,n);const g=t.components;null!==g&&rm(n,g,0);const v=t.viewQuery;if(null!==v&&Hf(2,v,o),f){const w=t.viewCheckHooks;null!==w&&Ta(n,w)}else{const w=t.viewHooks;null!==w&&Fa(n,w,2),jc(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[mt]&=-73,Da(n)}finally{ds()}}}function tm(t,n){for(let r=kn(t);null!==r;r=el(r))for(let o=zn;o<r.length;o++)nm(r[o],n)}function lb(t,n,r){nm(oi(n,t),r)}function nm(t,n){if(!function qs(t){return 128==(128&t[mt])}(t))return;const r=t[Ne],o=t[mt];if(80&o&&0===n||1024&o||2===n)em(r,t,r.template,t[hn]);else if(t[ro]>0){tm(t,1);const s=r.components;null!==s&&rm(t,s,1)}}function rm(t,n,r){for(let o=0;o<n.length;o++)lb(t,n[o],r)}class pl{get rootNodes(){const n=this._lView,r=n[Ne];return fl(r,n,r.firstChild,[])}constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hn]}set context(n){this._lView[hn]=n}get destroyed(){return 256==(256&this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[sn];if(jn(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(uu(n,o),Va(r,o))}this._attachedToViewContainer=!1}Yd(this._lView[Ne],this._lView)}onDestroy(n){!function Ic(t,n){if(256==(256&t[mt]))throw new Te(911,!1);null===t[ti]&&(t[ti]=[]),t[ti].push(n)}(this._lView,n)}markForCheck(){ul(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-129}reattach(){this._lView[mt]|=128}detectChanges(){Tu(this._lView[Ne],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yy(t,n){nl(t,n,n[ot],2,null,null)}(this._lView[Ne],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=n}}class ub extends pl{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Tu(n[Ne],n,n[hn],!1)}checkNoChanges(){}get context(){return null}}class im extends Du{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=ft(n);return new hl(r,this.ngModule)}}function om(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}class fb{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=fn(o);const s=this.injector.get(n,xf,o);return s!==xf||r===xf?s:this.parentInjector.get(n,r,o)}}class hl extends cg{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=om(n.inputs);if(null!==r)for(const s of o)r.hasOwnProperty(s.propName)&&(s.transform=r[s.propName]);return o}get outputs(){return om(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function rs(t){return t.map(Ro).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,s){let a=(s=s||this.ngModule)instanceof qo?s:s?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const f=a?new fb(n,a):n,g=f.get(ug,null);if(null===g)throw new Te(407,!1);const R={rendererFactory:g,sanitizer:f.get(a0,null),effectManager:f.get(Jg,null),afterRenderEventManager:f.get(Nf,null)},z=g.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",fe=o?function R0(t,n,r,o){const a=o.get(Sg,!1)||r===Pn.ShadowDom,f=t.selectRootElement(n,a);return function N0(t){$g(t)}(f),f}(z,o,this.componentDef.encapsulation,f):Ls(z,H,function db(t){const n=t.toLowerCase();return"svg"===n?wa:"math"===n?"math":null}(H)),et=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ye=null;null!==fe&&(ye=Sf(fe,f,!0));const It=Uf(0,null,null,1,0,null,null,null,null,null,null),At=Iu(null,It,null,et,null,null,R,z,f,null,ye);let Cn,Vi;Zt(At);try{const _s=this.componentDef;let bc,Jp=null;_s.findHostDirectiveDefs?(bc=[],Jp=new Map,_s.findHostDirectiveDefs(_s,bc,Jp),bc.push(_s)):bc=[_s];const gD=function hb(t,n){const r=t[Ne],o=wt;return t[o]=n,rc(r,o,2,"#host",null)}(At,fe),mD=function gb(t,n,r,o,s,a,f){const g=s[Ne];!function mb(t,n,r,o){for(const s of t)n.mergedAttrs=Jn(n.mergedAttrs,s.hostAttrs);null!==n.mergedAttrs&&(ku(n,n.mergedAttrs,!0),null!==r&&Nh(o,r,n))}(o,t,n,f);let v=null;null!==n&&(v=Sf(n,s[er]));const w=a.rendererFactory.createRenderer(n,r);let x=16;r.signals?x=4096:r.onPush&&(x=64);const R=Iu(s,Lg(r),null,x,s[t.index],t,a,w,null,null,v);return g.firstCreatePass&&zf(g,t,o.length-1),xu(s,R),s[t.index]=R}(gD,fe,_s,bc,At,R,z);Vi=Ys(It,wt),fe&&function vb(t,n,r,o){if(o)$r(t,r,["ng-version",c0.full]);else{const{attrs:s,classes:a}=function vs(t){const n=[],r=[];let o=1,s=2;for(;o<t.length;){let a=t[o];if("string"==typeof a)2===s?""!==a&&n.push(a,t[++o]):8===s&&r.push(a);else{if(!wr(s))break;s=a}o++}return{attrs:n,classes:r}}(n.selectors[0]);s&&$r(t,r,s),a&&a.length>0&&Rh(t,r,a.join(" "))}}(z,_s,fe,o),void 0!==r&&function yb(t,n,r){const o=t.projection=[];for(let s=0;s<n.length;s++){const a=r[s];o.push(null!=a?Array.from(a):null)}}(Vi,this.ngContentSelectors,r),Cn=function _b(t,n,r,o,s,a){const f=sr(),g=s[Ne],v=Rr(f,s);zg(g,s,f,r,null,o);for(let x=0;x<r.length;x++)wn(ps(s,g,f.directiveStart+x,f),s);Gg(g,s,f),v&&wn(v,s);const w=ps(s,g,f.directiveStart+f.componentOffset,f);if(t[hn]=s[hn]=w,null!==a)for(const x of a)x(w,n);return Vf(g,f,t),w}(mD,_s,bc,Jp,At,[bb]),Xf(It,At,null)}finally{ds()}return new pb(this.componentType,Cn,Za(Vi,At),At,Vi)}}class pb extends Z1{constructor(n,r,o,s,a){super(),this.location=o,this._rootLView=s,this._tNode=a,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new ub(s),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let s;if(null!==o&&(s=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const a=this._rootLView;Wf(a[Ne],a,s,n,r),this.previousInputValues.set(n,r),ul(oi(this._tNode.index,a))}}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function bb(){const t=sr();ka(be()[Ne],t)}function Kf(t){let n=function sm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let s;if(gr(t))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Te(903,!1);s=n.\u0275dir}if(s){if(r){o.push(s);const f=t;f.inputs=Fu(t.inputs),f.inputTransforms=Fu(t.inputTransforms),f.declaredInputs=Fu(t.declaredInputs),f.outputs=Fu(t.outputs);const g=s.hostBindings;g&&Mb(t,g);const v=s.viewQuery,w=s.contentQueries;if(v&&Eb(t,v),w&&wb(t,w),Se(t.inputs,s.inputs),Se(t.declaredInputs,s.declaredInputs),Se(t.outputs,s.outputs),null!==s.inputTransforms&&(null===f.inputTransforms&&(f.inputTransforms={}),Se(f.inputTransforms,s.inputTransforms)),gr(s)&&s.data.animation){const x=t.data;x.animation=(x.animation||[]).concat(s.data.animation)}}const a=s.features;if(a)for(let f=0;f<a.length;f++){const g=a[f];g&&g.ngInherit&&g(t),g===Kf&&(r=!1)}}n=Object.getPrototypeOf(n)}!function Cb(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const s=t[o];s.hostVars=n+=s.hostVars,s.hostAttrs=Jn(s.hostAttrs,r=Jn(r,s.hostAttrs))}}(o)}function Fu(t){return t===Yn?{}:t===gt?[]:t}function Eb(t,n){const r=t.viewQuery;t.viewQuery=r?(o,s)=>{n(o,s),r(o,s)}:n}function wb(t,n){const r=t.contentQueries;t.contentQueries=r?(o,s,a)=>{n(o,s,a),r(o,s,a)}:n}function Mb(t,n){const r=t.hostBindings;t.hostBindings=r?(o,s)=>{n(o,s),r(o,s)}:n}function um(t){const n=t.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const s=n[o];Array.isArray(s)&&s[2]&&(r[o]=s[2])}t.inputTransforms=r}function Au(t){return!!Yf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Yf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zo(t,n,r){return t[n]=r}function ai(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function fa(t,n,r,o){const s=ai(t,n,r);return ai(t,n+1,o)||s}function Ru(t,n,r,o,s){const a=fa(t,n,r,o);return ai(t,n+2,s)||a}function qf(t,n,r,o){const s=be();return ai(s,Io(),n)&&(Ut(),Jo(An(),s,t,n,r,o)),qf}function oc(t,n,r,o){return ai(t,Io(),r)?n+Ve(r)+o:Tt}function wm(t,n,r,o,s,a,f,g){const v=be(),w=Ut(),x=t+wt,R=w.firstCreatePass?function Yb(t,n,r,o,s,a,f,g,v){const w=n.consts,x=rc(n,t,4,f||null,Oo(w,g));Bf(n,r,x,Oo(w,v)),ka(n,x);const R=x.tView=Uf(2,x,o,s,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,w,null);return null!==n.queries&&(n.queries.template(n,x),R.queries=n.queries.embeddedTView(x)),x}(x,w,v,n,r,o,s,a,f):w.data[x];Ti(R,!1);const z=Mm(w,v,R,t);xa()&&fu(w,v,z,R),wn(z,v),xu(v,v[x]=Wg(z,v,z,R)),qt(R)&&Lf(w,v,R),null!=f&&$f(v,R,g)}let Mm=function Dm(t,n,r,o){return Wo(!0),n[ot].createComment("")};function Pm(t){return ls(function Fc(){return yt.lFrame.contextLView}(),wt+t)}function np(t,n,r){const o=be();return ai(o,Io(),n)&&Ki(Ut(),An(),o,t,n,o[ot],r,!1),np}function rp(t,n,r,o,s){const f=s?"class":"style";Wf(t,r,n.inputs[f],f,o)}function Lu(t,n,r,o){const s=be(),a=Ut(),f=wt+t,g=s[ot],v=a.firstCreatePass?function Zb(t,n,r,o,s,a){const f=n.consts,v=rc(n,t,2,o,Oo(f,s));return Bf(n,r,v,Oo(f,a)),null!==v.attrs&&ku(v,v.attrs,!1),null!==v.mergedAttrs&&ku(v,v.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,v),v}(f,a,s,n,r,o):a.data[f],w=Sm(a,s,v,g,n,t);s[f]=w;const x=qt(v);return Ti(v,!0),Nh(g,w,v),32!=(32&v.flags)&&xa()&&fu(a,s,w,v),0===function xc(){return yt.lFrame.elementDepthCount}()&&wn(w,s),function kc(){yt.lFrame.elementDepthCount++}(),x&&(Lf(a,s,v),Vf(a,v,s)),null!==o&&$f(s,v),Lu}function $u(){let t=sr();ea()?Ps():(t=t.parent,Ti(t,!1));const n=t;(function Tl(t){return yt.skipHydrationRootTNode===t})(n)&&function Rl(){yt.skipHydrationRootTNode=null}(),function kl(){yt.lFrame.elementDepthCount--}();const r=Ut();return r.firstCreatePass&&(ka(r,t),oo(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function pd(t){return 0!=(8&t.flags)}(n)&&rp(r,n,be(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function hd(t){return 0!=(16&t.flags)}(n)&&rp(r,n,be(),n.stylesWithoutHost,!1),$u}function ip(t,n,r,o){return Lu(t,n,r,o),$u(),ip}let Sm=(t,n,r,o,s,a)=>(Wo(!0),Ls(o,s,function Vl(){return yt.lFrame.currentNamespace}()));function Uu(t,n,r){const o=be(),s=Ut(),a=t+wt,f=s.firstCreatePass?function nC(t,n,r,o,s){const a=n.consts,f=Oo(a,o),g=rc(n,t,8,"ng-container",f);return null!==f&&ku(g,f,!0),Bf(n,r,g,Oo(a,s)),null!==n.queries&&n.queries.elementStart(n,g),g}(a,s,o,n,r):s.data[a];Ti(f,!0);const g=Im(s,o,f,t);return o[a]=g,xa()&&fu(s,o,g,f),wn(g,o),qt(f)&&(Lf(s,o,f),Vf(s,f,o)),null!=r&&$f(o,f),Uu}function Bu(){let t=sr();const n=Ut();return ea()?Ps():(t=t.parent,Ti(t,!1)),n.firstCreatePass&&(ka(n,t),oo(t)&&n.queries.elementEnd(t)),Bu}let Im=(t,n,r,o)=>(Wo(!0),Vs(n[ot],""));function xm(){return be()}function op(t){return!!t&&"function"==typeof t.then}function km(t){return!!t&&"function"==typeof t.subscribe}function sp(t,n,r,o){const s=be(),a=Ut(),f=sr();return function Fm(t,n,r,o,s,a,f){const g=qt(o),w=t.firstCreatePass&&Yg(t),x=n[hn],R=Kg(n);let z=!0;if(3&o.type||f){const Me=Rr(o,n),Be=f?f(Me):Me,et=R.length,ye=f?At=>f(mn(At[o.index])):o.index;let It=null;if(!f&&g&&(It=function oC(t,n,r,o){const s=t.cleanup;if(null!=s)for(let a=0;a<s.length-1;a+=2){const f=s[a];if(f===r&&s[a+1]===o){const g=n[kr],v=s[a+2];return g.length>v?g[v]:null}"string"==typeof f&&(a+=2)}return null}(t,n,s,o.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=a,It.__ngLastListenerFn__=a,z=!1;else{a=Rm(o,n,x,a,!1);const At=r.listen(Be,s,a);R.push(a,At),w&&w.push(s,ye,et,et+1)}}else a=Rm(o,n,x,a,!1);const H=o.outputs;let fe;if(z&&null!==H&&(fe=H[s])){const Me=fe.length;if(Me)for(let Be=0;Be<Me;Be+=2){const Cn=n[fe[Be]][fe[Be+1]].subscribe(a),Vi=R.length;R.push(a,Cn),w&&w.push(s,o.index,Vi,-(Vi+1))}}}(a,s,s[ot],f,t,n,o),sp}function Am(t,n,r,o){try{return ki(6,n,r),!1!==r(o)}catch(s){return Qg(t,s),!1}finally{ki(7,n,r)}}function Rm(t,n,r,o,s){return function a(f){if(f===Function)return o;ul(t.componentOffset>-1?oi(t.index,n):n);let v=Am(n,r,o,f),w=a.__ngNextListenerFn__;for(;w;)v=Am(n,r,w,f)&&v,w=w.__ngNextListenerFn__;return s&&!1===v&&f.preventDefault(),v}}function Nm(t=1){return function Ho(t){return(yt.lFrame.contextLView=function Nc(t,n){for(;t>0;)n=n[ei],t--;return n}(t,yt.lFrame.contextLView))[hn]}(t)}function sC(t,n){let r=null;const o=function yo(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let s=0;s<n.length;s++){const a=n[s];if("*"!==a){if(null===o?Br(t,a,!0):bo(o,a))return s}else r=s}return r}function jm(t){const n=be()[gn][Sn];if(!n.projection){const o=n.projection=aa(t?t.length:1,null),s=o.slice();let a=n.child;for(;null!==a;){const f=t?sC(a,t):0;null!==f&&(s[f]?s[f].projectionNext=a:o[f]=a,s[f]=a),a=a.next}}}function Vm(t,n=0,r){const o=be(),s=Ut(),a=rc(s,wt+t,16,null,r||null);null===a.projection&&(a.projection=n),Ps(),(!o[Hr]||Bo())&&32!=(32&a.flags)&&function r1(t,n,r){Ah(n[ot],0,n,r,Qd(t,r,n),Oh(r.parent||n[Sn],r,n))}(s,o,a)}function zu(t,n,r,o,s){const a=be(),f=oc(a,n,r,o);return f!==Tt&&Ki(Ut(),An(),a,t,f,a[ot],s,!1),zu}function Gu(t,n){return t<<17|n<<2}function Bs(t){return t>>17&32767}function ap(t){return 2|t}function pa(t){return(131068&t)>>2}function cp(t,n){return-131069&t|n<<2}function lp(t){return 1|t}function Km(t,n,r,o,s){const a=t[r+1],f=null===n;let g=o?Bs(a):pa(a),v=!1;for(;0!==g&&(!1===v||f);){const x=t[g+1];fC(t[g],n)&&(v=!0,t[g+1]=o?lp(x):ap(x)),g=o?Bs(x):pa(x)}v&&(t[r+1]=o?ap(a):lp(a))}function fC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ns(t,n)>=0}const Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ym(t){return t.substring(Or.key,Or.keyEnd)}function pC(t){return t.substring(Or.value,Or.valueEnd)}function qm(t,n){const r=Or.textEnd;return r===n?-1:(n=Or.keyEnd=function mC(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,Or.key=n,r),pc(t,n,r))}function Qm(t,n){const r=Or.textEnd;let o=Or.key=pc(t,n,r);return r===o?-1:(o=Or.keyEnd=function _C(t,n,r){let o;for(;n<r&&(45===(o=t.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(t,o,r),o=Zm(t,o,r),o=Or.value=pc(t,o,r),o=Or.valueEnd=function vC(t,n,r){let o=-1,s=-1,a=-1,f=n,g=f;for(;f<r;){const v=t.charCodeAt(f++);if(59===v)return g;34===v||39===v?g=f=e_(t,v,f,r):n===f-4&&85===a&&82===s&&76===o&&40===v?g=f=e_(t,41,f,r):v>32&&(g=f),a=s,s=o,o=-33&v}return g}(t,o,r),Zm(t,o,r))}function Jm(t){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=t.length}function pc(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function Zm(t,n,r,o){return(n=pc(t,n,r))<r&&n++,n}function e_(t,n,r,o){let s=-1,a=r;for(;a<o;){const f=t.charCodeAt(a++);if(f==n&&92!==s)return a;s=92==f&&92===s?0:f}throw new Error}function up(t,n,r){return To(t,n,r,!1),up}function dp(t,n){return To(t,n,null,!0),dp}function yC(t,n){for(let r=function gC(t){return Jm(t),Qm(t,pc(t,0,Or.textEnd))}(n);r>=0;r=Qm(n,r))i_(t,Ym(n),pC(n))}function t_(t){Fo(DC,ts,t,!0)}function ts(t,n){for(let r=function hC(t){return Jm(t),qm(t,pc(t,0,Or.textEnd))}(n);r>=0;r=qm(n,r))mi(t,Ym(n),!0)}function To(t,n,r,o){const s=be(),a=Ut(),f=h(2);a.firstUpdatePass&&r_(a,t,f,o),n!==Tt&&ai(s,f,n)&&o_(a,a.data[Wr()],s,s[ot],t,s[f+1]=function SC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=je($s(t)))),t}(n,r),o,f)}function Fo(t,n,r,o){const s=Ut(),a=h(2);s.firstUpdatePass&&r_(s,null,a,o);const f=be();if(r!==Tt&&ai(f,a,r)){const g=s.data[Wr()];if(a_(g,o)&&!n_(s,a)){let v=o?g.classesWithoutHost:g.stylesWithoutHost;null!==v&&(r=tt(v,r||"")),rp(s,g,f,r,o)}else!function PC(t,n,r,o,s,a,f,g){s===Tt&&(s=gt);let v=0,w=0,x=0<s.length?s[0]:null,R=0<a.length?a[0]:null;for(;null!==x||null!==R;){const z=v<s.length?s[v+1]:void 0,H=w<a.length?a[w+1]:void 0;let Me,fe=null;x===R?(v+=2,w+=2,z!==H&&(fe=R,Me=H)):null===R||null!==x&&x<R?(v+=2,fe=x):(w+=2,fe=R,Me=H),null!==fe&&o_(t,n,r,o,fe,Me,f,g),x=v<s.length?s[v]:null,R=w<a.length?a[w]:null}}(s,g,f,f[ot],f[a+1],f[a+1]=function MC(t,n,r){if(null==r||""===r)return gt;const o=[],s=$s(r);if(Array.isArray(s))for(let a=0;a<s.length;a++)t(o,s[a],!0);else if("object"==typeof s)for(const a in s)s.hasOwnProperty(a)&&t(o,a,s[a]);else"string"==typeof s&&n(o,s);return o}(t,n,r),o,a)}}function n_(t,n){return n>=t.expandoStartIndex}function r_(t,n,r,o){const s=t.data;if(null===s[r+1]){const a=s[Wr()],f=n_(t,r);a_(a,o)&&null===n&&!f&&(n=!1),n=function bC(t,n,r,o){const s=function N(t){const n=yt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let a=o?n.residualClasses:n.residualStyles;if(null===s)0===(o?n.classBindings:n.styleBindings)&&(r=yl(r=fp(null,t,n,r,o),n.attrs,o),a=null);else{const f=n.directiveStylingLast;if(-1===f||t[f]!==s)if(r=fp(s,t,n,r,o),null===a){let v=function CC(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==pa(o))return t[Bs(o)]}(t,n,o);void 0!==v&&Array.isArray(v)&&(v=fp(null,t,n,v[1],o),v=yl(v,n.attrs,o),function EC(t,n,r,o){t[Bs(r?n.classBindings:n.styleBindings)]=o}(t,n,o,v))}else a=function wC(t,n,r){let o;const s=n.directiveEnd;for(let a=1+n.directiveStylingLast;a<s;a++)o=yl(o,t[a].hostAttrs,r);return yl(o,n.attrs,r)}(t,n,o)}return void 0!==a&&(o?n.residualClasses=a:n.residualStyles=a),r}(s,a,n,o),function uC(t,n,r,o,s,a){let f=a?n.classBindings:n.styleBindings,g=Bs(f),v=pa(f);t[o]=r;let x,w=!1;if(Array.isArray(r)?(x=r[1],(null===x||Ns(r,x)>0)&&(w=!0)):x=r,s)if(0!==v){const z=Bs(t[g+1]);t[o+1]=Gu(z,g),0!==z&&(t[z+1]=cp(t[z+1],o)),t[g+1]=function cC(t,n){return 131071&t|n<<17}(t[g+1],o)}else t[o+1]=Gu(g,0),0!==g&&(t[g+1]=cp(t[g+1],o)),g=o;else t[o+1]=Gu(v,0),0===g?g=o:t[v+1]=cp(t[v+1],o),v=o;w&&(t[o+1]=ap(t[o+1])),Km(t,x,o,!0),Km(t,x,o,!1),function dC(t,n,r,o,s){const a=s?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof n&&Ns(a,n)>=0&&(r[o+1]=lp(r[o+1]))}(n,x,t,o,a),f=Gu(g,v),a?n.classBindings=f:n.styleBindings=f}(s,a,n,r,f,o)}}function fp(t,n,r,o,s){let a=null;const f=r.directiveEnd;let g=r.directiveStylingLast;for(-1===g?g=r.directiveStart:g++;g<f&&(a=n[g],o=yl(o,a.hostAttrs,s),a!==t);)g++;return null!==t&&(r.directiveStylingLast=g),o}function yl(t,n,r){const o=r?1:2;let s=-1;if(null!==n)for(let a=0;a<n.length;a++){const f=n[a];"number"==typeof f?s=f:s===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mi(t,f,!!r||n[++a]))}return void 0===t?null:t}function i_(t,n,r){mi(t,n,$s(r))}function DC(t,n,r){const o=String(n);""!==o&&!o.includes(" ")&&mi(t,o,r)}function o_(t,n,r,o,s,a,f,g){if(!(3&n.type))return;const v=t.data,w=v[g+1],x=function lC(t){return 1==(1&t)}(w)?s_(v,n,r,s,pa(w),f):void 0;Hu(x)||(Hu(a)||function aC(t){return 2==(2&t)}(w)&&(a=s_(v,null,r,s,g,f)),function o1(t,n,r,o,s){if(n)s?t.addClass(r,o):t.removeClass(r,o);else{let a=-1===o.indexOf("-")?void 0:A.DashCase;null==s?t.removeStyle(r,o,a):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),a|=A.Important),t.setStyle(r,o,s,a))}}(o,f,So(Wr(),r),s,a))}function s_(t,n,r,o,s,a){const f=null===n;let g;for(;s>0;){const v=t[s],w=Array.isArray(v),x=w?v[1]:v,R=null===x;let z=r[s+1];z===Tt&&(z=R?gt:void 0);let H=R?Xc(z,o):x===o?z:void 0;if(w&&!Hu(H)&&(H=Xc(v,o)),Hu(H)&&(g=H,f))return g;const fe=t[s+1];s=f?Bs(fe):pa(fe)}if(null!==n){let v=a?n.residualClasses:n.residualStyles;null!=v&&(g=Xc(v,o))}return g}function Hu(t){return void 0!==t}function a_(t,n){return 0!=(t.flags&(n?8:16))}function c_(t,n=""){const r=be(),o=Ut(),s=t+wt,a=o.firstCreatePass?rc(o,s,1,n,null):o.data[s],f=l_(o,r,a,n,t);r[s]=f,xa()&&fu(o,r,f,a),Ti(a,!1)}let l_=(t,n,r,o,s)=>(Wo(!0),function go(t,n){return t.createText(n)}(n[ot],o));function pp(t){return Wu("",t,""),pp}function Wu(t,n,r){const o=be(),s=oc(o,t,n,r);return s!==Tt&&ms(o,Wr(),s),Wu}function hp(t,n,r,o,s){const a=be(),f=function sc(t,n,r,o,s,a){const g=fa(t,fo(),r,s);return h(2),g?n+Ve(r)+o+Ve(s)+a:Tt}(a,t,n,r,o,s);return f!==Tt&&ms(a,Wr(),f),hp}function gp(t,n,r,o,s,a,f){const g=be(),v=function ac(t,n,r,o,s,a,f,g){const w=Ru(t,fo(),r,s,f);return h(3),w?n+Ve(r)+o+Ve(s)+a+Ve(f)+g:Tt}(g,t,n,r,o,s,a,f);return v!==Tt&&ms(g,Wr(),v),gp}function m_(t,n,r){!function es(t){Fo(i_,yC,t,!1)}(oc(be(),t,n,r))}const ha=void 0;var KC=["en",[["a","p"],["AM","PM"],ha],[["AM","PM"],ha,ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ha,"{1} 'at' {0}",ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XC(t){const r=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let hc={};function mp(t){const n=function YC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=I_(n);if(r)return r;const o=n.split("-")[0];if(r=I_(o),r)return r;if("en"===o)return KC;throw new Te(701,!1)}function O_(t){return mp(t)[gc.PluralCase]}function I_(t){return t in hc||(hc[t]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[t]),hc[t]}var gc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(gc||{});const mc="en-US";let x_=mc;function yp(t,n,r,o,s){if(t=Ee(t),Array.isArray(t))for(let a=0;a<t.length;a++)yp(t[a],n,r,o,s);else{const a=Ut(),f=be(),g=sr();let v=da(t)?t:Ee(t.provide);const w=ng(t),x=1048575&g.providerIndexes,R=g.directiveStart,z=g.providerIndexes>>20;if(da(t)||!t.multi){const H=new ta(w,s,nc),fe=Cp(v,n,s?x:x+z,R);-1===fe?(Bc(Ra(g,f),a,v),bp(a,t,n.length),n.push(v),g.directiveStart++,g.directiveEnd++,s&&(g.providerIndexes+=1048576),r.push(H),f.push(H)):(r[fe]=H,f[fe]=H)}else{const H=Cp(v,n,x+z,R),fe=Cp(v,n,x,x+z),Be=fe>=0&&r[fe];if(s&&!Be||!s&&!(H>=0&&r[H])){Bc(Ra(g,f),a,v);const et=function XE(t,n,r,o,s){const a=new ta(t,r,nc);return a.multi=[],a.index=n,a.componentProviders=0,tv(a,s,o&&!r),a}(s?WE:HE,r.length,s,o,w);!s&&Be&&(r[fe].providerFactory=et),bp(a,t,n.length,0),n.push(v),g.directiveStart++,g.directiveEnd++,s&&(g.providerIndexes+=1048576),r.push(et),f.push(et)}else bp(a,t,H>-1?H:fe,tv(r[s?fe:H],w,!s&&o));!s&&o&&Be&&r[fe].componentProviders++}}}function bp(t,n,r,o){const s=da(n),a=function A1(t){return!!t.useClass}(n);if(s||a){const v=(a?Ee(n.useClass):n).prototype.ngOnDestroy;if(v){const w=t.destroyHooks||(t.destroyHooks=[]);if(!s&&n.multi){const x=w.indexOf(r);-1===x?w.push(r,[o,v]):w[x+1].push(o,v)}else w.push(r,v)}}}function tv(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Cp(t,n,r,o){for(let s=r;s<o;s++)if(n[s]===t)return s;return-1}function HE(t,n,r,o){return Ep(this.multi,[])}function WE(t,n,r,o){const s=this.multi;let a;if(this.providerFactory){const f=this.providerFactory.componentProviders,g=ps(r,r[Ne],this.providerFactory.index,o);a=g.slice(0,f),Ep(s,a);for(let v=f;v<g.length;v++)a.push(g[v])}else a=[],Ep(s,a);return a}function Ep(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function nv(t,n=[]){return r=>{r.providersResolver=(o,s)=>function GE(t,n,r){const o=Ut();if(o.firstCreatePass){const s=gr(t);yp(r,o.data,o.blueprint,s,!0),yp(n,o.data,o.blueprint,s,!1)}}(o,s?s(t):t,n)}}class ga{}class rv{}function KE(t,n){return new wp(t,n??null,[])}class wp extends ga{constructor(n,r,o){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new im(this);const s=Fn(n);this._bootstrapComponents=gs(s.bootstrap),this._r3Injector=mg(n,r,[{provide:ga,useValue:this},{provide:Du,useValue:this.componentFactoryResolver},...o],je(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Mp extends rv{constructor(n){super(),this.moduleType=n}create(n){return new wp(this.moduleType,n,[])}}class iv extends ga{constructor(n){super(),this.componentFactoryResolver=new im(this),this.instance=null;const r=new Ya([...n.providers,{provide:ga,useValue:this},{provide:Du,useValue:this.componentFactoryResolver}],n.parent||yu(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ov(t,n,r=null){return new iv({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let qE=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Jh(0,r.type),s=o.length>0?ov([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ft({token:t,providedIn:"environment",factory:()=>new t(Ie(qo))})}}return t})();function sv(t){t.getStandaloneInjector=n=>n.get(qE).getOrCreateStandaloneInjector(t)}function pv(t,n,r){const o=Nr()+t,s=be();return s[o]===Tt?Zo(s,o,r?n.call(r):n()):function gl(t,n){return t[n]}(s,o)}function hv(t,n,r,o){return vv(be(),Nr(),t,n,r,o)}function gv(t,n,r,o,s){return yv(be(),Nr(),t,n,r,o,s)}function mv(t,n,r,o,s,a){return bv(be(),Nr(),t,n,r,o,s,a)}function _v(t,n,r,o,s,a,f){return function Cv(t,n,r,o,s,a,f,g,v){const w=n+r;return function mo(t,n,r,o,s,a){const f=fa(t,n,r,o);return fa(t,n+2,s,a)||f}(t,w,s,a,f,g)?Zo(t,w+4,v?o.call(v,s,a,f,g):o(s,a,f,g)):Dl(t,w+4)}(be(),Nr(),t,n,r,o,s,a,f)}function Dl(t,n){const r=t[n];return r===Tt?void 0:r}function vv(t,n,r,o,s,a){const f=n+r;return ai(t,f,s)?Zo(t,f+1,a?o.call(a,s):o(s)):Dl(t,f+1)}function yv(t,n,r,o,s,a,f){const g=n+r;return fa(t,g,s,a)?Zo(t,g+2,f?o.call(f,s,a):o(s,a)):Dl(t,g+2)}function bv(t,n,r,o,s,a,f,g){const v=n+r;return Ru(t,v,s,a,f)?Zo(t,v+3,g?o.call(g,s,a,f):o(s,a,f)):Dl(t,v+3)}function wv(t,n){const r=Ut();let o;const s=t+wt;r.firstCreatePass?(o=function uw(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}}(n,r.pipeRegistry),r.data[s]=o,o.onDestroy&&(r.destroyHooks??=[]).push(s,o.onDestroy)):o=r.data[s];const a=o.factory||(o.factory=so(o.type)),g=Dn(nc);try{const v=Aa(!1),w=a();return Aa(v),function Jb(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}(r,be(),s,w),w}finally{Dn(g)}}function Mv(t,n,r){const o=t+wt,s=be(),a=ls(s,o);return Pl(s,o)?vv(s,Nr(),n,a.transform,r,a):a.transform(r)}function Dv(t,n,r,o){const s=t+wt,a=be(),f=ls(a,s);return Pl(a,s)?yv(a,Nr(),n,f.transform,r,o,f):f.transform(r,o)}function Pv(t,n,r,o,s){const a=t+wt,f=be(),g=ls(f,a);return Pl(f,a)?bv(f,Nr(),n,g.transform,r,o,s,g):g.transform(r,o,s)}function Pl(t,n){return t[Ne].data[n].pure}function pw(){return this._results[Symbol.iterator]()}class Pp{get changes(){return this._changes||(this._changes=new Qo)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Pp.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=pw)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const o=this;o.dirty=!1;const s=function Ri(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Pd(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let s=t[o],a=n[o];if(r&&(s=r(s),a=r(a)),a!==s)return!1}return!0}(o._results,s,r))&&(o._results=s,o.length=s.length,o.last=s[this.length-1],o.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function gw(t,n,r,o=!0){const s=n[Ne];if(function Qy(t,n,r,o){const s=zn+o,a=r.length;o>0&&(r[s-1][Zn]=n),o<a-zn?(n[Zn]=r[s],Jl(r,zn+o,n)):(r.push(n),n[Zn]=null),n[sn]=r;const f=n[Rn];null!==f&&r!==f&&function Jy(t,n){const r=t[Dr];n[gn]!==n[sn][sn][gn]&&(t[Mr]=!0),null===r?t[Dr]=[n]:r.push(n)}(f,n);const g=n[Nn];null!==g&&g.insertView(t),n[mt]|=128}(s,n,t,r),o){const a=Zd(r,t),f=n[ot],g=du(f,t[Tr]);null!==g&&function Ky(t,n,r,o,s,a){o[ln]=s,o[Sn]=n,nl(t,o,r,1,s,a)}(s,t[Sn],f,n,g,a)}}let Sl=(()=>{class t{static{this.__NG_ELEMENT_ID__=vw}}return t})();const mw=Sl,_w=class extends mw{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const s=function hw(t,n,r,o){const s=n.tView,g=Iu(t,s,r,4096&t[mt]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);g[Rn]=t[n.index];const w=t[Nn];return null!==w&&(g[Nn]=w.createEmbeddedView(s)),Xf(s,g,r),g}(this._declarationLView,this._declarationTContainer,n,{injector:r,hydrationInfo:o});return new pl(s)}};function vw(){return Qu(sr(),be())}function Qu(t,n){return 4&t.type?new _w(n,t,Za(t,n)):null}let Zu=(()=>{class t{static{this.__NG_ELEMENT_ID__=Mw}}return t})();function Mw(){return Fv(sr(),be())}const Dw=Zu,kv=class extends Dw{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){const n=Na(this._hostTNode,this._hostLView);if(Lc(n)){const r=ra(n,this._hostLView),o=na(n);return new Xr(r[Ne].data[o+8],r)}return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=Tv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-zn}createEmbeddedView(n,r,o){let s,a;"number"==typeof o?s=o:null!=o&&(s=o.index,a=o.injector);const g=n.createEmbeddedViewImpl(r||{},a,null);return this.insertImpl(g,s,false),g}createComponent(n,r,o,s,a){const f=n&&!function sa(t){return"function"==typeof t}(n);let g;if(f)g=r;else{const Me=r||{};g=Me.index,o=Me.injector,s=Me.projectableNodes,a=Me.environmentInjector||Me.ngModuleRef}const v=f?n:new hl(ft(n)),w=o||this.parentInjector;if(!a&&null==v.ngModule){const Be=(f?w:this.parentInjector).get(qo,null);Be&&(a=Be)}ft(v.componentType??{});const H=v.create(w,s,null,a);return this.insertImpl(H.hostView,g,false),H}insert(n,r){return this.insertImpl(n,r,!1)}insertImpl(n,r,o){const s=n._lView;if(function Ma(t){return jn(t[sn])}(s)){const v=this.indexOf(n);if(-1!==v)this.detach(v);else{const w=s[sn],x=new kv(w,w[Sn],w[sn]);x.detach(x.indexOf(n))}}const f=this._adjustIndex(r),g=this._lContainer;return gw(g,s,f,!o),n.attachToViewContainerRef(),Jl(Sp(g),f,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=Tv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=uu(this._lContainer,r);o&&(Va(Sp(this._lContainer),r),Yd(o[Ne],o))}detach(n){const r=this._adjustIndex(n,-1),o=uu(this._lContainer,r);return o&&null!=Va(Sp(this._lContainer),r)?new pl(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function Tv(t){return t[8]}function Sp(t){return t[8]||(t[8]=[])}function Fv(t,n){let r;const o=n[t.index];return jn(o)?r=o:(r=Wg(o,n,null,t),n[t.index]=r,xu(n,r)),Av(r,n,t,o),new kv(r,t,n)}let Av=function Rv(t,n,r,o){if(t[Tr])return;let s;s=8&r.type?mn(o):function Pw(t,n){const r=t[ot],o=r.createComment(""),s=Rr(n,t);return ua(r,du(r,s),o,function n1(t,n){return t.nextSibling(n)}(r,s),!1),o}(n,r),t[Tr]=s};class Op{constructor(n){this.queryList=n,this.matches=null}clone(){return new Op(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ip{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,s=[];for(let a=0;a<o;a++){const f=r.getByIndex(a);s.push(this.queries[f.indexInDeclarationView].clone())}return new Ip(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Gv(n,r).matches&&this.queries[r].setDirty()}}class Nv{constructor(n,r,o=null){this.predicate=n,this.flags=r,this.read=o}}class xp{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const s=null!==r?r.length:0,a=this.getByIndex(o).embeddedTView(n,s);a&&(a.indexInDeclarationView=o,null!==r?r.push(a):r=[a])}return null!==r?new xp(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class kp{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new kp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let s=0;s<o.length;s++){const a=o[s];this.matchTNodeWithReadOption(n,r,Iw(r,a)),this.matchTNodeWithReadOption(n,r,ja(r,n,a,!1,!1))}else o===Sl?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,ja(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const s=this.metadata.read;if(null!==s)if(s===ll||s===Zu||s===Sl&&4&r.type)this.addMatch(r.index,-2);else{const a=ja(r,n,s,!1,!1);null!==a&&this.addMatch(r.index,a)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Iw(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function kw(t,n,r,o){return-1===r?function xw(t,n){return 11&t.type?Za(t,n):4&t.type?Qu(t,n):null}(n,t):-2===r?function Tw(t,n,r){return r===ll?Za(n,t):r===Sl?Qu(n,t):r===Zu?Fv(n,t):void 0}(t,n,o):ps(t,t[Ne],r,n)}function jv(t,n,r,o){const s=n[Nn].queries[o];if(null===s.matches){const a=t.data,f=r.matches,g=[];for(let v=0;v<f.length;v+=2){const w=f[v];g.push(w<0?null:kw(n,a[w],f[v+1],r.metadata.read))}s.matches=g}return s.matches}function Tp(t,n,r,o){const s=t.queries.getByIndex(r),a=s.matches;if(null!==a){const f=jv(t,n,s,r);for(let g=0;g<a.length;g+=2){const v=a[g];if(v>0)o.push(f[g/2]);else{const w=a[g+1],x=n[-v];for(let R=zn;R<x.length;R++){const z=x[R];z[Rn]===z[sn]&&Tp(z[Ne],z,w,o)}if(null!==x[Dr]){const R=x[Dr];for(let z=0;z<R.length;z++){const H=R[z];Tp(H[Ne],H,w,o)}}}}}return o}function Vv(t){const n=be(),r=Ut(),o=te();q(o+1);const s=Gv(r,o);if(t.dirty&&function Sc(t){return 4==(4&t[mt])}(n)===(2==(2&s.metadata.flags))){if(null===s.matches)t.reset([]);else{const a=s.crossesNgTemplate?Tp(r,n,o,[]):jv(r,n,s,o);t.reset(a,r0),t.notifyOnChanges()}return!0}return!1}function Lv(t,n,r){const o=Ut();o.firstCreatePass&&(zv(o,new Nv(t,n,r),-1),2==(2&n)&&(o.staticViewQueries=!0)),Bv(o,be(),n)}function $v(t,n,r,o){const s=Ut();if(s.firstCreatePass){const a=sr();zv(s,new Nv(n,r,o),a.index),function Aw(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(s,t),2==(2&r)&&(s.staticContentQueries=!0)}Bv(s,be(),r)}function Uv(){return function Fw(t,n){return t[Nn].queries[n].queryList}(be(),te())}function Bv(t,n,r){const o=new Pp(4==(4&r));(function L0(t,n,r,o){const s=Kg(n);s.push(r),t.firstCreatePass&&Yg(t).push(o,s.length-1)})(t,n,o,o.destroy),null===n[Nn]&&(n[Nn]=new Ip),n[Nn].queries.push(new Op(o))}function zv(t,n,r){null===t.queries&&(t.queries=new xp),t.queries.track(new kp(n,r))}function Gv(t,n){return t.queries.getByIndex(n)}function Fp(t){return!!Fn(t)}const ay=new vt("Application Initializer");let Vp=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=Ae(ay,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const a=s();if(op(a))r.push(a);else if(km(a)){const f=new Promise((g,v)=>{a.subscribe({complete:g,error:v})});r.push(f)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(s=>{this.reject(s)}),0===r.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cy=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const td=new vt("LocaleId",{providedIn:"root",factory:()=>Ae(td,ze.Optional|ze.SkipSelf)||function nM(){return typeof $localize<"u"&&$localize.locale||mc}()}),rM=new vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ly=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.t(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class oM{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let sM=(()=>{class t{compileModuleSync(r){return new Mp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),a=gs(Fn(r).declarations).reduce((f,g)=>{const v=ft(g);return v&&f.push(new hl(v)),f},[]);return new oM(o,a)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const py=new vt(""),hy=new vt("");let Up,OM=(()=>{class t{constructor(r,o,s){this._ngZone=r,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Up||(function IM(t){Up=t}(s),s.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,s){let a=-1;o&&o>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==a),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:s})}whenStable(r,o,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,s){return[]}static{this.\u0275fac=function(o){return new(o||t)(Ie(jr),Ie(gy),Ie(hy))}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac})}}return t})(),gy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return Up?.findTestabilityInTree(this,r,o)??null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),zs=null;const my=new vt("AllowMultipleToken"),Bp=new vt("PlatformDestroyListeners"),zp=new vt("appBootstrapListener");class TM{constructor(n,r){this.name=n,this.token=r}}function yy(t,n,r=[]){const o=`Platform: ${n}`,s=new vt(o);return(a=[])=>{let f=Gp();if(!f||f.injector.get(my,!1)){const g=[...r,...a,{provide:s,useValue:!0}];t?t(g):function FM(t){if(zs&&!zs.get(my,!1))throw new Te(400,!1);(function _y(){!function ge(t){j=t}(()=>{throw new Te(600,!1)})})(),zs=t;const n=t.get(Cy);(function vy(t){t.get(ig,null)?.forEach(r=>r())})(t)}(function by(t=[],n){return ko.create({name:n,providers:[{provide:gf,useValue:"platform"},{provide:Bp,useValue:new Set([()=>zs=null])},...t]})}(g,o))}return function RM(t){const n=Gp();if(!n)throw new Te(401,!1);return n}()}}function Gp(){return zs?.get(Cy)??null}let Cy=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const s=function NM(t="zone.js",n){return"noop"===t?new C0:"zone.js"===t?new jr(n):t}(o?.ngZone,function Ey(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return s.run(()=>{const a=function YE(t,n,r){return new wp(t,n,r)}(r.moduleType,this.injector,function Sy(t){return[{provide:jr,useFactory:t},{provide:sl,multi:!0,useFactory:()=>{const n=Ae(VM,{optional:!0});return()=>n.initialize()}},{provide:Py,useFactory:jM},{provide:Cg,useFactory:Eg}]}(()=>s)),f=a.injector.get(Us,null);return s.runOutsideAngular(()=>{const g=s.onError.subscribe({next:v=>{f.handleError(v)}});a.onDestroy(()=>{rd(this._modules,a),g.unsubscribe()})}),function wy(t,n,r){try{const o=r();return op(o)?o.catch(s=>{throw n.runOutsideAngular(()=>t.handleError(s)),s}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(f,s,()=>{const g=a.injector.get(Vp);return g.runInitializers(),g.donePromise.then(()=>(function k_(t){Yt(t,"Expected localeId to be defined"),"string"==typeof t&&(x_=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(td,mc)||mc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(r,o=[]){const s=My({},o);return function xM(t,n,r){const o=new Mp(r);return Promise.resolve(o)}(0,0,r).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(r){const o=r.injector.get(yc);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>o.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new Te(-403,!1);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(Bp,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(o){return new(o||t)(Ie(ko))}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function My(t,n){return Array.isArray(n)?n.reduce(My,t):{...t,...n}}let yc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ae(Py),this.zoneIsStable=Ae(Cg),this.componentTypes=[],this.components=[],this.isStable=Ae(ly).hasPendingTasks.pipe((0,jt.n)(r=>r?(0,ee.of)(!1):this.zoneIsStable),function Lt(t,n=St.D){return t=t??Qt,(0,Re.N)((r,o)=>{let s,a=!0;r.subscribe((0,Vt._)(o,f=>{const g=n(f);(a||!t(s,g))&&(a=!1,s=g,o.next(f))}))})}(),xe()),this._injector=Ae(qo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){const s=r instanceof cg;if(!this._injector.get(Vp).done)throw!s&&zr(r),new Te(405,!1);let f;f=s?r:this._injector.get(Du).resolveComponentFactory(r),this.componentTypes.push(f.componentType);const g=function kM(t){return t.isBoundToModule}(f)?void 0:this._injector.get(ga),w=f.create(ko.NULL,[],o||f.selector,g),x=w.location.nativeElement,R=w.injector.get(py,null);return R?.registerApplication(x),w.onDestroy(()=>{this.detachView(w.hostView),rd(this.components,w),R?.unregisterApplication(x)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;rd(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(zp,[]);o.push(...this._bootstrapListeners),o.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Te(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rd(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}const Py=new vt("",{providedIn:"root",factory:()=>Ae(Us).handleError.bind(void 0)});function jM(){const t=Ae(jr),n=Ae(Us);return r=>t.runOutsideAngular(()=>n.handleError(r))}let VM=(()=>{class t{constructor(){this.zone=Ae(jr),this.applicationRef=Ae(yc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Ft({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let $M=(()=>{class t{static{this.__NG_ELEMENT_ID__=UM}}return t})();function UM(t){return function BM(t,n,r){if(Fr(t)&&!r){const o=oi(t.index,n);return new pl(o,o)}return 47&t.type?new pl(n[gn],n):null}(sr(),be(),16==(16&t))}class Ty{constructor(){}supports(n){return Au(n)}create(n){return new XM(n)}}const WM=(t,n)=>n;class XM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||WM}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,s=0,a=null;for(;r||o;){const f=!o||r&&r.currentIndex<Ay(o,s,a)?r:o,g=Ay(f,s,a),v=f.currentIndex;if(f===o)s--,o=o._nextRemoved;else if(r=r._next,null==f.previousIndex)s++;else{a||(a=[]);const w=g-s,x=v-s;if(w!=x){for(let z=0;z<w;z++){const H=z<a.length?a[z]:a[z]=0,fe=H+z;x<=fe&&fe<w&&(a[z]=H+1)}a[f.previousIndex]=x-w}}g!==v&&n(f,g,v)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Au(n))throw new Te(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s,a,f,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let g=0;g<this.length;g++)a=n[g],f=this._trackByFn(g,a),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,a,f,g)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,f,g),o=!0),r=r._next}else s=0,function kb(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,g=>{f=this._trackByFn(s,g),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,g,f,s)),Object.is(r.item,g)||this._addIdentityChange(r,g)):(r=this._mismatch(r,g,f,s),o=!0),r=r._next,s++}),this.length=s;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,s){let a;return null===n?a=this._itTail:(a=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,a,s)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,s))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,a,s)):n=this._addAfter(new KM(r,o),a,s),n}_verifyReinsertion(n,r,o,s){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==a?n=this._reinsertAfter(a,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const s=n._prevRemoved,a=n._nextRemoved;return null===s?this._removalsHead=a:s._nextRemoved=a,null===a?this._removalsTail=s:a._prevRemoved=s,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const s=null===r?this._itHead:r._next;return n._next=s,n._prev=r,null===s?this._itTail=n:s._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new Fy),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fy),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class KM{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class Fy{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new YM,this.map.set(r,o)),o.add(n)}get(n,r){const s=this.map.get(n);return s?s.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ay(t,n,r){const o=t.previousIndex;if(null===o)return o;let s=0;return r&&o<r.length&&(s=r[o]),o+n+s}class Ry{constructor(){}supports(n){return n instanceof Map||Yf(n)}create(){return new qM}}class qM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||Yf(n)))throw new Te(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,s)=>{if(r&&r.key===s)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const a=this._getOrCreateRecordForKey(s,o);r=this._insertBeforeOrAppend(r,a)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const s=this._records.get(n);this._maybeAddToChanges(s,r);const a=s._prev,f=s._next;return a&&(a._next=f),f&&(f._prev=a),s._next=null,s._prev=null,s}const o=new QM(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class QM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ny(){return new Yp([new Ty])}let Yp=(()=>{class t{static{this.\u0275prov=Ft({token:t,providedIn:"root",factory:Ny})}constructor(r){this.factories=r}static create(r,o){if(null!=o){const s=o.factories.slice();r=r.concat(s)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||Ny()),deps:[[t,new Ua,new $a]]}}find(r){const o=this.factories.find(s=>s.supports(r));if(null!=o)return o;throw new Te(901,!1)}}return t})();function jy(){return new qp([new Ry])}let qp=(()=>{class t{static{this.\u0275prov=Ft({token:t,providedIn:"root",factory:jy})}constructor(r){this.factories=r}static create(r,o){if(o){const s=o.factories.slice();r=r.concat(s)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||jy()),deps:[[t,new Ua,new $a]]}}find(r){const o=this.factories.find(s=>s.supports(r));if(o)return o;throw new Te(901,!1)}}return t})();const eD=yy(null,"core",[]);let tD=(()=>{class t{constructor(r){}static{this.\u0275fac=function(o){return new(o||t)(Ie(yc))}}static{this.\u0275mod=ui({type:t})}static{this.\u0275inj=dt({})}}return t})();function fD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function hD(t){const n=ft(t);if(!n)return null;const r=new hl(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4341:(rt,_e,F)=>{F.d(_e,{Zm:()=>St,me:()=>ve,ok:()=>jn,JD:()=>Di,j4:()=>ft,YN:()=>gr,tU:()=>wt,BC:()=>dt,cb:()=>it,vS:()=>wi,xH:()=>mt,Fm:()=>Zr,X1:()=>jo,wz:()=>Ne,k0:()=>Ee,qT:()=>bo,y7:()=>hn});var m=F(540),e=F(177),pe=F(6648),ce=F(1985),J=F(3073),oe=F(8750),me=F(9326),ie=F(4360),re=F(6450),se=F(8496),Ce=F(6354);let Re=(()=>{class D{constructor(C,T){this._renderer=C,this._elementRef=T,this.onChange=U=>{},this.onTouched=()=>{}}setProperty(C,T){this._renderer.setProperty(this._elementRef.nativeElement,C,T)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(m.sFG),m.rXU(m.aKT))}}static{this.\u0275dir=m.FsC({type:D})}}return D})(),xe=(()=>{class D extends Re{static{this.\u0275fac=function(){let C;return function(U){return(C||(C=m.xGo(D)))(U||D)}}()}static{this.\u0275dir=m.FsC({type:D,features:[m.Vt3]})}}return D})();const He=new m.nKC("NgValueAccessor"),jt={provide:He,useExisting:(0,m.Rfq)(()=>St),multi:!0};let St=(()=>{class D extends xe{writeValue(C){this.setProperty("checked",C)}static{this.\u0275fac=function(){let C;return function(U){return(C||(C=m.xGo(D)))(U||D)}}()}static{this.\u0275dir=m.FsC({type:D,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(T,U){1&T&&m.bIt("change",function(Ct){return U.onChange(Ct.target.checked)})("blur",function(){return U.onTouched()})},features:[m.Jv_([jt]),m.Vt3]})}}return D})();const Vt={provide:He,useExisting:(0,m.Rfq)(()=>ve),multi:!0},Qt=new m.nKC("CompositionEventMode");let ve=(()=>{class D extends Re{constructor(C,T,U){super(C,T),this._compositionMode=U,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Lt(){const D=(0,e.QT)()?(0,e.QT)().getUserAgent():"";return/android (\d+)/.test(D.toLowerCase())}())}writeValue(C){this.setProperty("value",C??"")}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(Qt,8))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,U){1&T&&m.bIt("input",function(Ct){return U._handleInput(Ct.target.value)})("blur",function(){return U.onTouched()})("compositionstart",function(){return U._compositionStart()})("compositionend",function(Ct){return U._compositionEnd(Ct.target.value)})},features:[m.Jv_([Vt]),m.Vt3]})}}return D})();function Se(D){return null==D||("string"==typeof D||Array.isArray(D))&&0===D.length}function je(D){return null!=D&&"number"==typeof D.length}const tt=new m.nKC("NgValidators"),ke=new m.nKC("NgAsyncValidators"),Oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ee{static min(S){return function nt(D){return S=>{if(Se(S.value)||Se(D))return null;const C=parseFloat(S.value);return!isNaN(C)&&C<D?{min:{min:D,actual:S.value}}:null}}(S)}static max(S){return function Gt(D){return S=>{if(Se(S.value)||Se(D))return null;const C=parseFloat(S.value);return!isNaN(C)&&C>D?{max:{max:D,actual:S.value}}:null}}(S)}static required(S){return function Mn(D){return Se(D.value)?{required:!0}:null}(S)}static requiredTrue(S){return function Hn(D){return!0===D.value?null:{required:!0}}(S)}static email(S){return function Te(D){return Se(D.value)||Oe.test(D.value)?null:{email:!0}}(S)}static minLength(S){return function rn(D){return S=>Se(S.value)||!je(S.value)?null:S.value.length<D?{minlength:{requiredLength:D,actualLength:S.value.length}}:null}(S)}static maxLength(S){return Ve(S)}static pattern(S){return function ut(D){if(!D)return $n;let S,C;return"string"==typeof D?(C="","^"!==D.charAt(0)&&(C+="^"),C+=D,"$"!==D.charAt(D.length-1)&&(C+="$"),S=new RegExp(C)):(C=D.toString(),S=D),T=>{if(Se(T.value))return null;const U=T.value;return S.test(U)?null:{pattern:{requiredPattern:C,actualValue:U}}}}(S)}static nullValidator(S){return null}static compose(S){return we(S)}static composeAsync(S){return lt(S)}}function Ve(D){return S=>je(S.value)&&S.value.length>D?{maxlength:{requiredLength:D,actualLength:S.value.length}}:null}function $n(D){return null}function Kr(D){return null!=D}function Y(D){return(0,m.jNT)(D)?(0,pe.H)(D):D}function Z(D){let S={};return D.forEach(C=>{S=null!=C?{...S,...C}:S}),0===Object.keys(S).length?null:S}function Q(D,S){return S.map(C=>C(D))}function Pe(D){return D.map(S=>function ae(D){return!D.validate}(S)?S:C=>S.validate(C))}function we(D){if(!D)return null;const S=D.filter(Kr);return 0==S.length?null:function(C){return Z(Q(C,S))}}function We(D){return null!=D?we(Pe(D)):null}function lt(D){if(!D)return null;const S=D.filter(Kr);return 0==S.length?null:function(C){return function ee(...D){const S=(0,me.ms)(D),{args:C,keys:T}=(0,J.D)(D),U=new ce.c(Xe=>{const{length:Ct}=C;if(!Ct)return void Xe.complete();const tr=new Array(Ct);let zi=Ct,Oi=Ct;for(let Gi=0;Gi<Ct;Gi++){let Hi=!1;(0,oe.Tg)(C[Gi]).subscribe((0,ie._)(Xe,pi=>{Hi||(Hi=!0,Oi--),tr[Gi]=pi},()=>zi--,void 0,()=>{(!zi||!Hi)&&(Oi||Xe.next(T?(0,se.e)(T,tr):tr),Xe.complete())}))}});return S?U.pipe((0,re.I)(S)):U}(Q(C,S).map(Y)).pipe((0,Ce.T)(Z))}}function Kt(D){return null!=D?lt(Pe(D)):null}function at(D,S){return null===D?[S]:Array.isArray(D)?[...D,S]:[D,S]}function Rt(D){return D._rawValidators}function Jt(D){return D._rawAsyncValidators}function ur(D){return D?Array.isArray(D)?D:[D]:[]}function _t(D,S){return Array.isArray(D)?D.includes(S):D===S}function _n(D,S){const C=ur(S);return ur(D).forEach(U=>{_t(C,U)||C.push(U)}),C}function Yt(D,S){return ur(S).filter(C=>!_t(D,C))}class Ye{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=We(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S=void 0){this.control&&this.control.reset(S)}hasError(S,C){return!!this.control&&this.control.hasError(S,C)}getError(S,C){return this.control?this.control.getError(S,C):null}}class Ke extends Ye{get formDirective(){return null}get path(){return null}}class Un extends Ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yr{constructor(S){this._cd=S}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dt=(()=>{class D extends Yr{constructor(C){super(C)}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(Un,2))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,U){2&T&&m.AVh("ng-untouched",U.isUntouched)("ng-touched",U.isTouched)("ng-pristine",U.isPristine)("ng-dirty",U.isDirty)("ng-valid",U.isValid)("ng-invalid",U.isInvalid)("ng-pending",U.isPending)},features:[m.Vt3]})}}return D})(),it=(()=>{class D extends Yr{constructor(C){super(C)}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(Ke,10))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,U){2&T&&m.AVh("ng-untouched",U.isUntouched)("ng-touched",U.isTouched)("ng-pristine",U.isPristine)("ng-dirty",U.isDirty)("ng-valid",U.isValid)("ng-invalid",U.isInvalid)("ng-pending",U.isPending)("ng-submitted",U.isSubmitted)},features:[m.Vt3]})}}return D})();const vt="VALID",rr="INVALID",Xn="PENDING",Jr="DISABLED";function fr(D){return(G(D)?D.validators:D)||null}function X(D,S){return(G(S)?S.asyncValidators:D)||null}function G(D){return null!=D&&!Array.isArray(D)&&"object"==typeof D}function he(D,S,C){const T=D.controls;if(!(S?Object.keys(T):T).length)throw new m.wOt(1e3,"");if(!T[C])throw new m.wOt(1001,"")}function Fe(D,S,C){D._forEachChild((T,U)=>{if(void 0===C[U])throw new m.wOt(1002,"")})}class Qe{constructor(S,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===vt}get invalid(){return this.status===rr}get pending(){return this.status==Xn}get disabled(){return this.status===Jr}get enabled(){return this.status!==Jr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(_n(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(_n(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Yt(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Yt(S,this._rawAsyncValidators))}hasValidator(S){return _t(this._rawValidators,S)}hasAsyncValidator(S){return _t(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=Xn,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const C=this._parentMarkedDirty(S.onlySelf);this.status=Jr,this.errors=null,this._forEachChild(T=>{T.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:C}),this._onDisabledChange.forEach(T=>T(!0))}enable(S={}){const C=this._parentMarkedDirty(S.onlySelf);this.status=vt,this._forEachChild(T=>{T.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:C}),this._onDisabledChange.forEach(T=>T(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===Xn)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jr:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=Xn,this._hasOwnPendingAsyncValidator=!0;const C=Y(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(T=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(T,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,C={}){this.errors=S,this._updateControlsErrors(!1!==C.emitEvent)}get(S){let C=S;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((T,U)=>T&&T._find(U),this)}getError(S,C){const T=C?this.get(C):this;return T&&T.errors?T.errors[S]:null}hasError(S,C){return!!this.getError(S,C)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new m.bkB,this.statusChanges=new m.bkB}_calculateStatus(){return this._allControlsDisabled()?Jr:this.errors?rr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xn)?Xn:this._anyControlsHaveStatus(rr)?rr:vt}_anyControlsHaveStatus(S){return this._anyControls(C=>C.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){G(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function le(D){return Array.isArray(D)?We(D):D||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function V(D){return Array.isArray(D)?Kt(D):D||null}(this._rawAsyncValidators)}}class Dt extends Qe{constructor(S,C,T){super(fr(C),X(T,C)),this.controls=S,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,C){return this.controls[S]?this.controls[S]:(this.controls[S]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(S,C,T={}){this.registerControl(S,C),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}removeControl(S,C={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(S,C,T={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],C&&this.registerControl(S,C),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,C={}){Fe(this,0,S),Object.keys(S).forEach(T=>{he(this,!0,T),this.controls[T].setValue(S[T],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(S,C={}){null!=S&&(Object.keys(S).forEach(T=>{const U=this.controls[T];U&&U.patchValue(S[T],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(S={},C={}){this._forEachChild((T,U)=>{T.reset(S?S[U]:null,{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(S,C,T)=>(S[T]=C.getRawValue(),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(C,T)=>!!T._syncPendingControls()||C);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(C=>{const T=this.controls[C];T&&S(T,C)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const[C,T]of Object.entries(this.controls))if(this.contains(C)&&S(T))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,T,U)=>((T.enabled||this.disabled)&&(C[U]=T.value),C))}_reduceChildren(S,C){let T=S;return this._forEachChild((U,Xe)=>{T=C(T,U,Xe)}),T}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(S){return this.controls.hasOwnProperty(S)?this.controls[S]:null}}class Kn extends Dt{}const W=new m.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>L}),L="always";function B(D,S){return[...S.path,D]}function de(D,S,C=L){Ht(D,S),S.valueAccessor.writeValue(D.value),(D.disabled||"always"===C)&&S.valueAccessor.setDisabledState?.(D.disabled),function fn(D,S){S.valueAccessor.registerOnChange(C=>{D._pendingValue=C,D._pendingChange=!0,D._pendingDirty=!0,"change"===D.updateOn&&yn(D,S)})}(D,S),function ir(D,S){const C=(T,U)=>{S.valueAccessor.writeValue(T),U&&S.viewToModelUpdate(T)};D.registerOnChange(C),S._registerOnDestroy(()=>{D._unregisterOnChange(C)})}(D,S),function Tn(D,S){S.valueAccessor.registerOnTouched(()=>{D._pendingTouched=!0,"blur"===D.updateOn&&D._pendingChange&&yn(D,S),"submit"!==D.updateOn&&D.markAsTouched()})}(D,S),function Ie(D,S){if(S.valueAccessor.setDisabledState){const C=T=>{S.valueAccessor.setDisabledState(T)};D.registerOnDisabledChange(C),S._registerOnDestroy(()=>{D._unregisterOnDisabledChange(C)})}}(D,S)}function De(D,S,C=!0){const T=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(T),S.valueAccessor.registerOnTouched(T)),Ae(D,S),D&&(S._invokeOnDestroyCallbacks(),D._registerOnCollectionChange(()=>{}))}function Le(D,S){D.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(S)})}function Ht(D,S){const C=Rt(D);null!==S.validator?D.setValidators(at(C,S.validator)):"function"==typeof C&&D.setValidators([C]);const T=Jt(D);null!==S.asyncValidator?D.setAsyncValidators(at(T,S.asyncValidator)):"function"==typeof T&&D.setAsyncValidators([T]);const U=()=>D.updateValueAndValidity();Le(S._rawValidators,U),Le(S._rawAsyncValidators,U)}function Ae(D,S){let C=!1;if(null!==D){if(null!==S.validator){const U=Rt(D);if(Array.isArray(U)&&U.length>0){const Xe=U.filter(Ct=>Ct!==S.validator);Xe.length!==U.length&&(C=!0,D.setValidators(Xe))}}if(null!==S.asyncValidator){const U=Jt(D);if(Array.isArray(U)&&U.length>0){const Xe=U.filter(Ct=>Ct!==S.asyncValidator);Xe.length!==U.length&&(C=!0,D.setAsyncValidators(Xe))}}}const T=()=>{};return Le(S._rawValidators,T),Le(S._rawAsyncValidators,T),C}function yn(D,S){D._pendingDirty&&D.markAsDirty(),D.setValue(D._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(D._pendingValue),D._pendingChange=!1}function qn(D,S){if(!D.hasOwnProperty("model"))return!1;const C=D.model;return!!C.isFirstChange()||!Object.is(S,C.currentValue)}function Vr(D,S){if(!S)return null;let C,T,U;return Array.isArray(S),S.forEach(Xe=>{Xe.constructor===ve?C=Xe:function Ci(D){return Object.getPrototypeOf(D.constructor)===xe}(Xe)?T=Xe:U=Xe}),U||T||C||null}function Li(D,S){const C=D.indexOf(S);C>-1&&D.splice(C,1)}function Qi(D){return"object"==typeof D&&null!==D&&2===Object.keys(D).length&&"value"in D&&"disabled"in D}const Jn=class extends Qe{constructor(S=null,C,T){super(fr(C),X(T,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),G(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=Qi(S)?S.value:S)}setValue(S,C={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(T=>T(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(S,C={}){this.setValue(S,C)}reset(S=this.defaultValue,C={}){this._applyFormState(S),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){Li(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){Li(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){Qi(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}},yo={provide:Un,useExisting:(0,m.Rfq)(()=>wi)},Zi=(()=>Promise.resolve())();let wi=(()=>{class D extends Un{constructor(C,T,U,Xe,Ct,tr){super(),this._changeDetectorRef=Ct,this.callSetDisabledState=tr,this.control=new Jn,this._registered=!1,this.name="",this.update=new m.bkB,this._parent=C,this._setValidators(T),this._setAsyncValidators(U),this.valueAccessor=Vr(0,Xe)}ngOnChanges(C){if(this._checkForErrors(),!this._registered||"name"in C){if(this._registered&&(this._checkName(),this.formDirective)){const T=C.name.previousValue;this.formDirective.removeControl({name:T,path:this._getPath(T)})}this._setUpControl()}"isDisabled"in C&&this._updateDisabled(C),qn(C,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){de(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(C){Zi.then(()=>{this.control.setValue(C,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(C){const T=C.isDisabled.currentValue,U=0!==T&&(0,m.L39)(T);Zi.then(()=>{U&&!this.control.disabled?this.control.disable():!U&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(C){return this._parent?B(C,this._parent):[C]}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(Ke,9),m.rXU(tt,10),m.rXU(ke,10),m.rXU(He,10),m.rXU(m.gRc,8),m.rXU(W,8))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m.Jv_([yo]),m.Vt3,m.OA$]})}}return D})(),bo=(()=>{class D{static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275dir=m.FsC({type:D,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return D})();const rs={provide:He,useExisting:(0,m.Rfq)(()=>Zr),multi:!0};let li=(()=>{class D{static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275mod=m.$C({type:D})}static{this.\u0275inj=m.G2t({})}}return D})(),Co=(()=>{class D{constructor(){this._accessors=[]}add(C,T){this._accessors.push([C,T])}remove(C){for(let T=this._accessors.length-1;T>=0;--T)if(this._accessors[T][1]===C)return void this._accessors.splice(T,1)}select(C){this._accessors.forEach(T=>{this._isSameGroup(T,C)&&T[1]!==C&&T[1].fireUncheck(C.value)})}_isSameGroup(C,T){return!!C[0].control&&C[0]._parent===T._control._parent&&C[1].name===T.name}static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275prov=m.jDH({token:D,factory:D.\u0275fac,providedIn:li})}}return D})(),Zr=(()=>{class D extends xe{constructor(C,T,U,Xe){super(C,T),this._registry=U,this._injector=Xe,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,m.WQX)(W,{optional:!0})??L}ngOnInit(){this._control=this._injector.get(Un),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(C){this._state=C===this.value,this.setProperty("checked",this._state)}registerOnChange(C){this._fn=C,this.onChange=()=>{C(this.value),this._registry.select(this)}}setDisabledState(C){(this.setDisabledStateFired||C||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",C),this.setDisabledStateFired=!0}fireUncheck(C){this.writeValue(C)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(Co),m.rXU(m.zZn))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(T,U){1&T&&m.bIt("change",function(){return U.onChange()})("blur",function(){return U.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[m.Jv_([rs]),m.Vt3]})}}return D})();const di=new m.nKC("NgModelWithFormControlWarning"),Eo={provide:Ke,useExisting:(0,m.Rfq)(()=>ft)};let ft=(()=>{class D extends Ke{constructor(C,T,U){super(),this.callSetDisabledState=U,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.bkB,this._setValidators(C),this._setAsyncValidators(T)}ngOnChanges(C){this._checkFormPresent(),C.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ae(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(C){const T=this.form.get(C.path);return de(T,C,this.callSetDisabledState),T.updateValueAndValidity({emitEvent:!1}),this.directives.push(C),T}getControl(C){return this.form.get(C.path)}removeControl(C){De(C.control||null,C,!1),function Cr(D,S){const C=D.indexOf(S);C>-1&&D.splice(C,1)}(this.directives,C)}addFormGroup(C){this._setUpFormContainer(C)}removeFormGroup(C){this._cleanUpFormContainer(C)}getFormGroup(C){return this.form.get(C.path)}addFormArray(C){this._setUpFormContainer(C)}removeFormArray(C){this._cleanUpFormContainer(C)}getFormArray(C){return this.form.get(C.path)}updateModel(C,T){this.form.get(C.path).setValue(T)}onSubmit(C){return this.submitted=!0,function Ei(D,S){D._syncPendingControls(),S.forEach(C=>{const T=C.control;"submit"===T.updateOn&&T._pendingChange&&(C.viewToModelUpdate(T._pendingValue),T._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(C),"dialog"===C?.target?.method}onReset(){this.resetForm()}resetForm(C=void 0){this.form.reset(C),this.submitted=!1}_updateDomValue(){this.directives.forEach(C=>{const T=C.control,U=this.form.get(C.path);T!==U&&(De(T||null,C),(D=>D instanceof Jn)(U)&&(de(U,C,this.callSetDisabledState),C.control=U))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(C){const T=this.form.get(C.path);(function ci(D,S){Ht(D,S)})(T,C),T.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(C){if(this.form){const T=this.form.get(C.path);T&&function pr(D,S){return Ae(D,S)}(T,C)&&T.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ht(this.form,this),this._oldForm&&Ae(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(tt,10),m.rXU(ke,10),m.rXU(W,8))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["","formGroup",""]],hostBindings:function(T,U){1&T&&m.bIt("submit",function(Ct){return U.onSubmit(Ct)})("reset",function(){return U.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m.Jv_([Eo]),m.Vt3,m.OA$]})}}return D})();const to={provide:Un,useExisting:(0,m.Rfq)(()=>Di)};let Di=(()=>{class D extends Un{set isDisabled(C){}static{this._ngModelWarningSentOnce=!1}constructor(C,T,U,Xe,Ct){super(),this._ngModelWarningConfig=Ct,this._added=!1,this.name=null,this.update=new m.bkB,this._ngModelWarningSent=!1,this._parent=C,this._setValidators(T),this._setAsyncValidators(U),this.valueAccessor=Vr(0,Xe)}ngOnChanges(C){this._added||this._setUpControl(),qn(C,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}get path(){return B(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(Ke,13),m.rXU(tt,10),m.rXU(ke,10),m.rXU(He,10),m.rXU(di,8))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m.Jv_([to]),m.Vt3,m.OA$]})}}return D})();const no={provide:He,useExisting:(0,m.Rfq)(()=>Ne),multi:!0};function wo(D,S){return null==D?`${S}`:(S&&"object"==typeof S&&(S="Object"),`${D}: ${S}`.slice(0,50))}let Ne=(()=>{class D extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(C){this._compareWith=C}writeValue(C){this.value=C;const U=wo(this._getOptionId(C),C);this.setProperty("value",U)}registerOnChange(C){this.onChange=T=>{this.value=this._getOptionValue(T),C(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(C){for(const T of this._optionMap.keys())if(this._compareWith(this._optionMap.get(T),C))return T;return null}_getOptionValue(C){const T=function ln(D){return D.split(":")[0]}(C);return this._optionMap.has(T)?this._optionMap.get(T):C}static{this.\u0275fac=function(){let C;return function(U){return(C||(C=m.xGo(D)))(U||D)}}()}static{this.\u0275dir=m.FsC({type:D,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(T,U){1&T&&m.bIt("change",function(Ct){return U.onChange(Ct.target.value)})("blur",function(){return U.onTouched()})},inputs:{compareWith:"compareWith"},features:[m.Jv_([no]),m.Vt3]})}}return D})(),mt=(()=>{class D{constructor(C,T,U){this._element=C,this._renderer=T,this._select=U,this._select&&(this.id=this._select._registerOption())}set ngValue(C){null!=this._select&&(this._select._optionMap.set(this.id,C),this._setElementValue(wo(this.id,C)),this._select.writeValue(this._select.value))}set value(C){this._setElementValue(C),this._select&&this._select.writeValue(this._select.value)}_setElementValue(C){this._renderer.setProperty(this._element.nativeElement,"value",C)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(m.aKT),m.rXU(m.sFG),m.rXU(Ne,9))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return D})();const sn={provide:He,useExisting:(0,m.Rfq)(()=>kr),multi:!0};function Zn(D,S){return null==D?`${S}`:("string"==typeof S&&(S=`'${S}'`),S&&"object"==typeof S&&(S="Object"),`${D}: ${S}`.slice(0,50))}let kr=(()=>{class D extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(C){this._compareWith=C}writeValue(C){let T;if(this.value=C,Array.isArray(C)){const U=C.map(Xe=>this._getOptionId(Xe));T=(Xe,Ct)=>{Xe._setSelected(U.indexOf(Ct.toString())>-1)}}else T=(U,Xe)=>{U._setSelected(!1)};this._optionMap.forEach(T)}registerOnChange(C){this.onChange=T=>{const U=[],Xe=T.selectedOptions;if(void 0!==Xe){const Ct=Xe;for(let tr=0;tr<Ct.length;tr++){const Oi=this._getOptionValue(Ct[tr].value);U.push(Oi)}}else{const Ct=T.options;for(let tr=0;tr<Ct.length;tr++){const zi=Ct[tr];if(zi.selected){const Oi=this._getOptionValue(zi.value);U.push(Oi)}}}this.value=U,C(U)}}_registerOption(C){const T=(this._idCounter++).toString();return this._optionMap.set(T,C),T}_getOptionId(C){for(const T of this._optionMap.keys())if(this._compareWith(this._optionMap.get(T)._value,C))return T;return null}_getOptionValue(C){const T=function ro(D){return D.split(":")[0]}(C);return this._optionMap.has(T)?this._optionMap.get(T)._value:C}static{this.\u0275fac=function(){let C;return function(U){return(C||(C=m.xGo(D)))(U||D)}}()}static{this.\u0275dir=m.FsC({type:D,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(T,U){1&T&&m.bIt("change",function(Ct){return U.onChange(Ct.target)})("blur",function(){return U.onTouched()})},inputs:{compareWith:"compareWith"},features:[m.Jv_([sn]),m.Vt3]})}}return D})(),hn=(()=>{class D{constructor(C,T,U){this._element=C,this._renderer=T,this._select=U,this._select&&(this.id=this._select._registerOption(this))}set ngValue(C){null!=this._select&&(this._value=C,this._setElementValue(Zn(this.id,C)),this._select.writeValue(this._select.value))}set value(C){this._select?(this._value=C,this._setElementValue(Zn(this.id,C)),this._select.writeValue(this._select.value)):this._setElementValue(C)}_setElementValue(C){this._renderer.setProperty(this._element.nativeElement,"value",C)}_setSelected(C){this._renderer.setProperty(this._element.nativeElement,"selected",C)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(T){return new(T||D)(m.rXU(m.aKT),m.rXU(m.sFG),m.rXU(kr,9))}}static{this.\u0275dir=m.FsC({type:D,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return D})();let ot=(()=>{class D{constructor(){this._validator=$n}ngOnChanges(C){if(this.inputName in C){const T=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(T),this._validator=this._enabled?this.createValidator(T):$n,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275dir=m.FsC({type:D,features:[m.OA$]})}}return D})();const io={provide:tt,useExisting:(0,m.Rfq)(()=>wt),multi:!0};let wt=(()=>{class D extends ot{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=C=>function er(D){return"number"==typeof D?D:parseInt(D,10)}(C),this.createValidator=C=>Ve(C)}static{this.\u0275fac=function(){let C;return function(U){return(C||(C=m.xGo(D)))(U||D)}}()}static{this.\u0275dir=m.FsC({type:D,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(T,U){2&T&&m.BMQ("maxlength",U._enabled?U.maxlength:null)},inputs:{maxlength:"maxlength"},features:[m.Jv_([io]),m.Vt3]})}}return D})(),Dr=(()=>{class D{static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275mod=m.$C({type:D})}static{this.\u0275inj=m.G2t({imports:[li]})}}return D})();class Bi extends Qe{constructor(S,C,T){super(fr(C),X(T,C)),this.controls=S,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[this._adjustIndex(S)]}push(S,C={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}insert(S,C,T={}){this.controls.splice(S,0,C),this._registerControl(C),this.updateValueAndValidity({emitEvent:T.emitEvent})}removeAt(S,C={}){let T=this._adjustIndex(S);T<0&&(T=0),this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),this.controls.splice(T,1),this.updateValueAndValidity({emitEvent:C.emitEvent})}setControl(S,C,T={}){let U=this._adjustIndex(S);U<0&&(U=0),this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),this.controls.splice(U,1),C&&(this.controls.splice(U,0,C),this._registerControl(C)),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,C={}){Fe(this,0,S),S.forEach((T,U)=>{he(this,!1,U),this.at(U).setValue(T,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(S,C={}){null!=S&&(S.forEach((T,U)=>{this.at(U)&&this.at(U).patchValue(T,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(S=[],C={}){this._forEachChild((T,U)=>{T.reset(S[U],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this.controls.map(S=>S.getRawValue())}clear(S={}){this.controls.length<1||(this._forEachChild(C=>C._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_adjustIndex(S){return S<0?S+this.length:S}_syncPendingControls(){let S=this.controls.reduce((C,T)=>!!T._syncPendingControls()||C,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((C,T)=>{S(C,T)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(C=>C.enabled&&S(C))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}_find(S){return this.at(S)??null}}function In(D){return!!D&&(void 0!==D.asyncValidators||void 0!==D.validators||void 0!==D.updateOn)}let jn=(()=>{class D{constructor(){this.useNonNullable=!1}get nonNullable(){const C=new D;return C.useNonNullable=!0,C}group(C,T=null){const U=this._reduceControls(C);let Xe={};return In(T)?Xe=T:null!==T&&(Xe.validators=T.validator,Xe.asyncValidators=T.asyncValidator),new Dt(U,Xe)}record(C,T=null){const U=this._reduceControls(C);return new Kn(U,T)}control(C,T,U){let Xe={};return this.useNonNullable?(In(T)?Xe=T:(Xe.validators=T,Xe.asyncValidators=U),new Jn(C,{...Xe,nonNullable:!0})):new Jn(C,T,U)}array(C,T,U){const Xe=C.map(Ct=>this._createControl(Ct));return new Bi(Xe,T,U)}_reduceControls(C){const T={};return Object.keys(C).forEach(U=>{T[U]=this._createControl(C[U])}),T}_createControl(C){return C instanceof Jn||C instanceof Qe?C:Array.isArray(C)?this.control(C[0],C.length>1?C[1]:null,C.length>2?C[2]:null):this.control(C)}static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275prov=m.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),gr=(()=>{class D{static withConfig(C){return{ngModule:D,providers:[{provide:W,useValue:C.callSetDisabledState??L}]}}static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275mod=m.$C({type:D})}static{this.\u0275inj=m.G2t({imports:[Dr]})}}return D})(),jo=(()=>{class D{static withConfig(C){return{ngModule:D,providers:[{provide:di,useValue:C.warnOnNgModelWithFormControl??"always"},{provide:W,useValue:C.callSetDisabledState??L}]}}static{this.\u0275fac=function(T){return new(T||D)}}static{this.\u0275mod=m.$C({type:D})}static{this.\u0275inj=m.G2t({imports:[Dr]})}}return D})()},345:(rt,_e,F)=>{F.d(_e,{B7:()=>Oe,Bb:()=>_t,hE:()=>Un,sG:()=>at});var m=F(540),e=F(177);class pe extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends pe{static makeCurrent(){(0,e.ZD)(new ce)}onAndCancel(X,V,G){return X.addEventListener(V,G),()=>{X.removeEventListener(V,G)}}dispatchEvent(X,V){X.dispatchEvent(V)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,V){return(V=V||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,V){return"window"===V?window:"document"===V?X:"body"===V?X.body:null}getBaseHref(X){const V=function oe(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==V?null:function ie(le){me=me||document.createElement("a"),me.setAttribute("href",le);const X=me.pathname;return"/"===X.charAt(0)?X:`/${X}`}(V)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,e._b)(document.cookie,X)}}let me,J=null,se=(()=>{class le{build(){return new XMLHttpRequest}static{this.\u0275fac=function(G){return new(G||le)}}static{this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac})}}return le})();const ee=new m.nKC("EventManagerPlugins");let Ce=(()=>{class le{constructor(V,G){this._zone=G,this._eventNameToPlugin=new Map,V.forEach(he=>{he.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,G,he){return this._findPluginFor(G).addEventListener(V,G,he)}getZone(){return this._zone}_findPluginFor(V){let G=this._eventNameToPlugin.get(V);if(G)return G;if(G=this._plugins.find(Fe=>Fe.supports(V)),!G)throw new m.wOt(5101,!1);return this._eventNameToPlugin.set(V,G),G}static{this.\u0275fac=function(G){return new(G||le)(m.KVO(ee),m.KVO(m.SKi))}}static{this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac})}}return le})();class Re{constructor(X){this._doc=X}}const xe="ng-app-id";let He=(()=>{class le{constructor(V,G,he,Fe={}){this.doc=V,this.appId=G,this.nonce=he,this.platformId=Fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(Fe),this.resetHostNodes()}addStyles(V){for(const G of V)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles(V){for(const G of V)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(G=>G.remove()),V.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const G of this.getAllStyles())this.addStyleToHost(V,G)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const G of this.hostNodes)this.addStyleToHost(G,V)}onStyleRemoved(V){const G=this.styleRef;G.get(V)?.elements?.forEach(he=>he.remove()),G.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${xe}="${this.appId}"]`);if(V?.length){const G=new Map;return V.forEach(he=>{null!=he.textContent&&G.set(he.textContent,he)}),G}return null}changeUsageCount(V,G){const he=this.styleRef;if(he.has(V)){const Fe=he.get(V);return Fe.usage+=G,Fe.usage}return he.set(V,{usage:G,elements:[]}),G}getStyleElement(V,G){const he=this.styleNodesInDOM,Fe=he?.get(G);if(Fe?.parentNode===V)return he.delete(G),Fe.removeAttribute(xe),Fe;{const Qe=this.doc.createElement("style");return this.nonce&&Qe.setAttribute("nonce",this.nonce),Qe.textContent=G,this.platformIsServer&&Qe.setAttribute(xe,this.appId),Qe}}addStyleToHost(V,G){const he=this.getStyleElement(V,G);V.appendChild(he);const Fe=this.styleRef,Qe=Fe.get(G)?.elements;Qe?Qe.push(he):Fe.set(G,{elements:[he],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static{this.\u0275fac=function(G){return new(G||le)(m.KVO(e.qQ),m.KVO(m.sZ2),m.KVO(m.BIS,8),m.KVO(m.Agw))}}static{this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac})}}return le})();const jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},St=/%COMP%/g,Se=new m.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ke(le,X){return X.map(V=>V.replace(St,le))}let Oe=(()=>{class le{constructor(V,G,he,Fe,Qe,Dt,Nt,tn=null){this.eventManager=V,this.sharedStylesHost=G,this.appId=he,this.removeStylesOnCompDestroy=Fe,this.doc=Qe,this.platformId=Dt,this.ngZone=Nt,this.nonce=tn,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(Dt),this.defaultRenderer=new Ee(V,Qe,Nt,this.platformIsServer)}createRenderer(V,G){if(!V||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===m.gXe.ShadowDom&&(G={...G,encapsulation:m.gXe.Emulated});const he=this.getOrCreateRenderer(V,G);return he instanceof rn?he.applyToHost(V):he instanceof Te&&he.applyStyles(),he}getOrCreateRenderer(V,G){const he=this.rendererByCompId;let Fe=he.get(G.id);if(!Fe){const Qe=this.doc,Dt=this.ngZone,Nt=this.eventManager,tn=this.sharedStylesHost,Kn=this.removeStylesOnCompDestroy,br=this.platformIsServer;switch(G.encapsulation){case m.gXe.Emulated:Fe=new rn(Nt,tn,G,this.appId,Kn,Qe,Dt,br);break;case m.gXe.ShadowDom:return new Hn(Nt,tn,V,G,Qe,Dt,this.nonce,br);default:Fe=new Te(Nt,tn,G,Kn,Qe,Dt,br)}he.set(G.id,Fe)}return Fe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(G){return new(G||le)(m.KVO(Ce),m.KVO(He),m.KVO(m.sZ2),m.KVO(Se),m.KVO(e.qQ),m.KVO(m.Agw),m.KVO(m.SKi),m.KVO(m.BIS))}}static{this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac})}}return le})();class Ee{constructor(X,V,G,he){this.eventManager=X,this.doc=V,this.ngZone=G,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,V){return V?this.doc.createElementNS(jt[V]||V,X):this.doc.createElement(X)}createComment(X){return this.doc.createComment(X)}createText(X){return this.doc.createTextNode(X)}appendChild(X,V){(Mn(X)?X.content:X).appendChild(V)}insertBefore(X,V,G){X&&(Mn(X)?X.content:X).insertBefore(V,G)}removeChild(X,V){X&&X.removeChild(V)}selectRootElement(X,V){let G="string"==typeof X?this.doc.querySelector(X):X;if(!G)throw new m.wOt(-5104,!1);return V||(G.textContent=""),G}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,V,G,he){if(he){V=he+":"+V;const Fe=jt[he];Fe?X.setAttributeNS(Fe,V,G):X.setAttribute(V,G)}else X.setAttribute(V,G)}removeAttribute(X,V,G){if(G){const he=jt[G];he?X.removeAttributeNS(he,V):X.removeAttribute(`${G}:${V}`)}else X.removeAttribute(V)}addClass(X,V){X.classList.add(V)}removeClass(X,V){X.classList.remove(V)}setStyle(X,V,G,he){he&(m.czy.DashCase|m.czy.Important)?X.style.setProperty(V,G,he&m.czy.Important?"important":""):X.style[V]=G}removeStyle(X,V,G){G&m.czy.DashCase?X.style.removeProperty(V):X.style[V]=""}setProperty(X,V,G){X[V]=G}setValue(X,V){X.nodeValue=V}listen(X,V,G){if("string"==typeof X&&!(X=(0,e.QT)().getGlobalEventTarget(this.doc,X)))throw new Error(`Unsupported event target ${X} for event ${V}`);return this.eventManager.addEventListener(X,V,this.decoratePreventDefault(G))}decoratePreventDefault(X){return V=>{if("__ngUnwrap__"===V)return X;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>X(V)):X(V))&&V.preventDefault()}}}function Mn(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class Hn extends Ee{constructor(X,V,G,he,Fe,Qe,Dt,Nt){super(X,Fe,Qe,Nt),this.sharedStylesHost=V,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=ke(he.id,he.styles);for(const Kn of tn){const br=document.createElement("style");Dt&&br.setAttribute("nonce",Dt),br.textContent=Kn,this.shadowRoot.appendChild(br)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}appendChild(X,V){return super.appendChild(this.nodeOrShadowRoot(X),V)}insertBefore(X,V,G){return super.insertBefore(this.nodeOrShadowRoot(X),V,G)}removeChild(X,V){return super.removeChild(this.nodeOrShadowRoot(X),V)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Te extends Ee{constructor(X,V,G,he,Fe,Qe,Dt,Nt){super(X,Fe,Qe,Dt),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=he,this.styles=Nt?ke(Nt,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rn extends Te{constructor(X,V,G,he,Fe,Qe,Dt,Nt){const tn=he+"-"+G.id;super(X,V,G,Fe,Qe,Dt,Nt,tn),this.contentAttr=function je(le){return"_ngcontent-%COMP%".replace(St,le)}(tn),this.hostAttr=function tt(le){return"_nghost-%COMP%".replace(St,le)}(tn)}applyToHost(X){this.applyStyles(),this.setAttribute(X,this.hostAttr,"")}createElement(X,V){const G=super.createElement(X,V);return super.setAttribute(G,this.contentAttr,""),G}}let Ve=(()=>{class le extends Re{constructor(V){super(V)}supports(V){return!0}addEventListener(V,G,he){return V.addEventListener(G,he,!1),()=>this.removeEventListener(V,G,he)}removeEventListener(V,G,he){return V.removeEventListener(G,he)}static{this.\u0275fac=function(G){return new(G||le)(m.KVO(e.qQ))}}static{this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac})}}return le})();const ut=["alt","control","meta","shift"],$n={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kr={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let Y=(()=>{class le extends Re{constructor(V){super(V)}supports(V){return null!=le.parseEventName(V)}addEventListener(V,G,he){const Fe=le.parseEventName(G),Qe=le.eventCallback(Fe.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(V,Fe.domEventName,Qe))}static parseEventName(V){const G=V.toLowerCase().split("."),he=G.shift();if(0===G.length||"keydown"!==he&&"keyup"!==he)return null;const Fe=le._normalizeKey(G.pop());let Qe="",Dt=G.indexOf("code");if(Dt>-1&&(G.splice(Dt,1),Qe="code."),ut.forEach(tn=>{const Kn=G.indexOf(tn);Kn>-1&&(G.splice(Kn,1),Qe+=tn+".")}),Qe+=Fe,0!=G.length||0===Fe.length)return null;const Nt={};return Nt.domEventName=he,Nt.fullKey=Qe,Nt}static matchEventFullKeyCode(V,G){let he=$n[V.key]||V.key,Fe="";return G.indexOf("code.")>-1&&(he=V.code,Fe="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),ut.forEach(Qe=>{Qe!==he&&(0,Kr[Qe])(V)&&(Fe+=Qe+".")}),Fe+=he,Fe===G)}static eventCallback(V,G,he){return Fe=>{le.matchEventFullKeyCode(Fe,V)&&he.runGuarded(()=>G(Fe))}}static _normalizeKey(V){return"esc"===V?"escape":V}static{this.\u0275fac=function(G){return new(G||le)(m.KVO(e.qQ))}}static{this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac})}}return le})();const at=(0,m.oH4)(m.fpN,"browser",[{provide:m.Agw,useValue:e.AJ},{provide:m.PLl,useValue:function we(){ce.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function lt(){return(0,m.TL$)(document),document},deps:[]}]),Rt=new m.nKC(""),Jt=[{provide:m.e01,useClass:class re{addToWindow(X){m.JZv.getAngularTestability=(G,he=!0)=>{const Fe=X.findTestabilityInTree(G,he);if(null==Fe)throw new m.wOt(5103,!1);return Fe},m.JZv.getAllAngularTestabilities=()=>X.getAllTestabilities(),m.JZv.getAllAngularRootElements=()=>X.getAllRootElements(),m.JZv.frameworkStabilizers||(m.JZv.frameworkStabilizers=[]),m.JZv.frameworkStabilizers.push(G=>{const he=m.JZv.getAllAngularTestabilities();let Fe=he.length,Qe=!1;const Dt=function(Nt){Qe=Qe||Nt,Fe--,0==Fe&&G(Qe)};he.forEach(Nt=>{Nt.whenStable(Dt)})})}findTestabilityInTree(X,V,G){return null==V?null:X.getTestability(V)??(G?(0,e.QT)().isShadowRoot(V)?this.findTestabilityInTree(X,V.host,!0):this.findTestabilityInTree(X,V.parentElement,!0):null)}},deps:[]},{provide:m.WHO,useClass:m.NYb,deps:[m.SKi,m.giA,m.e01]},{provide:m.NYb,useClass:m.NYb,deps:[m.SKi,m.giA,m.e01]}],ur=[{provide:m.H8p,useValue:"root"},{provide:m.zcH,useFactory:function We(){return new m.zcH},deps:[]},{provide:ee,useClass:Ve,multi:!0,deps:[e.qQ,m.SKi,m.Agw]},{provide:ee,useClass:Y,multi:!0,deps:[e.qQ]},Oe,He,Ce,{provide:m._9s,useExisting:Oe},{provide:e.N0,useClass:se,deps:[]},[]];let _t=(()=>{class le{constructor(V){}static withServerTransition(V){return{ngModule:le,providers:[{provide:m.sZ2,useValue:V.appId}]}}static{this.\u0275fac=function(G){return new(G||le)(m.KVO(Rt,12))}}static{this.\u0275mod=m.$C({type:le})}static{this.\u0275inj=m.G2t({providers:[...ur,...Jt],imports:[e.MD,m.Hbi]})}}return le})(),Un=(()=>{class le{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static{this.\u0275fac=function(G){return new(G||le)(m.KVO(e.qQ))}}static{this.\u0275prov=m.jDH({token:le,factory:function(G){let he=null;return he=G?new G:function Ke(){return new Un((0,m.KVO)(e.qQ))}(),he},providedIn:"root"})}}return le})();typeof window<"u"&&window},4369:(rt,_e,F)=>{F.d(_e,{nX:()=>xr,wF:()=>Ur,Ix:()=>Ar,Wk:()=>So,iI:()=>Oa,n3:()=>Zn});var m=F(540),e=F(1985),pe=F(8071),J=F(6648),oe=F(7673),me=F(4412),ie=F(3073),re=F(3669),se=F(6450),ee=F(9326),Ce=F(8496),Re=F(4360),xe=F(5225);function He(...h){const y=(0,ee.lI)(h),p=(0,ee.ms)(h),{args:b,keys:M}=(0,ie.D)(h);if(0===b.length)return(0,J.H)([],y);const k=new e.c(function jt(h,y,p=re.D){return b=>{St(y,()=>{const{length:M}=h,k=new Array(M);let N=M,te=M;for(let q=0;q<M;q++)St(y,()=>{const $e=(0,J.H)(h[q],y);let Et=!1;$e.subscribe((0,Re._)(b,Zt=>{k[q]=Zt,Et||(Et=!0,te--),te||b.next(p(k.slice()))},()=>{--N||b.complete()}))},b)},b)}}(b,y,M?N=>(0,Ce.e)(M,N):re.D));return p?k.pipe((0,se.I)(p)):k}function St(h,y,p){h?(0,xe.N)(p,h,y):y()}const Lt=(0,F(1853).L)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"});var Qt=F(6365);function Se(...h){return function ve(){return(0,Qt.U)(1)}()((0,J.H)(h,(0,ee.lI)(h)))}var je=F(8750);function tt(h){return new e.c(y=>{(0,je.Tg)(h()).subscribe(y)})}var ke=F(1203),Oe=F(8810),Ee=F(983),nt=F(8359),Gt=F(9974);function Mn(){return(0,Gt.N)((h,y)=>{let p=null;h._refCount++;const b=(0,Re._)(y,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(p=null);const M=h._connection,k=p;p=null,M&&(!k||M===k)&&M.unsubscribe(),y.unsubscribe()});h.subscribe(b),b.closed||(p=h.connect())})}class Hn extends e.c{constructor(y,p){super(),this.source=y,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,Gt.S)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new nt.yU;const p=this.getSubject();y.add(this.source.subscribe((0,Re._)(p,void 0,()=>{this._teardown(),p.complete()},b=>{this._teardown(),p.error(b)},()=>this._teardown()))),y.closed&&(this._connection=null,y=nt.yU.EMPTY)}return y}refCount(){return Mn()(this)}}var Te=F(1413),rn=F(177),Ve=F(6354),ut=F(5558),$n=F(6697),Y=F(5964),Z=F(1397);function Q(h){return(0,Gt.N)((y,p)=>{let b=!1;y.subscribe((0,Re._)(p,M=>{b=!0,p.next(M)},()=>{b||p.next(h),p.complete()}))})}function ae(h=Pe){return(0,Gt.N)((y,p)=>{let b=!1;y.subscribe((0,Re._)(p,M=>{b=!0,p.next(M)},()=>b?p.complete():p.error(h())))})}function Pe(){return new Lt}function we(h,y){const p=arguments.length>=2;return b=>b.pipe(h?(0,Y.p)((M,k)=>h(M,k,b)):re.D,(0,$n.s)(1),p?Q(y):ae(()=>new Lt))}var We=F(274),lt=F(8141),Kt=F(9437);function Jt(h){return h<=0?()=>Ee.w:(0,Gt.N)((y,p)=>{let b=[];y.subscribe((0,Re._)(p,M=>{b.push(M),h<b.length&&b.shift()},()=>{for(const M of b)p.next(M);p.complete()},void 0,()=>{b=null}))})}var _n=F(980),Yt=F(6977),Ye=F(345);const Ke="primary",Un=Symbol("RouteTitle");class Yr{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const p=this.params[y];return Array.isArray(p)?p[0]:p}return null}getAll(y){if(this.has(y)){const p=this.params[y];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}}function Ft(h){return new Yr(h)}function vr(h,y,p){const b=p.path.split("/");if(b.length>h.length||"full"===p.pathMatch&&(y.hasChildren()||b.length<h.length))return null;const M={};for(let k=0;k<b.length;k++){const N=b[k],te=h[k];if(N.startsWith(":"))M[N.substring(1)]=te;else if(N!==te.path)return null}return{consumed:h.slice(0,b.length),posParams:M}}function it(h,y){const p=h?Object.keys(h):void 0,b=y?Object.keys(y):void 0;if(!p||!b||p.length!=b.length)return!1;let M;for(let k=0;k<p.length;k++)if(M=p[k],!Ir(h[M],y[M]))return!1;return!0}function Ir(h,y){if(Array.isArray(h)&&Array.isArray(y)){if(h.length!==y.length)return!1;const p=[...h].sort(),b=[...y].sort();return p.every((M,k)=>b[k]===M)}return h===y}function Wn(h){return h.length>0?h[h.length-1]:null}function vn(h){return function ce(h){return!!h&&(h instanceof e.c||(0,pe.T)(h.lift)&&(0,pe.T)(h.subscribe))}(h)?h:(0,m.jNT)(h)?(0,J.H)(Promise.resolve(h)):(0,oe.of)(h)}const on={exact:function Yi(h,y,p){if(!yr(h.segments,y.segments)||!Dn(h.segments,y.segments,p)||h.numberOfChildren!==y.numberOfChildren)return!1;for(const b in y.children)if(!h.children[b]||!Yi(h.children[b],y.children[b],p))return!1;return!0},subset:qr},pn={exact:function en(h,y){return it(h,y)},subset:function ze(h,y){return Object.keys(y).length<=Object.keys(h).length&&Object.keys(y).every(p=>Ir(h[p],y[p]))},ignored:()=>!0};function bi(h,y,p){return on[p.paths](h.root,y.root,p.matrixParams)&&pn[p.queryParams](h.queryParams,y.queryParams)&&!("exact"===p.fragment&&h.fragment!==y.fragment)}function qr(h,y,p){return Qr(h,y,y.segments,p)}function Qr(h,y,p,b){if(h.segments.length>p.length){const M=h.segments.slice(0,p.length);return!(!yr(M,p)||y.hasChildren()||!Dn(M,p,b))}if(h.segments.length===p.length){if(!yr(h.segments,p)||!Dn(h.segments,p,b))return!1;for(const M in y.children)if(!h.children[M]||!qr(h.children[M],y.children[M],b))return!1;return!0}{const M=p.slice(0,h.segments.length),k=p.slice(h.segments.length);return!!(yr(h.segments,M)&&Dn(h.segments,M,b)&&h.children[Ke])&&Qr(h.children[Ke],y,k,b)}}function Dn(h,y,p){return y.every((b,M)=>pn[p](h[M].parameters,b.parameters))}class dr{constructor(y=new Mt([],{}),p={},b=null){this.root=y,this.queryParams=p,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return Jr.serialize(this)}}class Mt{constructor(y,p){this.segments=y,this.children=p,this.parent=null,Object.values(p).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fr(this)}}class xt{constructor(y,p){this.path=y,this.parameters=p}get parameterMap(){return this._parameterMap||(this._parameterMap=Ft(this.parameters)),this._parameterMap}toString(){return Dt(this)}}function yr(h,y){return h.length===y.length&&h.every((p,b)=>p.path===y[b].path)}let rr=(()=>{class h{static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:function(){return new Xn},providedIn:"root"})}}return h})();class Xn{parse(y){const p=new Ie(y);return new dr(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(y){const p=`/${le(y.root,!0)}`,b=function tn(h){const y=Object.keys(h).map(p=>{const b=h[p];return Array.isArray(b)?b.map(M=>`${V(p)}=${V(M)}`).join("&"):`${V(p)}=${V(b)}`}).filter(p=>!!p);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${p}${b}${"string"==typeof y.fragment?`#${function G(h){return encodeURI(h)}(y.fragment)}`:""}`}}const Jr=new Xn;function fr(h){return h.segments.map(y=>Dt(y)).join("/")}function le(h,y){if(!h.hasChildren())return fr(h);if(y){const p=h.children[Ke]?le(h.children[Ke],!1):"",b=[];return Object.entries(h.children).forEach(([M,k])=>{M!==Ke&&b.push(`${M}:${le(k,!1)}`)}),b.length>0?`${p}(${b.join("//")})`:p}{const p=function vt(h,y){let p=[];return Object.entries(h.children).forEach(([b,M])=>{b===Ke&&(p=p.concat(y(M,b)))}),Object.entries(h.children).forEach(([b,M])=>{b!==Ke&&(p=p.concat(y(M,b)))}),p}(h,(b,M)=>M===Ke?[le(h.children[Ke],!1)]:[`${M}:${le(b,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[Ke]?`${fr(h)}/${p[0]}`:`${fr(h)}/(${p.join("//")})`}}function X(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V(h){return X(h).replace(/%3B/gi,";")}function he(h){return X(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fe(h){return decodeURIComponent(h)}function Qe(h){return Fe(h.replace(/\+/g,"%20"))}function Dt(h){return`${he(h.path)}${function Nt(h){return Object.keys(h).map(y=>`;${he(y)}=${he(h[y])}`).join("")}(h.parameters)}`}const Kn=/^[^\/()?;#]+/;function br(h){const y=h.match(Kn);return y?y[0]:""}const W=/^[^\/()?;=#]+/,B=/^[^=?&#]+/,De=/^[^&#]+/;class Ie{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(y.length>0||Object.keys(p).length>0)&&(b[Ke]=new Mt(y,p)),b}parseSegment(){const y=br(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new m.wOt(4009,!1);return this.capture(y),new xt(Fe(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const p=function L(h){const y=h.match(W);return y?y[0]:""}(this.remaining);if(!p)return;this.capture(p);let b="";if(this.consumeOptional("=")){const M=br(this.remaining);M&&(b=M,this.capture(b))}y[Fe(p)]=Fe(b)}parseQueryParam(y){const p=function de(h){const y=h.match(B);return y?y[0]:""}(this.remaining);if(!p)return;this.capture(p);let b="";if(this.consumeOptional("=")){const N=function Le(h){const y=h.match(De);return y?y[0]:""}(this.remaining);N&&(b=N,this.capture(b))}const M=Qe(p),k=Qe(b);if(y.hasOwnProperty(M)){let N=y[M];Array.isArray(N)||(N=[N],y[M]=N),N.push(k)}else y[M]=k}parseParens(y){const p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=br(this.remaining),M=this.remaining[b.length];if("/"!==M&&")"!==M&&";"!==M)throw new m.wOt(4010,!1);let k;b.indexOf(":")>-1?(k=b.slice(0,b.indexOf(":")),this.capture(k),this.capture(":")):y&&(k=Ke);const N=this.parseChildren();p[k]=1===Object.keys(N).length?N[Ke]:new Mt([],N),this.consumeOptional("//")}return p}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new m.wOt(4011,!1)}}function Ht(h){return h.segments.length>0?new Mt([],{[Ke]:h}):h}function Ae(h){const y={};for(const b of Object.keys(h.children)){const k=Ae(h.children[b]);if(b===Ke&&0===k.segments.length&&k.hasChildren())for(const[N,te]of Object.entries(k.children))y[N]=te;else(k.segments.length>0||k.hasChildren())&&(y[b]=k)}return function fn(h){if(1===h.numberOfChildren&&h.children[Ke]){const y=h.children[Ke];return new Mt(h.segments.concat(y.segments),y.children)}return h}(new Mt(h.segments,y))}function Tn(h){return h instanceof dr}function ir(h){let y;const M=Ht(function p(k){const N={};for(const q of k.children){const $e=p(q);N[q.outlet]=$e}const te=new Mt(k.url,N);return k===h&&(y=te),te}(h.root));return y??M}function ci(h,y,p,b){let M=h;for(;M.parent;)M=M.parent;if(0===y.length)return $t(M,M,M,p,b);const k=function gt(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new Yn(!0,0,h);let y=0,p=!1;const b=h.reduce((M,k,N)=>{if("object"==typeof k&&null!=k){if(k.outlets){const te={};return Object.entries(k.outlets).forEach(([q,$e])=>{te[q]="string"==typeof $e?$e.split("/"):$e}),[...M,{outlets:te}]}if(k.segmentPath)return[...M,k.segmentPath]}return"string"!=typeof k?[...M,k]:0===N?(k.split("/").forEach((te,q)=>{0==q&&"."===te||(0==q&&""===te?p=!0:".."===te?y++:""!=te&&M.push(te))}),M):[...M,k]},[]);return new Yn(p,y,b)}(y);if(k.toRoot())return $t(M,M,new Mt([],{}),p,b);const N=function Ci(h,y,p){if(h.isAbsolute)return new qn(y,!0,0);if(!p)return new qn(y,!1,NaN);if(null===p.parent)return new qn(p,!0,0);const b=pr(h.commands[0])?0:1;return function Ei(h,y,p){let b=h,M=y,k=p;for(;k>M;){if(k-=M,b=b.parent,!b)throw new m.wOt(4005,!1);M=b.segments.length}return new qn(b,!1,M-k)}(p,p.segments.length-1+b,h.numberOfDoubleDots)}(k,M,h),te=N.processChildren?Lr(N.segmentGroup,N.index,k.commands):Cr(N.segmentGroup,N.index,k.commands);return $t(M,N.segmentGroup,te,p,b)}function pr(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function ct(h){return"object"==typeof h&&null!=h&&h.outlets}function $t(h,y,p,b,M){let N,k={};b&&Object.entries(b).forEach(([q,$e])=>{k[q]=Array.isArray($e)?$e.map(Et=>`${Et}`):`${$e}`}),N=h===y?p:Pn(h,y,p);const te=Ht(Ae(N));return new dr(te,k,M)}function Pn(h,y,p){const b={};return Object.entries(h.children).forEach(([M,k])=>{b[M]=k===y?p:Pn(k,y,p)}),new Mt(h.segments,b)}class Yn{constructor(y,p,b){if(this.isAbsolute=y,this.numberOfDoubleDots=p,this.commands=b,y&&b.length>0&&pr(b[0]))throw new m.wOt(4003,!1);const M=b.find(ct);if(M&&M!==Wn(b))throw new m.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(y,p,b){this.segmentGroup=y,this.processChildren=p,this.index=b}}function Cr(h,y,p){if(h||(h=new Mt([],{})),0===h.segments.length&&h.hasChildren())return Lr(h,y,p);const b=function qi(h,y,p){let b=0,M=y;const k={match:!1,pathIndex:0,commandIndex:0};for(;M<h.segments.length;){if(b>=p.length)return k;const N=h.segments[M],te=p[b];if(ct(te))break;const q=`${te}`,$e=b<p.length-1?p[b+1]:null;if(M>0&&void 0===q)break;if(q&&$e&&"object"==typeof $e&&void 0===$e.outlets){if(!Qi(q,$e,N))return k;b+=2}else{if(!Qi(q,{},N))return k;b++}M++}return{match:!0,pathIndex:M,commandIndex:b}}(h,y,p),M=p.slice(b.commandIndex);if(b.match&&b.pathIndex<h.segments.length){const k=new Mt(h.segments.slice(0,b.pathIndex),{});return k.children[Ke]=new Mt(h.segments.slice(b.pathIndex),h.children),Lr(k,0,M)}return b.match&&0===M.length?new Mt(h.segments,{}):b.match&&!h.hasChildren()?Qn(h,y,p):b.match?Lr(h,0,M):Qn(h,y,p)}function Lr(h,y,p){if(0===p.length)return new Mt(h.segments,{});{const b=function Vr(h){return ct(h[0])?h[0].outlets:{[Ke]:h}}(p),M={};if(Object.keys(b).some(k=>k!==Ke)&&h.children[Ke]&&1===h.numberOfChildren&&0===h.children[Ke].segments.length){const k=Lr(h.children[Ke],y,p);return new Mt(h.segments,k.children)}return Object.entries(b).forEach(([k,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(M[k]=Cr(h.children[k],y,N))}),Object.entries(h.children).forEach(([k,N])=>{void 0===b[k]&&(M[k]=N)}),new Mt(h.segments,M)}}function Qn(h,y,p){const b=h.segments.slice(0,y);let M=0;for(;M<p.length;){const k=p[M];if(ct(k)){const q=$r(k.outlets);return new Mt(b,q)}if(0===M&&pr(p[0])){b.push(new xt(h.segments[y].path,Li(p[0]))),M++;continue}const N=ct(k)?k.outlets[Ke]:`${k}`,te=M<p.length-1?p[M+1]:null;N&&te&&pr(te)?(b.push(new xt(N,Li(te))),M+=2):(b.push(new xt(N,{})),M++)}return new Mt(b,{})}function $r(h){const y={};return Object.entries(h).forEach(([p,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(y[p]=Qn(new Mt([],{}),0,b))}),y}function Li(h){const y={};return Object.entries(h).forEach(([p,b])=>y[p]=`${b}`),y}function Qi(h,y,p){return h==p.path&&it(y,p.parameters)}const Jn="imperative";class Er{constructor(y,p){this.id=y,this.url=p}}class $i extends Er{constructor(y,p,b="imperative",M=null){super(y,p),this.type=0,this.navigationTrigger=b,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ur extends Er{constructor(y,p,b){super(y,p),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ji extends Er{constructor(y,p,b,M){super(y,p),this.reason=b,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bn extends Er{constructor(y,p,b,M){super(y,p),this.reason=b,this.code=M,this.type=16}}class vo extends Er{constructor(y,p,b,M){super(y,p),this.error=b,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wr extends Er{constructor(y,p,b,M){super(y,p),this.urlAfterRedirects=b,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ns extends Er{constructor(y,p,b,M){super(y,p),this.urlAfterRedirects=b,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Er{constructor(y,p,b,M,k){super(y,p),this.urlAfterRedirects=b,this.state=M,this.shouldActivate=k,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yo extends Er{constructor(y,p,b,M){super(y,p),this.urlAfterRedirects=b,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zi extends Er{constructor(y,p,b,M){super(y,p),this.urlAfterRedirects=b,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bo{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ao{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ro{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(y,p,b){this.routerEvent=y,this.position=p,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Co{}class Zr{constructor(y){this.url=y}}class ui{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new di,this.attachRef=null}}let di=(()=>{class h{constructor(){this.contexts=new Map}onChildOutletCreated(p,b){const M=this.getOrCreateContext(p);M.outlet=b,this.contexts.set(p,M)}onChildOutletDestroyed(p){const b=this.getContext(p);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let b=this.getContext(p);return b||(b=new ui,this.contexts.set(p,b)),b}getContext(p){return this.contexts.get(p)||null}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();class eo{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const p=this.pathFromRoot(y);return p.length>1?p[p.length-2]:null}children(y){const p=Mi(y,this._root);return p?p.children.map(b=>b.value):[]}firstChild(y){const p=Mi(y,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(y){const p=Eo(y,this._root);return p.length<2?[]:p[p.length-2].children.map(M=>M.value).filter(M=>M!==y)}pathFromRoot(y){return Eo(y,this._root).map(p=>p.value)}}function Mi(h,y){if(h===y.value)return y;for(const p of y.children){const b=Mi(h,p);if(b)return b}return null}function Eo(h,y){if(h===y.value)return[y];for(const p of y.children){const b=Eo(h,p);if(b.length)return b.unshift(y),b}return[]}class ft{constructor(y,p){this.value=y,this.children=p}toString(){return`TreeNode(${this.value})`}}function bn(h){const y={};return h&&h.children.forEach(p=>y[p.value.outlet]=p),y}class En extends eo{constructor(y,p){super(y),this.snapshot=p,ln(this,y)}toString(){return this.snapshot.toString()}}function zr(h,y){const p=function Fn(h,y){const N=new no([],{},{},"",{},Ke,y,null,{});return new wo("",new ft(N,[]))}(0,y),b=new me.t([new xt("",{})]),M=new me.t({}),k=new me.t({}),N=new me.t({}),te=new me.t(""),q=new xr(b,M,N,te,k,Ke,y,p.root);return q.snapshot=p.root,new En(new ft(q,[]),p)}class xr{constructor(y,p,b,M,k,N,te,q){this.urlSubject=y,this.paramsSubject=p,this.queryParamsSubject=b,this.fragmentSubject=M,this.dataSubject=k,this.outlet=N,this.component=te,this._futureSnapshot=q,this.title=this.dataSubject?.pipe((0,Ve.T)($e=>$e[Un]))??(0,oe.of)(void 0),this.url=y,this.params=p,this.queryParams=b,this.fragment=M,this.data=k}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.T)(y=>Ft(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.T)(y=>Ft(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function to(h,y="emptyOnly"){const p=h.pathFromRoot;let b=0;if("always"!==y)for(b=p.length-1;b>=1;){const M=p[b],k=p[b-1];if(M.routeConfig&&""===M.routeConfig.path)b--;else{if(k.component)break;b--}}return function Di(h){return h.reduce((y,p)=>({params:{...y.params,...p.params},data:{...y.data,...p.data},resolve:{...p.data,...y.resolve,...p.routeConfig?.data,...p._resolvedData}}),{params:{},data:{},resolve:{}})}(p.slice(b))}class no{get title(){return this.data?.[Un]}constructor(y,p,b,M,k,N,te,q,$e){this.url=y,this.params=p,this.queryParams=b,this.fragment=M,this.data=k,this.outlet=N,this.component=te,this.routeConfig=q,this._resolve=$e}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ft(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wo extends eo{constructor(y,p){super(p),this.url=y,ln(this,p)}toString(){return Ne(this._root)}}function ln(h,y){y.value._routerState=h,y.children.forEach(p=>ln(h,p))}function Ne(h){const y=h.children.length>0?` { ${h.children.map(Ne).join(", ")} } `:"";return`${h.value}${y}`}function mt(h){if(h.snapshot){const y=h.snapshot,p=h._futureSnapshot;h.snapshot=p,it(y.queryParams,p.queryParams)||h.queryParamsSubject.next(p.queryParams),y.fragment!==p.fragment&&h.fragmentSubject.next(p.fragment),it(y.params,p.params)||h.paramsSubject.next(p.params),function dt(h,y){if(h.length!==y.length)return!1;for(let p=0;p<h.length;++p)if(!it(h[p],y[p]))return!1;return!0}(y.url,p.url)||h.urlSubject.next(p.url),it(y.data,p.data)||h.dataSubject.next(p.data)}else h.snapshot=h._futureSnapshot,h.dataSubject.next(h._futureSnapshot.data)}function sn(h,y){const p=it(h.params,y.params)&&function _o(h,y){return yr(h,y)&&h.every((p,b)=>it(p.parameters,y[b].parameters))}(h.url,y.url);return p&&!(!h.parent!=!y.parent)&&(!h.parent||sn(h.parent,y.parent))}let Zn=(()=>{class h{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ke,this.activateEvents=new m.bkB,this.deactivateEvents=new m.bkB,this.attachEvents=new m.bkB,this.detachEvents=new m.bkB,this.parentContexts=(0,m.WQX)(di),this.location=(0,m.WQX)(m.c1b),this.changeDetector=(0,m.WQX)(m.gRc),this.environmentInjector=(0,m.WQX)(m.uvJ),this.inputBinder=(0,m.WQX)(Sn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(p){if(p.name){const{firstChange:b,previousValue:M}=p.name;if(b)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(p){return this.parentContexts.getContext(p)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const p=this.parentContexts.getContext(this.name);p?.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.wOt(4012,!1);this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(p.instance),p}attach(p,b){this.activated=p,this._activatedRoute=b,this.location.insert(p.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(p.instance)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,b){if(this.isActivated)throw new m.wOt(4013,!1);this._activatedRoute=p;const M=this.location,N=p.snapshot.component,te=this.parentContexts.getOrCreateContext(this.name).children,q=new ro(p,te,M.injector);this.activated=M.createComponent(N,{index:M.length,injector:q,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275dir=m.FsC({type:h,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.OA$]})}}return h})();class ro{constructor(y,p,b){this.route=y,this.childContexts=p,this.parent=b}get(y,p){return y===xr?this.route:y===di?this.childContexts:this.parent.get(y,p)}}const Sn=new m.nKC("");let kr=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(p){this.unsubscribeFromRouteData(p),this.subscribeToRouteData(p)}unsubscribeFromRouteData(p){this.outletDataSubscriptions.get(p)?.unsubscribe(),this.outletDataSubscriptions.delete(p)}subscribeToRouteData(p){const{activatedRoute:b}=p,M=He([b.queryParams,b.params,b.data]).pipe((0,ut.n)(([k,N,te],q)=>(te={...k,...N,...te},0===q?(0,oe.of)(te):Promise.resolve(te)))).subscribe(k=>{if(!p.isActivated||!p.activatedComponentRef||p.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(p);const N=(0,m.HJs)(b.component);if(N)for(const{templateName:te}of N.inputs)p.activatedComponentRef.setInput(te,k[te]);else this.unsubscribeFromRouteData(p)});this.outletDataSubscriptions.set(p,M)}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac})}}return h})();function er(h,y,p){if(p&&h.shouldReuseRoute(y.value,p.value.snapshot)){const b=p.value;b._futureSnapshot=y.value;const M=function fi(h,y,p){return y.children.map(b=>{for(const M of p.children)if(h.shouldReuseRoute(b.value,M.value.snapshot))return er(h,b,M);return er(h,b)})}(h,y,p);return new ft(b,M)}{if(h.shouldAttach(y.value)){const k=h.retrieve(y.value);if(null!==k){const N=k.route;return N.value._futureSnapshot=y.value,N.children=y.children.map(te=>er(h,te)),N}}const b=function ot(h){return new xr(new me.t(h.url),new me.t(h.params),new me.t(h.queryParams),new me.t(h.fragment),new me.t(h.data),h.outlet,h.component,h)}(y.value),M=y.children.map(k=>er(h,k));return new ft(b,M)}}const Gr="ngNavigationCancelingError";function Mo(h,y){const{redirectTo:p,navigationBehaviorOptions:b}=Tn(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,M=ei(!1,0,y);return M.url=p,M.navigationBehaviorOptions=b,M}function ei(h,y,p){const b=new Error("NavigationCancelingError: "+(h||""));return b[Gr]=!0,b.cancellationCode=y,p&&(b.url=p),b}function Rn(h){return h&&h[Gr]}let hr=(()=>{class h{static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275cmp=m.VBU({type:h,selectors:[["ng-component"]],standalone:!0,features:[m.aNF],decls:1,vars:0,template:function(b,M){1&b&&m.nrm(0,"router-outlet")},dependencies:[Zn],encapsulation:2})}}return h})();function Si(h){const y=h.children&&h.children.map(Si),p=y?{...h,children:y}:{...h};return!p.component&&!p.loadComponent&&(y||p.loadChildren)&&p.outlet&&p.outlet!==Ke&&(p.component=hr),p}function Mr(h){return h.outlet||Ke}function On(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let y=h.parent;y;y=y.parent){const p=y.routeConfig;if(p?._loadedInjector)return p._loadedInjector;if(p?._injector)return p._injector}return null}class zn{constructor(y,p,b,M,k){this.routeReuseStrategy=y,this.futureState=p,this.currState=b,this.forwardEvent=M,this.inputBindingEnabled=k}activate(y){const p=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,b,y),mt(this.futureState.root),this.activateChildRoutes(p,b,y)}deactivateChildRoutes(y,p,b){const M=bn(p);y.children.forEach(k=>{const N=k.value.outlet;this.deactivateRoutes(k,M[N],b),delete M[N]}),Object.values(M).forEach(k=>{this.deactivateRouteAndItsChildren(k,b)})}deactivateRoutes(y,p,b){const M=y.value,k=p?p.value:null;if(M===k)if(M.component){const N=b.getContext(M.outlet);N&&this.deactivateChildRoutes(y,p,N.children)}else this.deactivateChildRoutes(y,p,b);else k&&this.deactivateRouteAndItsChildren(p,b)}deactivateRouteAndItsChildren(y,p){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,p):this.deactivateRouteAndOutlet(y,p)}detachAndStoreRouteSubtree(y,p){const b=p.getContext(y.value.outlet),M=b&&y.value.component?b.children:p,k=bn(y);for(const N of Object.keys(k))this.deactivateRouteAndItsChildren(k[N],M);if(b&&b.outlet){const N=b.outlet.detach(),te=b.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:N,route:y,contexts:te})}}deactivateRouteAndOutlet(y,p){const b=p.getContext(y.value.outlet),M=b&&y.value.component?b.children:p,k=bn(y);for(const N of Object.keys(k))this.deactivateRouteAndItsChildren(k[N],M);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(y,p,b){const M=bn(p);y.children.forEach(k=>{this.activateRoutes(k,M[k.value.outlet],b),this.forwardEvent(new vs(k.value.snapshot))}),y.children.length&&this.forwardEvent(new Ro(y.value.snapshot))}activateRoutes(y,p,b){const M=y.value,k=p?p.value:null;if(mt(M),M===k)if(M.component){const N=b.getOrCreateContext(M.outlet);this.activateChildRoutes(y,p,N.children)}else this.activateChildRoutes(y,p,b);else if(M.component){const N=b.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const te=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),N.children.onOutletReAttached(te.contexts),N.attachRef=te.componentRef,N.route=te.route.value,N.outlet&&N.outlet.attach(te.componentRef,te.route.value),mt(te.route.value),this.activateChildRoutes(y,null,N.children)}else{const te=On(M.snapshot);N.attachRef=null,N.route=M,N.injector=te,N.outlet&&N.outlet.activateWith(M,N.injector),this.activateChildRoutes(y,null,N.children)}}else this.activateChildRoutes(y,null,b)}}class os{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class In{constructor(y,p){this.component=y,this.route=p}}function jn(h,y,p){const b=h._root;return qt(b,y?y._root:null,p,[b.value])}function Fr(h,y){const p=Symbol(),b=y.get(h,p);return b===p?"function"!=typeof h||(0,m.LfX)(h)?y.get(h):h:b}function qt(h,y,p,b,M={canDeactivateChecks:[],canActivateChecks:[]}){const k=bn(y);return h.children.forEach(N=>{(function gr(h,y,p,b,M={canDeactivateChecks:[],canActivateChecks:[]}){const k=h.value,N=y?y.value:null,te=p?p.getContext(h.value.outlet):null;if(N&&k.routeConfig===N.routeConfig){const q=function jo(h,y,p){if("function"==typeof p)return p(h,y);switch(p){case"pathParamsChange":return!yr(h.url,y.url);case"pathParamsOrQueryParamsChange":return!yr(h.url,y.url)||!it(h.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sn(h,y)||!it(h.queryParams,y.queryParams);default:return!sn(h,y)}}(N,k,k.routeConfig.runGuardsAndResolvers);q?M.canActivateChecks.push(new os(b)):(k.data=N.data,k._resolvedData=N._resolvedData),qt(h,y,k.component?te?te.children:null:p,b,M),q&&te&&te.outlet&&te.outlet.isActivated&&M.canDeactivateChecks.push(new In(te.outlet.component,N))}else N&&D(y,te,M),M.canActivateChecks.push(new os(b)),qt(h,null,k.component?te?te.children:null:p,b,M)})(N,k[N.value.outlet],p,b.concat([N.value]),M),delete k[N.value.outlet]}),Object.entries(k).forEach(([N,te])=>D(te,p.getContext(N),M)),M}function D(h,y,p){const b=bn(h),M=h.value;Object.entries(b).forEach(([k,N])=>{D(N,M.component?y?y.children.getContext(k):null:y,p)}),p.canDeactivateChecks.push(new In(M.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,M))}function S(h){return"function"==typeof h}function Gi(h){return h instanceof Lt||"EmptyError"===h?.name}const Hi=Symbol("INITIAL_VALUE");function pi(){return(0,ut.n)(h=>He(h.map(y=>y.pipe((0,$n.s)(1),function Kr(...h){const y=(0,ee.lI)(h);return(0,Gt.N)((p,b)=>{(y?Se(h,p,y):Se(h,p)).subscribe(b)})}(Hi)))).pipe((0,Ve.T)(y=>{for(const p of y)if(!0!==p){if(p===Hi)return Hi;if(!1===p||p instanceof dr)return p}return!0}),(0,Y.p)(y=>y!==Hi),(0,$n.s)(1)))}function so(h){return(0,ke.F)((0,lt.M)(y=>{if(Tn(y))throw Mo(0,y)}),(0,Ve.T)(y=>!0===y))}class ni{constructor(y){this.segmentGroup=y||null}}class Je{constructor(y){this.urlTree=y}}function st(h){return(0,Oe.$)(new ni(h))}function co(h){return(0,Oe.$)(new Je(h))}class ri{constructor(y,p){this.urlSerializer=y,this.urlTree=p}noMatchError(y){return new m.wOt(4002,!1)}lineralizeSegments(y,p){let b=[],M=p.root;for(;;){if(b=b.concat(M.segments),0===M.numberOfChildren)return(0,oe.of)(b);if(M.numberOfChildren>1||!M.children[Ke])return(0,Oe.$)(new m.wOt(4e3,!1));M=M.children[Ke]}}applyRedirectCommands(y,p,b){return this.applyRedirectCreateUrlTree(p,this.urlSerializer.parse(p),y,b)}applyRedirectCreateUrlTree(y,p,b,M){const k=this.createSegmentGroup(y,p.root,b,M);return new dr(k,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(y,p){const b={};return Object.entries(y).forEach(([M,k])=>{if("string"==typeof k&&k.startsWith(":")){const te=k.substring(1);b[M]=p[te]}else b[M]=k}),b}createSegmentGroup(y,p,b,M){const k=this.createSegments(y,p.segments,b,M);let N={};return Object.entries(p.children).forEach(([te,q])=>{N[te]=this.createSegmentGroup(y,q,b,M)}),new Mt(k,N)}createSegments(y,p,b,M){return p.map(k=>k.path.startsWith(":")?this.findPosParam(y,k,M):this.findOrReturn(k,b))}findPosParam(y,p,b){const M=b[p.path.substring(1)];if(!M)throw new m.wOt(4001,!1);return M}findOrReturn(y,p){let b=0;for(const M of p){if(M.path===y.path)return p.splice(b),M;b++}return y}}const as={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bs(h,y,p,b,M){const k=Do(h,y,p);return k.matched?(b=function Nn(h,y){return h.providers&&!h._injector&&(h._injector=(0,m.Ol2)(h.providers,y,`Route: ${h.path}`)),h._injector??y}(y,b),function ao(h,y,p,b){const M=y.canMatch;if(!M||0===M.length)return(0,oe.of)(!0);const k=M.map(N=>{const te=Fr(N,h);return vn(function tr(h){return h&&S(h.canMatch)}(te)?te.canMatch(y,p):h.runInContext(()=>te(y,p)))});return(0,oe.of)(k).pipe(pi(),so())}(b,y,p).pipe((0,Ve.T)(N=>!0===N?k:{...as}))):(0,oe.of)(k)}function Do(h,y,p){if(""===y.path)return"full"===y.pathMatch&&(h.hasChildren()||p.length>0)?{...as}:{matched:!0,consumedSegments:[],remainingSegments:p,parameters:{},positionalParamSegments:{}};const M=(y.matcher||vr)(p,h,y);if(!M)return{...as};const k={};Object.entries(M.posParams??{}).forEach(([te,q])=>{k[te]=q.path});const N=M.consumed.length>0?{...k,...M.consumed[M.consumed.length-1].parameters}:k;return{matched:!0,consumedSegments:M.consumed,remainingSegments:p.slice(M.consumed.length),parameters:N,positionalParamSegments:M.posParams??{}}}function Cs(h,y,p,b){return p.length>0&&function Hs(h,y,p){return p.some(b=>Ii(h,y,b)&&Mr(b)!==Ke)}(h,p,b)?{segmentGroup:new Mt(y,ws(b,new Mt(p,h.children))),slicedSegments:[]}:0===p.length&&function Vn(h,y,p){return p.some(b=>Ii(h,y,b))}(h,p,b)?{segmentGroup:new Mt(h.segments,Es(h,0,p,b,h.children)),slicedSegments:p}:{segmentGroup:new Mt(h.segments,h.children),slicedSegments:p}}function Es(h,y,p,b,M){const k={};for(const N of b)if(Ii(h,p,N)&&!M[Mr(N)]){const te=new Mt([],{});k[Mr(N)]=te}return{...M,...k}}function ws(h,y){const p={};p[Ke]=y;for(const b of h)if(""===b.path&&Mr(b)!==Ke){const M=new Mt([],{});p[Mr(b)]=M}return p}function Ii(h,y,p){return(!(h.hasChildren()||y.length>0)||"full"!==p.pathMatch)&&""===p.path}class Ws{constructor(y,p,b,M,k,N,te){this.injector=y,this.configLoader=p,this.rootComponentType=b,this.config=M,this.urlTree=k,this.paramsInheritanceStrategy=N,this.urlSerializer=te,this.allowRedirects=!0,this.applyRedirects=new ri(this.urlSerializer,this.urlTree)}noMatchError(y){return new m.wOt(4002,!1)}recognize(){const y=Cs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,Ke).pipe((0,Kt.W)(p=>{if(p instanceof Je)return this.allowRedirects=!1,this.urlTree=p.urlTree,this.match(p.urlTree);throw p instanceof ni?this.noMatchError(p):p}),(0,Ve.T)(p=>{const b=new no([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ke,this.rootComponentType,null,{}),M=new ft(b,p),k=new wo("",M),N=function yn(h,y,p=null,b=null){return ci(ir(h),y,p,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return N.queryParams=this.urlTree.queryParams,k.url=this.urlSerializer.serialize(N),this.inheritParamsAndData(k._root),{state:k,tree:N}}))}match(y){return this.processSegmentGroup(this.injector,this.config,y.root,Ke).pipe((0,Kt.W)(b=>{throw b instanceof ni?this.noMatchError(b):b}))}inheritParamsAndData(y){const p=y.value,b=to(p,this.paramsInheritanceStrategy);p.params=Object.freeze(b.params),p.data=Object.freeze(b.data),y.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(y,p,b,M){return 0===b.segments.length&&b.hasChildren()?this.processChildren(y,p,b):this.processSegment(y,p,b,b.segments,M,!0)}processChildren(y,p,b){const M=[];for(const k of Object.keys(b.children))"primary"===k?M.unshift(k):M.push(k);return(0,J.H)(M).pipe((0,We.H)(k=>{const N=b.children[k],te=function Tr(h,y){const p=h.filter(b=>Mr(b)===y);return p.push(...h.filter(b=>Mr(b)!==y)),p}(p,k);return this.processSegmentGroup(y,te,N,k)}),function Rt(h,y){return(0,Gt.N)(function at(h,y,p,b,M){return(k,N)=>{let te=p,q=y,$e=0;k.subscribe((0,Re._)(N,Et=>{const Zt=$e++;q=te?h(q,Et,Zt):(te=!0,Et),b&&N.next(q)},M&&(()=>{te&&N.next(q),N.complete()})))}}(h,y,arguments.length>=2,!0))}((k,N)=>(k.push(...N),k)),Q(null),function ur(h,y){const p=arguments.length>=2;return b=>b.pipe(h?(0,Y.p)((M,k)=>h(M,k,b)):re.D,Jt(1),p?Q(y):ae(()=>new Lt))}(),(0,Z.Z)(k=>{if(null===k)return st(b);const N=_(k);return function cs(h){h.sort((y,p)=>y.value.outlet===Ke?-1:p.value.outlet===Ke?1:y.value.outlet.localeCompare(p.value.outlet))}(N),(0,oe.of)(N)}))}processSegment(y,p,b,M,k,N){return(0,J.H)(p).pipe((0,We.H)(te=>this.processSegmentAgainstRoute(te._injector??y,p,te,b,M,k,N).pipe((0,Kt.W)(q=>{if(q instanceof ni)return(0,oe.of)(null);throw q}))),we(te=>!!te),(0,Kt.W)(te=>{if(Gi(te))return function $o(h,y,p){return 0===y.length&&!h.children[p]}(b,M,k)?(0,oe.of)([]):st(b);throw te}))}processSegmentAgainstRoute(y,p,b,M,k,N,te){return function Wi(h,y,p,b){return!!(Mr(h)===b||b!==Ke&&Ii(y,p,h))&&("**"===h.path||Do(y,h,p).matched)}(b,M,k,N)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(y,M,b,k,N,te):te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,M,p,b,k,N):st(M):st(M)}expandSegmentAgainstRouteUsingRedirect(y,p,b,M,k,N){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,b,M,N):this.expandRegularSegmentAgainstRouteUsingRedirect(y,p,b,M,k,N)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,p,b,M){const k=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?co(k):this.applyRedirects.lineralizeSegments(b,k).pipe((0,Z.Z)(N=>{const te=new Mt(N,{});return this.processSegment(y,p,te,N,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,p,b,M,k,N){const{matched:te,consumedSegments:q,remainingSegments:$e,positionalParamSegments:Et}=Do(p,M,k);if(!te)return st(p);const Zt=this.applyRedirects.applyRedirectCommands(q,M.redirectTo,Et);return M.redirectTo.startsWith("/")?co(Zt):this.applyRedirects.lineralizeSegments(M,Zt).pipe((0,Z.Z)(Bt=>this.processSegment(y,b,p,Bt.concat($e),N,!1)))}matchSegmentAgainstRoute(y,p,b,M,k,N){let te;if("**"===b.path){const q=M.length>0?Wn(M).parameters:{},$e=new no(M,q,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E(b),Mr(b),b.component??b._loadedComponent??null,b,O(b));te=(0,oe.of)({snapshot:$e,consumedSegments:[],remainingSegments:[]}),p.children={}}else te=bs(p,b,M,y).pipe((0,Ve.T)(({matched:q,consumedSegments:$e,remainingSegments:Et,parameters:Zt})=>q?{snapshot:new no($e,Zt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E(b),Mr(b),b.component??b._loadedComponent??null,b,O(b)),consumedSegments:$e,remainingSegments:Et}:null));return te.pipe((0,ut.n)(q=>null===q?st(p):this.getChildConfig(y=b._injector??y,b,M).pipe((0,ut.n)(({routes:$e})=>{const Et=b._loadedInjector??y,{snapshot:Zt,consumedSegments:Bt,remainingSegments:Fi}=q,{segmentGroup:zo,slicedSegments:Go}=Cs(p,Bt,Fi,$e);if(0===Go.length&&zo.hasChildren())return this.processChildren(Et,$e,zo).pipe((0,Ve.T)(Ho=>null===Ho?null:[new ft(Zt,Ho)]));if(0===$e.length&&0===Go.length)return(0,oe.of)([new ft(Zt,[])]);const ds=Mr(b)===k;return this.processSegment(Et,$e,zo,Go,ds?Ke:k,!0).pipe((0,Ve.T)(Ho=>[new ft(Zt,Ho)]))}))))}getChildConfig(y,p,b){return p.children?(0,oe.of)({routes:p.children,injector:y}):p.loadChildren?void 0!==p._loadedRoutes?(0,oe.of)({routes:p._loadedRoutes,injector:p._loadedInjector}):function ya(h,y,p,b){const M=y.canLoad;if(void 0===M||0===M.length)return(0,oe.of)(!0);const k=M.map(N=>{const te=Fr(N,h);return vn(function T(h){return h&&S(h.canLoad)}(te)?te.canLoad(y,p):h.runInContext(()=>te(y,p)))});return(0,oe.of)(k).pipe(pi(),so())}(y,p,b).pipe((0,Z.Z)(M=>M?this.configLoader.loadChildren(y,p).pipe((0,lt.M)(k=>{p._loadedRoutes=k.routes,p._loadedInjector=k.injector})):function or(h){return(0,Oe.$)(ei(!1,3))}())):(0,oe.of)({routes:[],injector:y})}}function wc(h){const y=h.value.routeConfig;return y&&""===y.path}function _(h){const y=[],p=new Set;for(const b of h){if(!wc(b)){y.push(b);continue}const M=y.find(k=>b.value.routeConfig===k.value.routeConfig);void 0!==M?(M.children.push(...b.children),p.add(M)):y.push(b)}for(const b of p){const M=_(b.children);y.push(new ft(b.value,M))}return y.filter(b=>!p.has(b))}function E(h){return h.data||{}}function O(h){return h.resolve||{}}function Wt(h){return"string"==typeof h.title||null===h.title}function Ot(h){return(0,ut.n)(y=>{const p=h(y);return p?(0,J.H)(p).pipe((0,Ve.T)(()=>y)):(0,oe.of)(y)})}const an=new m.nKC("ROUTES");let nn=(()=>{class h{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.WQX)(m.Ql9)}loadComponent(p){if(this.componentLoaders.get(p))return this.componentLoaders.get(p);if(p._loadedComponent)return(0,oe.of)(p._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(p);const b=vn(p.loadComponent()).pipe((0,Ve.T)(ii),(0,lt.M)(k=>{this.onLoadEndListener&&this.onLoadEndListener(p),p._loadedComponent=k}),(0,_n.j)(()=>{this.componentLoaders.delete(p)})),M=new Hn(b,()=>new Te.B).pipe(Mn());return this.componentLoaders.set(p,M),M}loadChildren(p,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,oe.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const k=function Ln(h,y,p,b){return vn(h.loadChildren()).pipe((0,Ve.T)(ii),(0,Z.Z)(M=>M instanceof m.Co$||Array.isArray(M)?(0,oe.of)(M):(0,J.H)(y.compileModuleAsync(M))),(0,Ve.T)(M=>{b&&b(h);let k,N,te=!1;return Array.isArray(M)?(N=M,!0):(k=M.create(p).injector,N=k.get(an,[],{optional:!0,self:!0}).flat()),{routes:N.map(Si),injector:k}}))}(b,this.compiler,p,this.onLoadEndListener).pipe((0,_n.j)(()=>{this.childrenLoaders.delete(b)})),N=new Hn(k,()=>new Te.B).pipe(Mn());return this.childrenLoaders.set(b,N),N}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function ii(h){return function xi(h){return h&&"object"==typeof h&&"default"in h}(h)?h.default:h}let hi=(()=>{class h{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te.B,this.transitionAbortSubject=new Te.B,this.configLoader=(0,m.WQX)(nn),this.environmentInjector=(0,m.WQX)(m.uvJ),this.urlSerializer=(0,m.WQX)(rr),this.rootContexts=(0,m.WQX)(di),this.inputBindingEnabled=null!==(0,m.WQX)(Sn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new bo(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new wi(M))}complete(){this.transitions?.complete()}handleNavigationRequest(p){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...p,id:b})}setupNavigations(p,b,M){return this.transitions=new me.t({id:0,currentUrlTree:b,currentRawUrl:b,currentBrowserUrl:b,extractedUrl:p.urlHandlingStrategy.extract(b),urlAfterRedirects:p.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jn,restoredState:null,currentSnapshot:M.snapshot,targetSnapshot:null,currentRouterState:M,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Y.p)(k=>0!==k.id),(0,Ve.T)(k=>({...k,extractedUrl:p.urlHandlingStrategy.extract(k.rawUrl)})),(0,ut.n)(k=>{this.currentTransition=k;let N=!1,te=!1;return(0,oe.of)(k).pipe((0,lt.M)(q=>{this.currentNavigation={id:q.id,initialUrl:q.rawUrl,extractedUrl:q.extractedUrl,trigger:q.source,extras:q.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ut.n)(q=>{const $e=q.currentBrowserUrl.toString(),Et=!p.navigated||q.extractedUrl.toString()!==$e||$e!==q.currentUrlTree.toString();if(!Et&&"reload"!==(q.extras.onSameUrlNavigation??p.onSameUrlNavigation)){const Bt="";return this.events.next(new Bn(q.id,this.urlSerializer.serialize(q.rawUrl),Bt,0)),q.resolve(null),Ee.w}if(p.urlHandlingStrategy.shouldProcessUrl(q.rawUrl))return(0,oe.of)(q).pipe((0,ut.n)(Bt=>{const Fi=this.transitions?.getValue();return this.events.next(new $i(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),Bt.source,Bt.restoredState)),Fi!==this.transitions?.getValue()?Ee.w:Promise.resolve(Bt)}),function j(h,y,p,b,M,k){return(0,Z.Z)(N=>function Po(h,y,p,b,M,k,N="emptyOnly"){return new Ws(h,y,p,b,M,N,k).recognize()}(h,y,p,b,N.extractedUrl,M,k).pipe((0,Ve.T)(({state:te,tree:q})=>({...N,targetSnapshot:te,urlAfterRedirects:q}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,p.config,this.urlSerializer,p.paramsInheritanceStrategy),(0,lt.M)(Bt=>{k.targetSnapshot=Bt.targetSnapshot,k.urlAfterRedirects=Bt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Bt.urlAfterRedirects};const Fi=new wr(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot);this.events.next(Fi)}));if(Et&&p.urlHandlingStrategy.shouldProcessUrl(q.currentRawUrl)){const{id:Bt,extractedUrl:Fi,source:zo,restoredState:Go,extras:ds}=q,Ho=new $i(Bt,this.urlSerializer.serialize(Fi),zo,Go);this.events.next(Ho);const Nc=zr(0,this.rootComponentType).snapshot;return this.currentTransition=k={...q,targetSnapshot:Nc,urlAfterRedirects:Fi,extras:{...ds,skipLocationChange:!1,replaceUrl:!1}},(0,oe.of)(k)}{const Bt="";return this.events.next(new Bn(q.id,this.urlSerializer.serialize(q.extractedUrl),Bt,1)),q.resolve(null),Ee.w}}),(0,lt.M)(q=>{const $e=new ns(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next($e)}),(0,Ve.T)(q=>(this.currentTransition=k={...q,guards:jn(q.targetSnapshot,q.currentSnapshot,this.rootContexts)},k)),function Vo(h,y){return(0,Z.Z)(p=>{const{targetSnapshot:b,currentSnapshot:M,guards:{canActivateChecks:k,canDeactivateChecks:N}}=p;return 0===N.length&&0===k.length?(0,oe.of)({...p,guardsResult:!0}):function Cc(h,y,p,b){return(0,J.H)(h).pipe((0,Z.Z)(M=>function va(h,y,p,b,M){const k=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!k||0===k.length)return(0,oe.of)(!0);const N=k.map(te=>{const q=On(y)??M,$e=Fr(te,q);return vn(function Ct(h){return h&&S(h.canDeactivate)}($e)?$e.canDeactivate(h,y,p,b):q.runInContext(()=>$e(h,y,p,b))).pipe(we())});return(0,oe.of)(N).pipe(pi())}(M.component,M.route,p,y,b)),we(M=>!0!==M,!0))}(N,b,M,h).pipe((0,Z.Z)(te=>te&&function C(h){return"boolean"==typeof h}(te)?function Ec(h,y,p,b){return(0,J.H)(y).pipe((0,We.H)(M=>Se(function Lo(h,y){return null!==h&&y&&y(new Ao(h)),(0,oe.of)(!0)}(M.route.parent,b),function Gs(h,y){return null!==h&&y&&y(new rs(h)),(0,oe.of)(!0)}(M.route,b),function _a(h,y,p){const b=y[y.length-1],k=y.slice(0,y.length-1).reverse().map(N=>function oo(h){const y=h.routeConfig?h.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:h,guards:y}:null}(N)).filter(N=>null!==N).map(N=>tt(()=>{const te=N.guards.map(q=>{const $e=On(N.node)??p,Et=Fr(q,$e);return vn(function Xe(h){return h&&S(h.canActivateChild)}(Et)?Et.canActivateChild(b,h):$e.runInContext(()=>Et(b,h))).pipe(we())});return(0,oe.of)(te).pipe(pi())}));return(0,oe.of)(k).pipe(pi())}(h,M.path,p),function ss(h,y,p){const b=y.routeConfig?y.routeConfig.canActivate:null;if(!b||0===b.length)return(0,oe.of)(!0);const M=b.map(k=>tt(()=>{const N=On(y)??p,te=Fr(k,N);return vn(function U(h){return h&&S(h.canActivate)}(te)?te.canActivate(y,h):N.runInContext(()=>te(y,h))).pipe(we())}));return(0,oe.of)(M).pipe(pi())}(h,M.route,p))),we(M=>!0!==M,!0))}(b,k,h,y):(0,oe.of)(te)),(0,Ve.T)(te=>({...p,guardsResult:te})))})}(this.environmentInjector,q=>this.events.next(q)),(0,lt.M)(q=>{if(k.guardsResult=q.guardsResult,Tn(q.guardsResult))throw Mo(0,q.guardsResult);const $e=new Br(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot,!!q.guardsResult);this.events.next($e)}),(0,Y.p)(q=>!!q.guardsResult||(this.cancelNavigationTransition(q,"",3),!1)),Ot(q=>{if(q.guards.canActivateChecks.length)return(0,oe.of)(q).pipe((0,lt.M)($e=>{const Et=new yo($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(Et)}),(0,ut.n)($e=>{let Et=!1;return(0,oe.of)($e).pipe(function ne(h,y){return(0,Z.Z)(p=>{const{targetSnapshot:b,guards:{canActivateChecks:M}}=p;if(!M.length)return(0,oe.of)(p);let k=0;return(0,J.H)(M).pipe((0,We.H)(N=>function ge(h,y,p,b){const M=h.routeConfig,k=h._resolve;return void 0!==M?.title&&!Wt(M)&&(k[Un]=M.title),function qe(h,y,p,b){const M=function un(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}(h);if(0===M.length)return(0,oe.of)({});const k={};return(0,J.H)(M).pipe((0,Z.Z)(N=>function dn(h,y,p,b){const M=On(y)??b,k=Fr(h,M);return vn(k.resolve?k.resolve(y,p):M.runInContext(()=>k(y,p)))}(h[N],y,p,b).pipe(we(),(0,lt.M)(te=>{k[N]=te}))),Jt(1),function _t(h){return(0,Ve.T)(()=>h)}(k),(0,Kt.W)(N=>Gi(N)?Ee.w:(0,Oe.$)(N)))}(k,h,y,b).pipe((0,Ve.T)(N=>(h._resolvedData=N,h.data=to(h,p).resolve,M&&Wt(M)&&(h.data[Un]=M.title),null)))}(N.route,b,h,y)),(0,lt.M)(()=>k++),Jt(1),(0,Z.Z)(N=>k===M.length?(0,oe.of)(p):Ee.w))})}(p.paramsInheritanceStrategy,this.environmentInjector),(0,lt.M)({next:()=>Et=!0,complete:()=>{Et||this.cancelNavigationTransition($e,"",2)}}))}),(0,lt.M)($e=>{const Et=new Zi($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(Et)}))}),Ot(q=>{const $e=Et=>{const Zt=[];Et.routeConfig?.loadComponent&&!Et.routeConfig._loadedComponent&&Zt.push(this.configLoader.loadComponent(Et.routeConfig).pipe((0,lt.M)(Bt=>{Et.component=Bt}),(0,Ve.T)(()=>{})));for(const Bt of Et.children)Zt.push(...$e(Bt));return Zt};return He($e(q.targetSnapshot.root)).pipe(Q(),(0,$n.s)(1))}),Ot(()=>this.afterPreactivation()),(0,Ve.T)(q=>{const $e=function hn(h,y,p){const b=er(h,y._root,p?p._root:void 0);return new En(b,y)}(p.routeReuseStrategy,q.targetSnapshot,q.currentRouterState);return this.currentTransition=k={...q,targetRouterState:$e},k}),(0,lt.M)(()=>{this.events.next(new Co)}),((h,y,p,b)=>(0,Ve.T)(M=>(new zn(y,M.targetRouterState,M.currentRouterState,p,b).activate(h),M)))(this.rootContexts,p.routeReuseStrategy,q=>this.events.next(q),this.inputBindingEnabled),(0,$n.s)(1),(0,lt.M)({next:q=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ur(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects))),p.titleStrategy?.updateTitle(q.targetRouterState.snapshot),q.resolve(!0)},complete:()=>{N=!0}}),(0,Yt.Q)(this.transitionAbortSubject.pipe((0,lt.M)(q=>{throw q}))),(0,_n.j)(()=>{N||te||this.cancelNavigationTransition(k,"",1),this.currentNavigation?.id===k.id&&(this.currentNavigation=null)}),(0,Kt.W)(q=>{if(te=!0,Rn(q))this.events.next(new Ji(k.id,this.urlSerializer.serialize(k.extractedUrl),q.message,q.cancellationCode)),function gn(h){return Rn(h)&&Tn(h.url)}(q)?this.events.next(new Zr(q.url)):k.resolve(!1);else{this.events.next(new vo(k.id,this.urlSerializer.serialize(k.extractedUrl),q,k.targetSnapshot??void 0));try{k.resolve(p.errorHandler(q))}catch($e){k.reject($e)}}return Ee.w}))}))}cancelNavigationTransition(p,b,M){const k=new Ji(p.id,this.urlSerializer.serialize(p.extractedUrl),b,M);this.events.next(k),p.resolve(!1)}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function Pr(h){return h!==Jn}let gi=(()=>{class h{buildTitle(p){let b,M=p.root;for(;void 0!==M;)b=this.getResolvedTitleForRoute(M)??b,M=M.children.find(k=>k.outlet===Ke);return b}getResolvedTitleForRoute(p){return p.data[Un]}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:function(){return(0,m.WQX)(lo)},providedIn:"root"})}}return h})(),lo=(()=>{class h extends gi{constructor(p){super(),this.title=p}updateTitle(p){const b=this.buildTitle(p);void 0!==b&&this.title.setTitle(b)}static{this.\u0275fac=function(b){return new(b||h)(m.KVO(Ye.hE))}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),uo=(()=>{class h{static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:function(){return(0,m.WQX)(ba)},providedIn:"root"})}}return h})();class Xs{shouldDetach(y){return!1}store(y,p){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,p){return y.routeConfig===p.routeConfig}}let ba=(()=>{class h extends Xs{static{this.\u0275fac=function(){let p;return function(M){return(p||(p=m.xGo(h)))(M||h)}}()}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const Ms=new m.nKC("",{providedIn:"root",factory:()=>({})});let Mc=(()=>{class h{static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:function(){return(0,m.WQX)(Ca)},providedIn:"root"})}}return h})(),Ca=(()=>{class h{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,b){return p}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();var Uo=function(h){return h[h.COMPLETE=0]="COMPLETE",h[h.FAILED=1]="FAILED",h[h.REDIRECTING=2]="REDIRECTING",h}(Uo||{});function Ea(h,y){h.events.pipe((0,Y.p)(p=>p instanceof Ur||p instanceof Ji||p instanceof vo||p instanceof Bn),(0,Ve.T)(p=>p instanceof Ur||p instanceof Bn?Uo.COMPLETE:p instanceof Ji&&(0===p.code||1===p.code)?Uo.REDIRECTING:Uo.FAILED),(0,Y.p)(p=>p!==Uo.REDIRECTING),(0,$n.s)(1)).subscribe(()=>{y()})}function Ks(h){throw h}function Dc(h,y,p){return y.parse("/")}const ki={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class h{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.WQX)(m.H3F),this.isNgZoneEnabled=!1,this._events=new Te.B,this.options=(0,m.WQX)(Ms,{optional:!0})||{},this.pendingTasks=(0,m.WQX)(m.$K3),this.errorHandler=this.options.errorHandler||Ks,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Dc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.WQX)(Mc),this.routeReuseStrategy=(0,m.WQX)(uo),this.titleStrategy=(0,m.WQX)(gi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,m.WQX)(an,{optional:!0})?.flat()??[],this.navigationTransitions=(0,m.WQX)(hi),this.urlSerializer=(0,m.WQX)(rr),this.location=(0,m.WQX)(rn.aZ),this.componentInputBindingEnabled=!!(0,m.WQX)(Sn,{optional:!0}),this.eventsSubscription=new nt.yU,this.isNgZoneEnabled=(0,m.WQX)(m.SKi)instanceof m.SKi&&m.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(p=>{this.lastSuccessfulId=p.id,this.currentPageId=this.browserPageId},p=>{this.console.warn(`Unhandled Navigation Error: ${p}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const p=this.navigationTransitions.events.subscribe(b=>{try{const{currentTransition:M}=this.navigationTransitions;if(null===M)return void(Ds(b)&&this._events.next(b));if(b instanceof $i)Pr(M.source)&&(this.browserUrlTree=M.extractedUrl);else if(b instanceof Bn)this.rawUrlTree=M.rawUrl;else if(b instanceof wr){if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(k,M)}this.browserUrlTree=M.urlAfterRedirects}}else if(b instanceof Co)this.currentUrlTree=M.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M),this.browserUrlTree=M.urlAfterRedirects);else if(b instanceof Ji)0!==b.code&&1!==b.code&&(this.navigated=!0),(3===b.code||2===b.code)&&this.restoreHistory(M);else if(b instanceof Zr){const k=this.urlHandlingStrategy.merge(b.url,M.currentRawUrl),N={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pr(M.source)};this.scheduleNavigation(k,Jn,null,N,{resolve:M.resolve,reject:M.reject,promise:M.promise})}b instanceof vo&&this.restoreHistory(M,!0),b instanceof Ur&&(this.navigated=!0),Ds(b)&&this._events.next(b)}catch(M){this.navigationTransitions.transitionAbortSubject.next(M)}});this.eventsSubscription.add(p)}resetRootComponentType(p){this.routerState.root.component=p,this.navigationTransitions.rootComponentType=p}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const p=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Jn,p)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(p=>{const b="popstate"===p.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(p.url,b,p.state)},0)}))}navigateToSyncWithBrowser(p,b,M){const k={replaceUrl:!0},N=M?.navigationId?M:null;if(M){const q={...M};delete q.navigationId,delete q.\u0275routerPageId,0!==Object.keys(q).length&&(k.state=q)}const te=this.parseUrl(p);this.scheduleNavigation(te,b,N,k)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(p){this.config=p.map(Si),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(p,b={}){const{relativeTo:M,queryParams:k,fragment:N,queryParamsHandling:te,preserveFragment:q}=b,$e=q?this.currentUrlTree.fragment:N;let Zt,Et=null;switch(te){case"merge":Et={...this.currentUrlTree.queryParams,...k};break;case"preserve":Et=this.currentUrlTree.queryParams;break;default:Et=k||null}null!==Et&&(Et=this.removeEmptyProps(Et));try{Zt=ir(M?M.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof p[0]||!p[0].startsWith("/"))&&(p=[]),Zt=this.currentUrlTree.root}return ci(Zt,p,Et,$e??null)}navigateByUrl(p,b={skipLocationChange:!1}){const M=Tn(p)?p:this.parseUrl(p),k=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(k,Jn,null,b)}navigate(p,b={skipLocationChange:!1}){return function mn(h){for(let y=0;y<h.length;y++)if(null==h[y])throw new m.wOt(4008,!1)}(p),this.navigateByUrl(this.createUrlTree(p,b),b)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){let b;try{b=this.urlSerializer.parse(p)}catch(M){b=this.malformedUriErrorHandler(M,this.urlSerializer,p)}return b}isActive(p,b){let M;if(M=!0===b?{...ki}:!1===b?{...wa}:b,Tn(p))return bi(this.currentUrlTree,p,M);const k=this.parseUrl(p);return bi(this.currentUrlTree,k,M)}removeEmptyProps(p){return Object.keys(p).reduce((b,M)=>{const k=p[M];return null!=k&&(b[M]=k),b},{})}scheduleNavigation(p,b,M,k,N){if(this.disposed)return Promise.resolve(!1);let te,q,$e;N?(te=N.resolve,q=N.reject,$e=N.promise):$e=new Promise((Zt,Bt)=>{te=Zt,q=Bt});const Et=this.pendingTasks.add();return Ea(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Et))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:p,extras:k,resolve:te,reject:q,promise:$e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$e.catch(Zt=>Promise.reject(Zt))}setBrowserUrl(p,b){const M=this.urlSerializer.serialize(p);if(this.location.isCurrentPathEqualTo(M)||b.extras.replaceUrl){const N={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(M,"",N)}else{const k={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go(M,"",k)}}restoreHistory(p,b=!1){if("computed"===this.canceledNavigationResolution){const k=this.currentPageId-this.browserPageId;0!==k?this.location.historyGo(k):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===k&&(this.resetState(p),this.browserUrlTree=p.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=p.currentRouterState,this.currentUrlTree=p.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(p,b){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:b}:{navigationId:p}}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function Ds(h){return!(h instanceof Co||h instanceof Zr)}let So=(()=>{class h{constructor(p,b,M,k,N,te){this.router=p,this.route=b,this.tabIndexAttribute=M,this.renderer=k,this.el=N,this.locationStrategy=te,this.href=null,this.commands=null,this.onChanges=new Te.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const q=N.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===q||"area"===q,this.isAnchorElement?this.subscription=p.events.subscribe($e=>{$e instanceof Ur&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(p){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",p)}ngOnChanges(p){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(p){null!=p?(this.commands=Array.isArray(p)?p:[p],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(p,b,M,k,N){return!!(null===this.urlTree||this.isAnchorElement&&(0!==p||b||M||k||N||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const p=null===this.href?null:(0,m.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",p)}applyAttributeValue(p,b){const M=this.renderer,k=this.el.nativeElement;null!==b?M.setAttribute(k,p,b):M.removeAttribute(k,p)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(b){return new(b||h)(m.rXU(Ar),m.rXU(xr),m.kS0("tabindex"),m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(rn.hb))}}static{this.\u0275dir=m.FsC({type:h,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,M){1&b&&m.bIt("click",function(N){return M.onClick(N.button,N.ctrlKey,N.shiftKey,N.altKey,N.metaKey)}),2&b&&m.BMQ("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",m.L39],skipLocationChange:["skipLocationChange","skipLocationChange",m.L39],replaceUrl:["replaceUrl","replaceUrl",m.L39],routerLink:"routerLink"},standalone:!0,features:[m.GFd,m.OA$]})}}return h})();class Ys{}let Sc=(()=>{class h{constructor(p,b,M,k,N){this.router=p,this.injector=M,this.preloadingStrategy=k,this.loader=N}setUpPreloading(){this.subscription=this.router.events.pipe((0,Y.p)(p=>p instanceof Ur),(0,We.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,b){const M=[];for(const k of b){k.providers&&!k._injector&&(k._injector=(0,m.Ol2)(k.providers,p,`Route: ${k.path}`));const N=k._injector??p,te=k._loadedInjector??N;(k.loadChildren&&!k._loadedRoutes&&void 0===k.canLoad||k.loadComponent&&!k._loadedComponent)&&M.push(this.preloadConfig(N,k)),(k.children||k._loadedRoutes)&&M.push(this.processRoutes(te,k.children??k._loadedRoutes))}return(0,J.H)(M).pipe((0,Qt.U)())}preloadConfig(p,b){return this.preloadingStrategy.preload(b,()=>{let M;M=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(p,b):(0,oe.of)(null);const k=M.pipe((0,Z.Z)(N=>null===N?(0,oe.of)(void 0):(b._loadedRoutes=N.routes,b._loadedInjector=N.injector,this.processRoutes(N.injector??p,N.routes))));if(b.loadComponent&&!b._loadedComponent){const N=this.loader.loadComponent(b);return(0,J.H)([k,N]).pipe((0,Qt.U)())}return k})}static{this.\u0275fac=function(b){return new(b||h)(m.KVO(Ar),m.KVO(m.Ql9),m.KVO(m.uvJ),m.KVO(Ys),m.KVO(nn))}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const qs=new m.nKC("");let Ma=(()=>{class h{constructor(p,b,M,k,N={}){this.urlSerializer=p,this.transitions=b,this.viewportScroller=M,this.zone=k,this.options=N,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},N.scrollPositionRestoration=N.scrollPositionRestoration||"disabled",N.anchorScrolling=N.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof $i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof Ur?(this.lastId=p.id,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.urlAfterRedirects).fragment)):p instanceof Bn&&0===p.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof li&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new li(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(b){m.QTQ()}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac})}}return h})();function Xi(h,y){return{\u0275kind:h,\u0275providers:y}}function yt(){const h=(0,m.WQX)(m.zZn);return y=>{const p=h.get(m.o8S);if(y!==p.components[0])return;const b=h.get(Ar),M=h.get(Js);1===h.get(Pa)&&b.initialNavigation(),h.get(Zs,null,m.$GK.Optional)?.setUpPreloading(),h.get(qs,null,m.$GK.Optional)?.init(),b.resetRootComponentType(p.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const Js=new m.nKC("",{factory:()=>new Te.B}),Pa=new m.nKC("",{providedIn:"root",factory:()=>1}),Zs=new m.nKC("");function Bo(h){return Xi(0,[{provide:Zs,useExisting:Sc},{provide:Ys,useExisting:h}])}const be=new m.nKC("ROUTER_FORROOT_GUARD"),Ut=[rn.aZ,{provide:rr,useClass:Xn},Ar,di,{provide:xr,useFactory:function Qs(h){return h.routerState.root},deps:[Ar]},nn,[]];function Sa(){return new m.NEm("Router",Ar)}let Oa=(()=>{class h{constructor(p){}static forRoot(p,b){return{ngModule:h,providers:[Ut,[],{provide:an,multi:!0,useValue:p},{provide:be,useFactory:Ti,deps:[[Ar,new m.Xx1,new m.kdw]]},{provide:Ms,useValue:b||{}},b?.useHash?{provide:rn.hb,useClass:rn.fw}:{provide:rn.hb,useClass:rn.Sm},{provide:qs,useFactory:()=>{const h=(0,m.WQX)(rn.Xr),y=(0,m.WQX)(m.SKi),p=(0,m.WQX)(Ms),b=(0,m.WQX)(hi),M=(0,m.WQX)(rr);return p.scrollOffset&&h.setOffset(p.scrollOffset),new Ma(M,b,h,y,p)}},b?.preloadingStrategy?Bo(b.preloadingStrategy).\u0275providers:[],{provide:m.NEm,multi:!0,useFactory:Sa},b?.initialNavigation?ea(b):[],b?.bindToComponentInputs?Xi(8,[kr,{provide:Sn,useExisting:kr}]).\u0275providers:[],[{provide:Ps,useFactory:yt},{provide:m.iLQ,multi:!0,useExisting:Ps}]]}}static forChild(p){return{ngModule:h,providers:[{provide:an,multi:!0,useValue:p}]}}static{this.\u0275fac=function(b){return new(b||h)(m.KVO(be,8))}}static{this.\u0275mod=m.$C({type:h})}static{this.\u0275inj=m.G2t({})}}return h})();function Ti(h){return"guarded"}function ea(h){return["disabled"===h.initialNavigation?Xi(3,[{provide:m.hnV,multi:!0,useFactory:()=>{const y=(0,m.WQX)(Ar);return()=>{y.setUpLocationChangeListener()}}},{provide:Pa,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?Xi(2,[{provide:Pa,useValue:0},{provide:m.hnV,multi:!0,deps:[m.zZn],useFactory:y=>{const p=y.get(rn.hj,Promise.resolve());return()=>p.then(()=>new Promise(b=>{const M=y.get(Ar),k=y.get(Js);Ea(M,()=>{b(!0)}),y.get(hi).afterPreactivation=()=>(b(!0),k.closed?(0,oe.of)(void 0):k),M.initialNavigation()}))}}]).\u0275providers:[]]}const Ps=new m.nKC("")},467:(rt,_e,F)=>{function m(pe,ce,J,oe,me,ie,re){try{var se=pe[ie](re),ee=se.value}catch(Ce){return void J(Ce)}se.done?ce(ee):Promise.resolve(ee).then(oe,me)}function e(pe){return function(){var ce=this,J=arguments;return new Promise(function(oe,me){var ie=pe.apply(ce,J);function re(ee){m(ie,oe,me,re,se,"next",ee)}function se(ee){m(ie,oe,me,re,se,"throw",ee)}re(void 0)})}}F.d(_e,{A:()=>e})},1635:(rt,_e,F)=>{function Ce(Y,Z,Q,ae){return new(Q||(Q=Promise))(function(we,We){function lt(Rt){try{at(ae.next(Rt))}catch(Jt){We(Jt)}}function Kt(Rt){try{at(ae.throw(Rt))}catch(Jt){We(Jt)}}function at(Rt){Rt.done?we(Rt.value):function Pe(we){return we instanceof Q?we:new Q(function(We){We(we)})}(Rt.value).then(lt,Kt)}at((ae=ae.apply(Y,Z||[])).next())})}function ve(Y){return this instanceof ve?(this.v=Y,this):new ve(Y)}function Se(Y,Z,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ae=Q.apply(Y,Z||[]),we=[];return Pe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),lt("next"),lt("throw"),lt("return",function We(_t){return function(_n){return Promise.resolve(_n).then(_t,Jt)}}),Pe[Symbol.asyncIterator]=function(){return this},Pe;function lt(_t,_n){ae[_t]&&(Pe[_t]=function(Yt){return new Promise(function(Ye,Ke){we.push([_t,Yt,Ye,Ke])>1||Kt(_t,Yt)})},_n&&(Pe[_t]=_n(Pe[_t])))}function Kt(_t,_n){try{!function at(_t){_t.value instanceof ve?Promise.resolve(_t.value.v).then(Rt,Jt):ur(we[0][2],_t)}(ae[_t](_n))}catch(Yt){ur(we[0][3],Yt)}}function Rt(_t){Kt("next",_t)}function Jt(_t){Kt("throw",_t)}function ur(_t,_n){_t(_n),we.shift(),we.length&&Kt(we[0][0],we[0][1])}}function tt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,Z=Y[Symbol.asyncIterator];return Z?Z.call(Y):(Y=function jt(Y){var Z="function"==typeof Symbol&&Symbol.iterator,Q=Z&&Y[Z],ae=0;if(Q)return Q.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ae>=Y.length&&(Y=void 0),{value:Y&&Y[ae++],done:!Y}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),Q={},ae("next"),ae("throw"),ae("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function ae(we){Q[we]=Y[we]&&function(We){return new Promise(function(lt,Kt){!function Pe(we,We,lt,Kt){Promise.resolve(Kt).then(function(at){we({value:at,done:lt})},We)}(lt,Kt,(We=Y[we](We)).done,We.value)})}}}F.d(_e,{AQ:()=>Se,N3:()=>ve,sH:()=>Ce,xN:()=>tt}),"function"==typeof SuppressedError&&SuppressedError}},rt=>{rt(rt.s=219)}]);